{"version":3,"file":"static/webpack/static/development/pages/ecommerce-consulting.js.2402fc54a4e3ae5133dd.hot-update.js","sources":["webpack:///./components/homeSection.js"],"sourcesContent":["import React, { Component } from \"react\"\nimport styled from \"styled-components\"\nimport VisibilitySensor from \"react-visibility-sensor\"\nimport Button from \"../components/button\"\nimport media from \"../styles/mediaQueries\"\nimport { white } from \"../styles/colors\"\n\nconst Overlay = styled.section`\n  height: 100%;\n  width: 100%;\n  ${media.smallTablet`max-width: 27rem;`}\n\n  padding: 0 1.2rem;\n  ${media.smallTablet`padding: 0 3rem;`}\n\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-direction: column;\n`\n\nconst SectionWithBackgroundImage = styled.div`\n  height: 100vh;\n  width: 100vw;\n  background-size: cover;\n  background-position: 50%;\n  ${props => props.background && `background: ${props.background};`}\n`\n\nconst Title = styled.h2`\n  color: rgb(${white});\n  font-size: 2.4rem;\n  ${media.smallTablet`font-size: 3rem;`}\n  font-weight: 800;\n  letter-spacing: -2px;\n`\n\nconst ButtonWrapper = styled.div`\n  margin-top: 1rem;\n`\n\nclass HomeSection extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      showBackgroundImage: false\n    };\n\n    if (typeof window !== \"undefined\") {\n      window.Modernizr.on(\"webplossless\", function(hasWebp) {\n        if (hasWebp) {\n          console.log(\"Browser has WebP support\");\n        } else {\n          console.log(\"No WebP for you\");\n        }\n      });\n\n      window.Modernizr.on(\"jpeg2000\", function(hasJpeg2000) {\n        if (hasJpeg2000) {\n          console.log(\"Browser has JPEG 2000 support\");\n        } else {\n          console.log(\"No JPEG 2000 for you\")\n        }\n      });\n    }\n  }\n\n  handleLoadBackgroundImage = (visible) => {\n    console.log(`${this.props.title} ${visible ? \"visible\" : \"hidden\"}`)\n\n    if (visible) {\n      this.setState({\n        showBackgroundImage: true\n      })\n    }\n  }\n\n  render() {\n    const { backgroundImage, buttonColor, buttonHref, buttonText, overlayColor, title } = this.props;\n    const { showBackgroundImage } = this.state;\n\n    let imageExtension = \"jpg\";\n\n    if (window && window.Modernizr && window.Modernizr.webplossless) {\n      imageExtension = \"webp\";\n    } else if (window && window.Modernizr && window.Modernizr.jpeg2000) {\n      imageExtension = \"jp2\";\n    }\n\n    const backgroundImageUrl = `${backgroundImage}.${imageExtension}`;\n\n    return (\n      <SectionWithBackgroundImage\n        background={showBackgroundImage ? `url(${backgroundImageUrl})` : `rgb(${buttonColor})`}\n      >\n        <Overlay style={{backgroundColor: `rgba(${overlayColor}, .57)`}}>\n          <VisibilitySensor\n            onChange={this.handleLoadBackgroundImage}\n          >\n            <Title dangerouslySetInnerHTML={{__html: title}}/>\n          </VisibilitySensor>\n          <ButtonWrapper>\n            <Button color={buttonColor} href={buttonHref}>{buttonText}</Button>\n          </ButtonWrapper>\n        </Overlay>\n      </SectionWithBackgroundImage>\n    )\n  }\n}\n\nexport default HomeSection\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAKA;AAAA;AAGA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA2BA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAhCA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;AAwBA;AACA;;;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAnEA;AACA;AAqEA;;;;A","sourceRoot":""}