{"version":3,"file":"static/webpack/static/development/pages/_app.js.f8341a4f14403fb799f0.hot-update.js","sources":["webpack:///./node_modules/react-messenger-customer-chat/lib/MessengerCustomerChat.js","webpack:///./node_modules/react-messenger-customer-chat/lib/index.js","webpack:///./pages/_app.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar removeElementByIds = function removeElementByIds(ids) {\n  ids.forEach(function (id) {\n    var element = document.getElementById(id);\n    if (element && element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  });\n};\n\nvar MessengerCustomerChat = function (_Component) {\n  _inherits(MessengerCustomerChat, _Component);\n\n  function MessengerCustomerChat() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MessengerCustomerChat);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MessengerCustomerChat.__proto__ || Object.getPrototypeOf(MessengerCustomerChat)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      fbLoaded: false,\n      shouldShowDialog: undefined\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MessengerCustomerChat, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setFbAsyncInit();\n      this.reloadSDKAsynchronously();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.pageId !== this.props.pageId || prevProps.appId !== this.props.appId || prevProps.shouldShowDialog !== this.props.shouldShowDialog || prevProps.htmlRef !== this.props.htmlRef || prevProps.minimized !== this.props.minimized || prevProps.themeColor !== this.props.themeColor || prevProps.loggedInGreeting !== this.props.loggedInGreeting || prevProps.loggedOutGreeting !== this.props.loggedOutGreeting || prevProps.greetingDialogDisplay !== this.props.greetingDialogDisplay || prevProps.greetingDialogDelay !== this.props.greetingDialogDelay || prevProps.autoLogAppEvents !== this.props.autoLogAppEvents || prevProps.xfbml !== this.props.xfbml || prevProps.version !== this.props.version || prevProps.language !== this.props.language) {\n        this.setFbAsyncInit();\n        this.reloadSDKAsynchronously();\n      }\n    }\n  }, {\n    key: 'setFbAsyncInit',\n    value: function setFbAsyncInit() {\n      var _this2 = this;\n\n      var _props = this.props,\n          appId = _props.appId,\n          autoLogAppEvents = _props.autoLogAppEvents,\n          xfbml = _props.xfbml,\n          version = _props.version;\n\n\n      window.fbAsyncInit = function () {\n        window.FB.init({\n          appId: appId,\n          autoLogAppEvents: autoLogAppEvents,\n          xfbml: xfbml,\n          version: 'v' + version\n        });\n\n        _this2.setState({ fbLoaded: true });\n      };\n    }\n  }, {\n    key: 'loadSDKAsynchronously',\n    value: function loadSDKAsynchronously() {\n      var language = this.props.language;\n      /* eslint-disable */\n\n      (function (d, s, id) {\n        var js,\n            fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) {\n          return;\n        }\n        js = d.createElement(s);\n        js.id = id;\n        js.src = 'https://connect.facebook.net/' + language + '/sdk/xfbml.customerchat.js';\n        fjs.parentNode.insertBefore(js, fjs);\n      })(document, 'script', 'facebook-jssdk');\n      /* eslint-enable */\n    }\n  }, {\n    key: 'removeFacebookSDK',\n    value: function removeFacebookSDK() {\n      removeElementByIds(['facebook-jssdk', 'fb-root']);\n\n      delete window.FB;\n    }\n  }, {\n    key: 'reloadSDKAsynchronously',\n    value: function reloadSDKAsynchronously() {\n      this.removeFacebookSDK();\n      this.loadSDKAsynchronously();\n    }\n  }, {\n    key: 'controlPlugin',\n    value: function controlPlugin() {\n      var shouldShowDialog = this.props.shouldShowDialog;\n\n\n      if (shouldShowDialog) {\n        window.FB.CustomerChat.showDialog();\n      } else {\n        window.FB.CustomerChat.hideDialog();\n      }\n    }\n  }, {\n    key: 'subscribeEvents',\n    value: function subscribeEvents() {\n      var _props2 = this.props,\n          onCustomerChatDialogShow = _props2.onCustomerChatDialogShow,\n          onCustomerChatDialogHide = _props2.onCustomerChatDialogHide;\n\n\n      if (onCustomerChatDialogShow) {\n        window.FB.Event.subscribe('customerchat.dialogShow', onCustomerChatDialogShow);\n      }\n\n      if (onCustomerChatDialogHide) {\n        window.FB.Event.subscribe('customerchat.dialogHide', onCustomerChatDialogHide);\n      }\n    }\n  }, {\n    key: 'createMarkup',\n    value: function createMarkup() {\n      var _props3 = this.props,\n          pageId = _props3.pageId,\n          htmlRef = _props3.htmlRef,\n          minimized = _props3.minimized,\n          themeColor = _props3.themeColor,\n          loggedInGreeting = _props3.loggedInGreeting,\n          loggedOutGreeting = _props3.loggedOutGreeting,\n          greetingDialogDisplay = _props3.greetingDialogDisplay,\n          greetingDialogDelay = _props3.greetingDialogDelay;\n\n\n      var refAttribute = htmlRef !== undefined ? 'ref=\"' + htmlRef + '\"' : '';\n      var minimizedAttribute = minimized !== undefined ? 'minimized=\"' + minimized + '\"' : '';\n      var themeColorAttribute = themeColor !== undefined ? 'theme_color=\"' + themeColor + '\"' : '';\n      var loggedInGreetingAttribute = loggedInGreeting !== undefined ? 'logged_in_greeting=\"' + loggedInGreeting + '\"' : '';\n      var loggedOutGreetingAttribute = loggedOutGreeting !== undefined ? 'logged_out_greeting=\"' + loggedOutGreeting + '\"' : '';\n      var greetingDialogDisplayAttribute = greetingDialogDisplay !== undefined ? 'greeting_dialog_display=\"' + greetingDialogDisplay + '\"' : '';\n      var greetingDialogDelayAttribute = greetingDialogDelay !== undefined ? 'greeting_dialog_delay=\"' + greetingDialogDelay + '\"' : '';\n\n      return {\n        __html: '<div\\n        class=\"fb-customerchat\"\\n        page_id=\"' + pageId + '\"\\n        ' + refAttribute + '\\n        ' + minimizedAttribute + '\\n        ' + themeColorAttribute + '\\n        ' + loggedInGreetingAttribute + '\\n        ' + loggedOutGreetingAttribute + '\\n        ' + greetingDialogDisplayAttribute + '\\n        ' + greetingDialogDelayAttribute + '\\n      ></div>'\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _state = this.state,\n          fbLoaded = _state.fbLoaded,\n          shouldShowDialog = _state.shouldShowDialog;\n\n\n      if (fbLoaded && shouldShowDialog !== this.props.shouldShowDialog) {\n        document.addEventListener('DOMNodeInserted', function (event) {\n          var element = event.target;\n          if (element.className && typeof element.className === 'string' && element.className.includes('fb_dialog')) {\n            _this3.controlPlugin();\n          }\n        }, false);\n        this.subscribeEvents();\n      }\n      // Add a random key to rerender. Reference:\n      // https://stackoverflow.com/questions/30242530/dangerouslysetinnerhtml-doesnt-update-during-render\n      return _react2.default.createElement('div', { key: Date(), dangerouslySetInnerHTML: this.createMarkup() });\n    }\n  }]);\n\n  return MessengerCustomerChat;\n}(_react.Component);\n\nMessengerCustomerChat.propTypes = {\n  pageId: _propTypes2.default.string.isRequired,\n  appId: _propTypes2.default.string.isRequired,\n\n  shouldShowDialog: _propTypes2.default.bool,\n  htmlRef: _propTypes2.default.string,\n  minimized: _propTypes2.default.bool,\n  themeColor: _propTypes2.default.string,\n  loggedInGreeting: _propTypes2.default.string,\n  loggedOutGreeting: _propTypes2.default.string,\n  greetingDialogDisplay: _propTypes2.default.oneOf(['show', 'hide', 'fade']),\n  greetingDialogDelay: _propTypes2.default.number,\n  autoLogAppEvents: _propTypes2.default.bool,\n  xfbml: _propTypes2.default.bool,\n  version: _propTypes2.default.string,\n  language: _propTypes2.default.string,\n  onCustomerChatDialogShow: _propTypes2.default.func,\n  onCustomerChatDialogHide: _propTypes2.default.func\n};\nMessengerCustomerChat.defaultProps = {\n  shouldShowDialog: false,\n  htmlRef: undefined,\n  minimized: undefined,\n  themeColor: undefined,\n  loggedInGreeting: undefined,\n  loggedOutGreeting: undefined,\n  greetingDialogDisplay: undefined,\n  greetingDialogDelay: undefined,\n  autoLogAppEvents: true,\n  xfbml: true,\n  version: '2.11',\n  language: 'en_US',\n  onCustomerChatDialogShow: undefined,\n  onCustomerChatDialogHide: undefined\n};\nexports.default = MessengerCustomerChat;","'use strict';\n\nvar _MessengerCustomerChat = require('./MessengerCustomerChat');\n\nvar _MessengerCustomerChat2 = _interopRequireDefault(_MessengerCustomerChat);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _MessengerCustomerChat2.default;","import React from \"react\"\nimport App, { Container } from \"next/app\"\nimport Router from \"next/router\"\nimport withGA from \"next-ga\"\nimport FullStory from \"react-fullstory\"\nimport MessengerCustomerChat from \"react-messenger-customer-chat\"\nimport { initializeGoogleAds } from \"../utils/googleAds\"\n\nclass CustomApp extends App {\n  static async getInitialProps({ Component, router, ctx }) {\n    let pageProps = {}\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx)\n    }\n\n    return { pageProps }\n  }\n\n  componentDidMount() {\n    initializeGoogleAds()\n  }\n\n  render() {\n    const { Component, pageProps } = this.props\n\n    return (\n      <Container>\n        <Component {...pageProps} />\n        {process.browser && window.location.hostname === \"outgrow.io\" && <FullStory key=\"fullstory\" org=\"J1X09\" />}\n        <MessengerCustomerChat\n          pageId=\"2484584108224578\"\n          appId=\"facebook-jssdk\"\n          htmlRef=\"messenger-customer-chat\"\n          themeColor=\"#016FB9\" \n          loggedInGreeting=\"Welcome to out:grow. How can we help?\"\n          loggedOutGreeting=\"Welcome to out:grow. How can we help?\"\n        />\n      </Container>\n    )\n  }\n}\n\nexport default withGA(\"UA-132569116-1\", Router)(CustomApp);\n\n"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAWA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;;;;;;;;;;;;AA/BA;AACA;AACA;AACA;;;;;;AACA;AACA;;AADA;AACA;;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AATA;AACA;AAkCA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}