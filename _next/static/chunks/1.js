(window["webpackJsonp_N_E"] = window["webpackJsonp_N_E"] || []).push([[1],{

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcz8xZmI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFZOztBQUVaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsU0FBUztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/base64-js/index.js\n");

/***/ }),

/***/ "./node_modules/bson/dist/bson.browser.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/bson/dist/bson.browser.esm.js ***!
  \****************************************************/
/*! exports provided: default, BSON_INT32_MAX, BSON_INT32_MIN, BSON_INT64_MAX, BSON_INT64_MIN, JS_INT_MAX, JS_INT_MIN, BSON_DATA_NUMBER, BSON_DATA_STRING, BSON_DATA_OBJECT, BSON_DATA_ARRAY, BSON_DATA_BINARY, BSON_DATA_UNDEFINED, BSON_DATA_OID, BSON_DATA_BOOLEAN, BSON_DATA_DATE, BSON_DATA_NULL, BSON_DATA_REGEXP, BSON_DATA_DBPOINTER, BSON_DATA_CODE, BSON_DATA_SYMBOL, BSON_DATA_CODE_W_SCOPE, BSON_DATA_INT, BSON_DATA_TIMESTAMP, BSON_DATA_LONG, BSON_DATA_DECIMAL128, BSON_DATA_MIN_KEY, BSON_DATA_MAX_KEY, BSON_BINARY_SUBTYPE_DEFAULT, BSON_BINARY_SUBTYPE_FUNCTION, BSON_BINARY_SUBTYPE_BYTE_ARRAY, BSON_BINARY_SUBTYPE_UUID, BSON_BINARY_SUBTYPE_MD5, BSON_BINARY_SUBTYPE_USER_DEFINED, Code, BSONSymbol, DBRef, Binary, ObjectId, Long, Timestamp, Double, Int32, MinKey, MaxKey, BSONRegExp, Decimal128, serialize, serializeWithBufferAndIndex, deserialize, calculateObjectSize, deserializeStream, setInternalBufferSize, ObjectID, EJSON */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_INT32_MAX\", function() { return bson_1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_INT32_MIN\", function() { return bson_2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_INT64_MAX\", function() { return bson_3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_INT64_MIN\", function() { return bson_4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JS_INT_MAX\", function() { return bson_5; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JS_INT_MIN\", function() { return bson_6; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_NUMBER\", function() { return bson_7; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_STRING\", function() { return bson_8; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_OBJECT\", function() { return bson_9; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_ARRAY\", function() { return bson_10; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_BINARY\", function() { return bson_11; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_UNDEFINED\", function() { return bson_12; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_OID\", function() { return bson_13; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_BOOLEAN\", function() { return bson_14; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_DATE\", function() { return bson_15; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_NULL\", function() { return bson_16; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_REGEXP\", function() { return bson_17; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_DBPOINTER\", function() { return bson_18; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_CODE\", function() { return bson_19; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_SYMBOL\", function() { return bson_20; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_CODE_W_SCOPE\", function() { return bson_21; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_INT\", function() { return bson_22; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_TIMESTAMP\", function() { return bson_23; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_LONG\", function() { return bson_24; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_DECIMAL128\", function() { return bson_25; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_MIN_KEY\", function() { return bson_26; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_DATA_MAX_KEY\", function() { return bson_27; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_BINARY_SUBTYPE_DEFAULT\", function() { return bson_28; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_BINARY_SUBTYPE_FUNCTION\", function() { return bson_29; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_BINARY_SUBTYPE_BYTE_ARRAY\", function() { return bson_30; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_BINARY_SUBTYPE_UUID\", function() { return bson_31; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_BINARY_SUBTYPE_MD5\", function() { return bson_32; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSON_BINARY_SUBTYPE_USER_DEFINED\", function() { return bson_33; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Code\", function() { return bson_34; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSONSymbol\", function() { return bson_35; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DBRef\", function() { return bson_36; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Binary\", function() { return bson_37; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectId\", function() { return bson_38; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Long\", function() { return bson_39; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Timestamp\", function() { return bson_40; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Double\", function() { return bson_41; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Int32\", function() { return bson_42; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MinKey\", function() { return bson_43; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MaxKey\", function() { return bson_44; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BSONRegExp\", function() { return bson_45; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Decimal128\", function() { return bson_46; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"serialize\", function() { return bson_47; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"serializeWithBufferAndIndex\", function() { return bson_48; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deserialize\", function() { return bson_49; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateObjectSize\", function() { return bson_50; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deserializeStream\", function() { return bson_51; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setInternalBufferSize\", function() { return bson_52; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectID\", function() { return bson_53; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EJSON\", function() { return bson_54; });\n/* harmony import */ var long__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! long */ \"./node_modules/long/src/long.js\");\n/* harmony import */ var long__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar map = createCommonjsModule(function (module) {\n\n  if (typeof commonjsGlobal.Map !== 'undefined') {\n    module.exports = commonjsGlobal.Map;\n    module.exports.Map = commonjsGlobal.Map;\n  } else {\n    // We will return a polyfill\n    var Map = function Map(array) {\n      this._keys = [];\n      this._values = {};\n\n      for (var i = 0; i < array.length; i++) {\n        if (array[i] == null) continue; // skip null and undefined\n\n        var entry = array[i];\n        var key = entry[0];\n        var value = entry[1]; // Add the key to the list of keys in order\n\n        this._keys.push(key); // Add the key and value to the values dictionary with a point\n        // to the location in the ordered keys list\n\n\n        this._values[key] = {\n          v: value,\n          i: this._keys.length - 1\n        };\n      }\n    };\n\n    Map.prototype.clear = function () {\n      this._keys = [];\n      this._values = {};\n    };\n\n    Map.prototype.delete = function (key) {\n      var value = this._values[key];\n      if (value == null) return false; // Delete entry\n\n      delete this._values[key]; // Remove the key from the ordered keys list\n\n      this._keys.splice(value.i, 1);\n\n      return true;\n    };\n\n    Map.prototype.entries = function () {\n      var self = this;\n      var index = 0;\n      return {\n        next: function next() {\n          var key = self._keys[index++];\n          return {\n            value: key !== undefined ? [key, self._values[key].v] : undefined,\n            done: key !== undefined ? false : true\n          };\n        }\n      };\n    };\n\n    Map.prototype.forEach = function (callback, self) {\n      self = self || this;\n\n      for (var i = 0; i < this._keys.length; i++) {\n        var key = this._keys[i]; // Call the forEach callback\n\n        callback.call(self, this._values[key].v, key, self);\n      }\n    };\n\n    Map.prototype.get = function (key) {\n      return this._values[key] ? this._values[key].v : undefined;\n    };\n\n    Map.prototype.has = function (key) {\n      return this._values[key] != null;\n    };\n\n    Map.prototype.keys = function () {\n      var self = this;\n      var index = 0;\n      return {\n        next: function next() {\n          var key = self._keys[index++];\n          return {\n            value: key !== undefined ? key : undefined,\n            done: key !== undefined ? false : true\n          };\n        }\n      };\n    };\n\n    Map.prototype.set = function (key, value) {\n      if (this._values[key]) {\n        this._values[key].v = value;\n        return this;\n      } // Add the key to the list of keys in order\n\n\n      this._keys.push(key); // Add the key and value to the values dictionary with a point\n      // to the location in the ordered keys list\n\n\n      this._values[key] = {\n        v: value,\n        i: this._keys.length - 1\n      };\n      return this;\n    };\n\n    Map.prototype.values = function () {\n      var self = this;\n      var index = 0;\n      return {\n        next: function next() {\n          var key = self._keys[index++];\n          return {\n            value: key !== undefined ? self._values[key].v : undefined,\n            done: key !== undefined ? false : true\n          };\n        }\n      };\n    }; // Last ismaster\n\n\n    Object.defineProperty(Map.prototype, 'size', {\n      enumerable: true,\n      get: function get() {\n        return this._keys.length;\n      }\n    });\n    module.exports = Map;\n  }\n});\nvar map_1 = map.Map;\n\n/**\n * @ignore\n */\n\n\nlong__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON = function (options) {\n  if (options && options.relaxed) return this.toNumber();\n  return {\n    $numberLong: this.toString()\n  };\n};\n/**\n * @ignore\n */\n\n\nlong__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON = function (doc, options) {\n  var result = long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(doc.$numberLong);\n  return options && options.relaxed ? result.toNumber() : result;\n};\n\nObject.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype, '_bsontype', {\n  value: 'Long'\n});\nvar long_1 = long__WEBPACK_IMPORTED_MODULE_0___default.a;\n\n/**\n * A class representation of the BSON Double type.\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Double =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a Double type\n   *\n   * @param {number} value the number we want to represent as a double.\n   * @return {Double}\n   */\n  function Double(value) {\n    _classCallCheck(this, Double);\n\n    this.value = value;\n  }\n  /**\n   * Access the number value.\n   *\n   * @method\n   * @return {number} returns the wrapped double number.\n   */\n\n\n  _createClass(Double, [{\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON(options) {\n      if (options && options.relaxed && isFinite(this.value)) return this.value;\n      return {\n        $numberDouble: this.value.toString()\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc, options) {\n      return options && options.relaxed ? parseFloat(doc.$numberDouble) : new Double(parseFloat(doc.$numberDouble));\n    }\n  }]);\n\n  return Double;\n}();\n\nObject.defineProperty(Double.prototype, '_bsontype', {\n  value: 'Double'\n});\nvar double_1 = Double;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$1(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$1(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$1(Constructor.prototype, protoProps); if (staticProps) _defineProperties$1(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/**\n * @class\n * @param {number} low  the low (signed) 32 bits of the Timestamp.\n * @param {number} high the high (signed) 32 bits of the Timestamp.\n * @return {Timestamp}\n */\n\n\nvar Timestamp =\n/*#__PURE__*/\nfunction (_Long) {\n  _inherits(Timestamp, _Long);\n\n  function Timestamp(low, high) {\n    var _this;\n\n    _classCallCheck$1(this, Timestamp);\n\n    if (long_1.isLong(low)) {\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Timestamp).call(this, low.low, low.high));\n    } else {\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Timestamp).call(this, low, high));\n    }\n\n    return _possibleConstructorReturn(_this);\n  }\n  /**\n   * Return the JSON value.\n   *\n   * @method\n   * @return {String} the JSON representation.\n   */\n\n\n  _createClass$1(Timestamp, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        $timestamp: this.toString()\n      };\n    }\n    /**\n     * Returns a Timestamp represented by the given (32-bit) integer value.\n     *\n     * @method\n     * @param {number} value the 32-bit integer in question.\n     * @return {Timestamp} the timestamp.\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n\n    /**\n     * @ignore\n     */\n    value: function toExtendedJSON() {\n      return {\n        $timestamp: {\n          t: this.high,\n          i: this.low\n        }\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromInt\",\n    value: function fromInt(value) {\n      return new Timestamp(long_1.fromInt(value));\n    }\n    /**\n     * Returns a Timestamp representing the given number value, provided that it is a finite number. Otherwise, zero is returned.\n     *\n     * @method\n     * @param {number} value the number in question.\n     * @return {Timestamp} the timestamp.\n     */\n\n  }, {\n    key: \"fromNumber\",\n    value: function fromNumber(value) {\n      return new Timestamp(long_1.fromNumber(value));\n    }\n    /**\n     * Returns a Timestamp for the given high and low bits. Each is assumed to use 32 bits.\n     *\n     * @method\n     * @param {number} lowBits the low 32-bits.\n     * @param {number} highBits the high 32-bits.\n     * @return {Timestamp} the timestamp.\n     */\n\n  }, {\n    key: \"fromBits\",\n    value: function fromBits(lowBits, highBits) {\n      return new Timestamp(lowBits, highBits);\n    }\n    /**\n     * Returns a Timestamp from the given string, optionally using the given radix.\n     *\n     * @method\n     * @param {String} str the textual representation of the Timestamp.\n     * @param {number} [opt_radix] the radix in which the text is written.\n     * @return {Timestamp} the timestamp.\n     */\n\n  }, {\n    key: \"fromString\",\n    value: function fromString(str, opt_radix) {\n      return new Timestamp(long_1.fromString(str, opt_radix));\n    }\n  }, {\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc) {\n      return new Timestamp(doc.$timestamp.i, doc.$timestamp.t);\n    }\n  }]);\n\n  return Timestamp;\n}(long_1);\n\nObject.defineProperty(Timestamp.prototype, '_bsontype', {\n  value: 'Timestamp'\n});\nvar timestamp = Timestamp;\n\nvar require$$0 = {};\n\n/* global window */\n\n/**\n * Normalizes our expected stringified form of a function across versions of node\n * @param {Function} fn The function to stringify\n */\n\n\nfunction normalizedFunctionString(fn) {\n  return fn.toString().replace('function(', 'function (');\n}\n\nfunction insecureRandomBytes(size) {\n  var result = new Uint8Array(size);\n\n  for (var i = 0; i < size; ++i) {\n    result[i] = Math.floor(Math.random() * 256);\n  }\n\n  return result;\n}\n\nvar randomBytes = insecureRandomBytes;\n\nif (typeof window !== 'undefined' && window.crypto && window.crypto.getRandomValues) {\n  randomBytes = function randomBytes(size) {\n    return window.crypto.getRandomValues(new Uint8Array(size));\n  };\n} else {\n  try {\n    randomBytes = require$$0.randomBytes;\n  } catch (e) {} // keep the fallback\n  // NOTE: in transpiled cases the above require might return null/undefined\n\n\n  if (randomBytes == null) {\n    randomBytes = insecureRandomBytes;\n  }\n}\n\nvar utils = {\n  normalizedFunctionString: normalizedFunctionString,\n  randomBytes: randomBytes\n};\n\n// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\n\nif (typeof global.setTimeout === 'function') {\n  cachedSetTimeout = setTimeout;\n}\n\nif (typeof global.clearTimeout === 'function') {\n  cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nfunction nextTick(fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n} // v8 likes predictible objects\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nvar title = 'browser';\nvar platform = 'browser';\nvar browser = true;\nvar env = {};\nvar argv = [];\nvar version = ''; // empty string to avoid regexp issues\n\nvar versions = {};\nvar release = {};\nvar config = {};\n\nfunction noop() {}\n\nvar on = noop;\nvar addListener = noop;\nvar once = noop;\nvar off = noop;\nvar removeListener = noop;\nvar removeAllListeners = noop;\nvar emit = noop;\nfunction binding(name) {\n  throw new Error('process.binding is not supported');\n}\nfunction cwd() {\n  return '/';\n}\nfunction chdir(dir) {\n  throw new Error('process.chdir is not supported');\n}\nfunction umask() {\n  return 0;\n} // from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\n\nvar performance = global.performance || {};\n\nvar performanceNow = performance.now || performance.mozNow || performance.msNow || performance.oNow || performance.webkitNow || function () {\n  return new Date().getTime();\n}; // generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\n\n\nfunction hrtime(previousTimestamp) {\n  var clocktime = performanceNow.call(performance) * 1e-3;\n  var seconds = Math.floor(clocktime);\n  var nanoseconds = Math.floor(clocktime % 1 * 1e9);\n\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0];\n    nanoseconds = nanoseconds - previousTimestamp[1];\n\n    if (nanoseconds < 0) {\n      seconds--;\n      nanoseconds += 1e9;\n    }\n  }\n\n  return [seconds, nanoseconds];\n}\nvar startTime = new Date();\nfunction uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\nvar process = {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n\nvar inherits;\n\nif (typeof Object.create === 'function') {\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n\n    var TempCtor = function TempCtor() {};\n\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  };\n}\n\nvar inherits$1 = inherits;\n\nfunction _typeof$1(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\nvar formatRegExp = /%[sdj%]/g;\nfunction format(f) {\n  if (!isString(f)) {\n    var objects = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function (x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n\n    switch (x) {\n      case '%s':\n        return String(args[i++]);\n\n      case '%d':\n        return Number(args[i++]);\n\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n\n      default:\n        return x;\n    }\n  });\n\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n\n  return str;\n}\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\n\nfunction deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function () {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n\n  function deprecated() {\n    if (!warned) {\n      {\n        console.error(msg);\n      }\n\n      warned = true;\n    }\n\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\nvar debugs = {};\nvar debugEnviron;\nfunction debuglog(set) {\n  if (isUndefined(debugEnviron)) debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n\n      debugs[set] = function () {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function () {};\n    }\n  }\n\n  return debugs[set];\n}\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n\n/* legacy: obj, showHidden, depth, colors*/\n\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  }; // legacy...\n\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  } // set default options\n\n\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n} // http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\n\ninspect.colors = {\n  'bold': [1, 22],\n  'italic': [3, 23],\n  'underline': [4, 24],\n  'inverse': [7, 27],\n  'white': [37, 39],\n  'grey': [90, 39],\n  'black': [30, 39],\n  'blue': [34, 39],\n  'cyan': [36, 39],\n  'green': [32, 39],\n  'magenta': [35, 39],\n  'red': [31, 39],\n  'yellow': [33, 39]\n}; // Don't use 'blue' not visible on cmd.exe\n\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return \"\\x1B[\" + inspect.colors[style][0] + 'm' + str + \"\\x1B[\" + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\nfunction arrayToHash(array) {\n  var hash = {};\n  array.forEach(function (val, idx) {\n    hash[val] = true;\n  });\n  return hash;\n}\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect && value && isFunction(value.inspect) && // Filter out the util module, it's inspect function is special\n  value.inspect !== inspect && // Also filter out any prototype objects using the circular check.\n  !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n\n    return ret;\n  } // Primitive types cannot have properties\n\n\n  var primitive = formatPrimitive(ctx, value);\n\n  if (primitive) {\n    return primitive;\n  } // Look up the keys of the object.\n\n\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  } // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n\n\n  if (isError(value) && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  } // Some type of object without properties can be shortcutted.\n\n\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '',\n      array = false,\n      braces = ['{', '}']; // Make Array say that they are Array\n\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  } // Make functions say that they are functions\n\n\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  } // Make RegExps say that they are RegExps\n\n\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  } // Make dates with properties first say the date\n\n\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  } // Make error with message first say the error\n\n\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n  var output;\n\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function (key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n  return reduceToSingleString(output, base, braces);\n}\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');\n\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '').replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n\n  if (isNumber(value)) return ctx.stylize('' + value, 'number');\n  if (isBoolean(value)) return ctx.stylize('' + value, 'boolean'); // For some reason typeof null is \"object\", so special case here.\n\n  if (isNull(value)) return ctx.stylize('null', 'null');\n}\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n\n  keys.forEach(function (key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));\n    }\n  });\n  return output;\n}\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || {\n    value: value[key]\n  };\n\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function (line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function (line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n\n    name = JSON.stringify('' + key);\n\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"').replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\nfunction reduceToSingleString(output, base, braces) {\n  var length = output.reduce(function (prev, cur) {\n    if (cur.indexOf('\\n') >= 0) ;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] + (base === '' ? '' : base + '\\n ') + ' ' + output.join(',\\n  ') + ' ' + braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n} // NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nfunction isNull(arg) {\n  return arg === null;\n}\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nfunction isSymbol(arg) {\n  return _typeof$1(arg) === 'symbol';\n}\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nfunction isObject(arg) {\n  return _typeof$1(arg) === 'object' && arg !== null;\n}\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nfunction isError(e) {\n  return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nfunction isPrimitive(arg) {\n  return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || _typeof$1(arg) === 'symbol' || // ES6 symbol\n  typeof arg === 'undefined';\n}\nfunction isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; // 26 Feb 16:19:34\n\nfunction timestamp$1() {\n  var d = new Date();\n  var time = [pad(d.getHours()), pad(d.getMinutes()), pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n} // log is just a thin wrapper to console.log that prepends a timestamp\n\n\nfunction log() {\n  console.log('%s - %s', timestamp$1(), format.apply(null, arguments));\n}\nfunction _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n  var keys = Object.keys(add);\n  var i = keys.length;\n\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n\n  return origin;\n}\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar util = {\n  inherits: inherits$1,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n};\n\nfunction _classCallCheck$2(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$2(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$2(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$2(Constructor.prototype, protoProps); if (staticProps) _defineProperties$2(Constructor, staticProps); return Constructor; }\n\nvar Buffer$1 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer;\nvar randomBytes$1 = utils.randomBytes;\nvar deprecate$1 = util.deprecate; // constants\n\nvar PROCESS_UNIQUE = randomBytes$1(5); // Regular expression that checks for hex value\n\nvar checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\nvar hasBufferType = false; // Check if buffer exists\n\ntry {\n  if (Buffer$1 && Buffer$1.from) hasBufferType = true;\n} catch (err) {\n  hasBufferType = false;\n} // Precomputed hex table enables speedy hex string conversion\n\n\nvar hexTable = [];\n\nfor (var _i = 0; _i < 256; _i++) {\n  hexTable[_i] = (_i <= 15 ? '0' : '') + _i.toString(16);\n} // Lookup tables\n\n\nvar decodeLookup = [];\nvar i = 0;\n\nwhile (i < 10) {\n  decodeLookup[0x30 + i] = i++;\n}\n\nwhile (i < 16) {\n  decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\n}\n\nvar _Buffer = Buffer$1;\n\nfunction convertToHex(bytes) {\n  return bytes.toString('hex');\n}\n\nfunction makeObjectIdError(invalidString, index) {\n  var invalidCharacter = invalidString[index];\n  return new TypeError(\"ObjectId string \\\"\".concat(invalidString, \"\\\" contains invalid character \\\"\").concat(invalidCharacter, \"\\\" with character code (\").concat(invalidString.charCodeAt(index), \"). All character codes for a non-hex string must be less than 256.\"));\n}\n/**\n * A class representation of the BSON ObjectId type.\n */\n\n\nvar ObjectId =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create an ObjectId type\n   *\n   * @param {(string|Buffer|number)} id Can be a 24 byte hex string, 12 byte binary Buffer, or a Number.\n   * @property {number} generationTime The generation time of this ObjectId instance\n   * @return {ObjectId} instance of ObjectId.\n   */\n  function ObjectId(id) {\n    _classCallCheck$2(this, ObjectId);\n\n    // Duck-typing to support ObjectId from different npm packages\n    if (id instanceof ObjectId) return id; // The most common usecase (blank id, new objectId instance)\n\n    if (id == null || typeof id === 'number') {\n      // Generate a new id\n      this.id = ObjectId.generate(id); // If we are caching the hex string\n\n      if (ObjectId.cacheHexString) this.__id = this.toString('hex'); // Return the object\n\n      return;\n    } // Check if the passed in id is valid\n\n\n    var valid = ObjectId.isValid(id); // Throw an error if it's not a valid setup\n\n    if (!valid && id != null) {\n      throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n    } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\n      return new ObjectId(Buffer$1.from(id, 'hex'));\n    } else if (valid && typeof id === 'string' && id.length === 24) {\n      return ObjectId.createFromHexString(id);\n    } else if (id != null && id.length === 12) {\n      // assume 12 byte string\n      this.id = id;\n    } else if (id != null && id.toHexString) {\n      // Duck-typing to support ObjectId from different npm packages\n      return ObjectId.createFromHexString(id.toHexString());\n    } else {\n      throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n    }\n\n    if (ObjectId.cacheHexString) this.__id = this.toString('hex');\n  }\n  /**\n   * Return the ObjectId id as a 24 byte hex string representation\n   *\n   * @method\n   * @return {string} return the 24 byte hex string representation.\n   */\n\n\n  _createClass$2(ObjectId, [{\n    key: \"toHexString\",\n    value: function toHexString() {\n      if (ObjectId.cacheHexString && this.__id) return this.__id;\n      var hexString = '';\n\n      if (!this.id || !this.id.length) {\n        throw new TypeError('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');\n      }\n\n      if (this.id instanceof _Buffer) {\n        hexString = convertToHex(this.id);\n        if (ObjectId.cacheHexString) this.__id = hexString;\n        return hexString;\n      }\n\n      for (var _i2 = 0; _i2 < this.id.length; _i2++) {\n        var hexChar = hexTable[this.id.charCodeAt(_i2)];\n\n        if (typeof hexChar !== 'string') {\n          throw makeObjectIdError(this.id, _i2);\n        }\n\n        hexString += hexChar;\n      }\n\n      if (ObjectId.cacheHexString) this.__id = hexString;\n      return hexString;\n    }\n    /**\n     * Update the ObjectId index used in generating new ObjectId's on the driver\n     *\n     * @method\n     * @return {number} returns next index value.\n     * @ignore\n     */\n\n  }, {\n    key: \"toString\",\n\n    /**\n     * Converts the id into a 24 byte hex string for printing\n     *\n     * @param {String} format The Buffer toString format parameter.\n     * @return {String} return the 24 byte hex string representation.\n     * @ignore\n     */\n    value: function toString(format) {\n      // Is the id a buffer then use the buffer toString method to return the format\n      if (this.id && this.id.copy) {\n        return this.id.toString(typeof format === 'string' ? format : 'hex');\n      }\n\n      return this.toHexString();\n    }\n    /**\n     * Converts to its JSON representation.\n     *\n     * @return {String} return the 24 byte hex string representation.\n     * @ignore\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.toHexString();\n    }\n    /**\n     * Compares the equality of this ObjectId with `otherID`.\n     *\n     * @method\n     * @param {object} otherId ObjectId instance to compare against.\n     * @return {boolean} the result of comparing two ObjectId's\n     */\n\n  }, {\n    key: \"equals\",\n    value: function equals(otherId) {\n      if (otherId instanceof ObjectId) {\n        return this.toString() === otherId.toString();\n      }\n\n      if (typeof otherId === 'string' && ObjectId.isValid(otherId) && otherId.length === 12 && this.id instanceof _Buffer) {\n        return otherId === this.id.toString('binary');\n      }\n\n      if (typeof otherId === 'string' && ObjectId.isValid(otherId) && otherId.length === 24) {\n        return otherId.toLowerCase() === this.toHexString();\n      }\n\n      if (typeof otherId === 'string' && ObjectId.isValid(otherId) && otherId.length === 12) {\n        return otherId === this.id;\n      }\n\n      if (otherId != null && (otherId instanceof ObjectId || otherId.toHexString)) {\n        return otherId.toHexString() === this.toHexString();\n      }\n\n      return false;\n    }\n    /**\n     * Returns the generation date (accurate up to the second) that this ID was generated.\n     *\n     * @method\n     * @return {Date} the generation date\n     */\n\n  }, {\n    key: \"getTimestamp\",\n    value: function getTimestamp() {\n      var timestamp = new Date();\n      var time = this.id.readUInt32BE(0);\n      timestamp.setTime(Math.floor(time) * 1000);\n      return timestamp;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n\n    /**\n     * @ignore\n     */\n    value: function toExtendedJSON() {\n      if (this.toHexString) return {\n        $oid: this.toHexString()\n      };\n      return {\n        $oid: this.toString('hex')\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"getInc\",\n    value: function getInc() {\n      return ObjectId.index = (ObjectId.index + 1) % 0xffffff;\n    }\n    /**\n     * Generate a 12 byte id buffer used in ObjectId's\n     *\n     * @method\n     * @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n     * @return {Buffer} return the 12 byte id buffer string.\n     */\n\n  }, {\n    key: \"generate\",\n    value: function generate(time) {\n      if ('number' !== typeof time) {\n        time = ~~(Date.now() / 1000);\n      }\n\n      var inc = ObjectId.getInc();\n      var buffer$$1 = Buffer$1.alloc(12); // 4-byte timestamp\n\n      buffer$$1[3] = time & 0xff;\n      buffer$$1[2] = time >> 8 & 0xff;\n      buffer$$1[1] = time >> 16 & 0xff;\n      buffer$$1[0] = time >> 24 & 0xff; // 5-byte process unique\n\n      buffer$$1[4] = PROCESS_UNIQUE[0];\n      buffer$$1[5] = PROCESS_UNIQUE[1];\n      buffer$$1[6] = PROCESS_UNIQUE[2];\n      buffer$$1[7] = PROCESS_UNIQUE[3];\n      buffer$$1[8] = PROCESS_UNIQUE[4]; // 3-byte counter\n\n      buffer$$1[11] = inc & 0xff;\n      buffer$$1[10] = inc >> 8 & 0xff;\n      buffer$$1[9] = inc >> 16 & 0xff;\n      return buffer$$1;\n    }\n  }, {\n    key: \"createPk\",\n    value: function createPk() {\n      return new ObjectId();\n    }\n    /**\n     * Creates an ObjectId from a second based number, with the rest of the ObjectId zeroed out. Used for comparisons or sorting the ObjectId.\n     *\n     * @method\n     * @param {number} time an integer number representing a number of seconds.\n     * @return {ObjectId} return the created ObjectId\n     */\n\n  }, {\n    key: \"createFromTime\",\n    value: function createFromTime(time) {\n      var buffer$$1 = Buffer$1.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]); // Encode time into first 4 bytes\n\n      buffer$$1[3] = time & 0xff;\n      buffer$$1[2] = time >> 8 & 0xff;\n      buffer$$1[1] = time >> 16 & 0xff;\n      buffer$$1[0] = time >> 24 & 0xff; // Return the new objectId\n\n      return new ObjectId(buffer$$1);\n    }\n    /**\n     * Creates an ObjectId from a hex string representation of an ObjectId.\n     *\n     * @method\n     * @param {string} hexString create a ObjectId from a passed in 24 byte hexstring.\n     * @return {ObjectId} return the created ObjectId\n     */\n\n  }, {\n    key: \"createFromHexString\",\n    value: function createFromHexString(string) {\n      // Throw an error if it's not a valid setup\n      if (typeof string === 'undefined' || string != null && string.length !== 24) {\n        throw new TypeError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n      } // Use Buffer.from method if available\n\n\n      if (hasBufferType) return new ObjectId(Buffer$1.from(string, 'hex')); // Calculate lengths\n\n      var array = new _Buffer(12);\n      var n = 0;\n      var i = 0;\n\n      while (i < 24) {\n        array[n++] = decodeLookup[string.charCodeAt(i++)] << 4 | decodeLookup[string.charCodeAt(i++)];\n      }\n\n      return new ObjectId(array);\n    }\n    /**\n     * Checks if a value is a valid bson ObjectId\n     *\n     * @method\n     * @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n     */\n\n  }, {\n    key: \"isValid\",\n    value: function isValid(id) {\n      if (id == null) return false;\n\n      if (typeof id === 'number') {\n        return true;\n      }\n\n      if (typeof id === 'string') {\n        return id.length === 12 || id.length === 24 && checkForHexRegExp.test(id);\n      }\n\n      if (id instanceof ObjectId) {\n        return true;\n      }\n\n      if (id instanceof _Buffer && id.length === 12) {\n        return true;\n      } // Duck-Typing detection of ObjectId like objects\n\n\n      if (id.toHexString) {\n        return id.id.length === 12 || id.id.length === 24 && checkForHexRegExp.test(id.id);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc) {\n      return new ObjectId(doc.$oid);\n    }\n  }]);\n\n  return ObjectId;\n}(); // Deprecated methods\n\n\nObjectId.get_inc = deprecate$1(function () {\n  return ObjectId.getInc();\n}, 'Please use the static `ObjectId.getInc()` instead');\nObjectId.prototype.get_inc = deprecate$1(function () {\n  return ObjectId.getInc();\n}, 'Please use the static `ObjectId.getInc()` instead');\nObjectId.prototype.getInc = deprecate$1(function () {\n  return ObjectId.getInc();\n}, 'Please use the static `ObjectId.getInc()` instead');\nObjectId.prototype.generate = deprecate$1(function (time) {\n  return ObjectId.generate(time);\n}, 'Please use the static `ObjectId.generate(time)` instead');\n/**\n * @ignore\n */\n\nObject.defineProperty(ObjectId.prototype, 'generationTime', {\n  enumerable: true,\n  get: function get() {\n    return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n  },\n  set: function set(value) {\n    // Encode time into first 4 bytes\n    this.id[3] = value & 0xff;\n    this.id[2] = value >> 8 & 0xff;\n    this.id[1] = value >> 16 & 0xff;\n    this.id[0] = value >> 24 & 0xff;\n  }\n});\n/**\n * Converts to a string representation of this Id.\n *\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\n\nObjectId.prototype[util.inspect.custom || 'inspect'] = ObjectId.prototype.toString;\n/**\n * @ignore\n */\n\nObjectId.index = ~~(Math.random() * 0xffffff); // In 4.0.0 and 4.0.1, this property name was changed to ObjectId to match the class name.\n// This caused interoperability problems with previous versions of the library, so in\n// later builds we changed it back to ObjectID (capital D) to match legacy implementations.\n\nObject.defineProperty(ObjectId.prototype, '_bsontype', {\n  value: 'ObjectID'\n});\nvar objectid = ObjectId;\n\nfunction _classCallCheck$3(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$3(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$3(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$3(Constructor.prototype, protoProps); if (staticProps) _defineProperties$3(Constructor, staticProps); return Constructor; }\n\nfunction alphabetize(str) {\n  return str.split('').sort().join('');\n}\n/**\n * A class representation of the BSON RegExp type.\n */\n\n\nvar BSONRegExp =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a RegExp type\n   *\n   * @param {string} pattern The regular expression pattern to match\n   * @param {string} options The regular expression options\n   */\n  function BSONRegExp(pattern, options) {\n    _classCallCheck$3(this, BSONRegExp);\n\n    // Execute\n    this.pattern = pattern || '';\n    this.options = options ? alphabetize(options) : ''; // Validate options\n\n    for (var i = 0; i < this.options.length; i++) {\n      if (!(this.options[i] === 'i' || this.options[i] === 'm' || this.options[i] === 'x' || this.options[i] === 'l' || this.options[i] === 's' || this.options[i] === 'u')) {\n        throw new Error(\"The regular expression option [\".concat(this.options[i], \"] is not supported\"));\n      }\n    }\n  }\n  /**\n   * @ignore\n   */\n\n\n  _createClass$3(BSONRegExp, [{\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON() {\n      return {\n        $regularExpression: {\n          pattern: this.pattern,\n          options: this.options\n        }\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc) {\n      return new BSONRegExp(doc.$regularExpression.pattern, doc.$regularExpression.options.split('').sort().join(''));\n    }\n  }]);\n\n  return BSONRegExp;\n}();\n\nObject.defineProperty(BSONRegExp.prototype, '_bsontype', {\n  value: 'BSONRegExp'\n});\nvar regexp = BSONRegExp;\n\n/**\n * A class representation of the BSON Symbol type.\n */\n\nfunction _classCallCheck$4(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$4(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$4(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$4(Constructor.prototype, protoProps); if (staticProps) _defineProperties$4(Constructor, staticProps); return Constructor; }\n\nvar BSONSymbol =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a Symbol type\n   *\n   * @param {string} value the string representing the symbol.\n   */\n  function BSONSymbol(value) {\n    _classCallCheck$4(this, BSONSymbol);\n\n    this.value = value;\n  }\n  /**\n   * Access the wrapped string value.\n   *\n   * @method\n   * @return {String} returns the wrapped string.\n   */\n\n\n  _createClass$4(BSONSymbol, [{\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"inspect\",\n    value: function inspect() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON() {\n      return {\n        $symbol: this.value\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc) {\n      return new BSONSymbol(doc.$symbol);\n    }\n  }]);\n\n  return BSONSymbol;\n}();\n\nObject.defineProperty(BSONSymbol.prototype, '_bsontype', {\n  value: 'Symbol'\n});\nvar symbol = BSONSymbol;\n\n/**\n * A class representation of a BSON Int32 type.\n */\n\nfunction _classCallCheck$5(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$5(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$5(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$5(Constructor.prototype, protoProps); if (staticProps) _defineProperties$5(Constructor, staticProps); return Constructor; }\n\nvar Int32 =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create an Int32 type\n   *\n   * @param {number} value the number we want to represent as an int32.\n   * @return {Int32}\n   */\n  function Int32(value) {\n    _classCallCheck$5(this, Int32);\n\n    this.value = value;\n  }\n  /**\n   * Access the number value.\n   *\n   * @method\n   * @return {number} returns the wrapped int32 number.\n   */\n\n\n  _createClass$5(Int32, [{\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.value;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON(options) {\n      if (options && options.relaxed) return this.value;\n      return {\n        $numberInt: this.value.toString()\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc, options) {\n      return options && options.relaxed ? parseInt(doc.$numberInt, 10) : new Int32(doc.$numberInt);\n    }\n  }]);\n\n  return Int32;\n}();\n\nObject.defineProperty(Int32.prototype, '_bsontype', {\n  value: 'Int32'\n});\nvar int_32 = Int32;\n\n/**\n * A class representation of the BSON Code type.\n */\n\nfunction _classCallCheck$6(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$6(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$6(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$6(Constructor.prototype, protoProps); if (staticProps) _defineProperties$6(Constructor, staticProps); return Constructor; }\n\nvar Code =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a Code type\n   *\n   * @param {(string|function)} code a string or function.\n   * @param {Object} [scope] an optional scope for the function.\n   * @return {Code}\n   */\n  function Code(code, scope) {\n    _classCallCheck$6(this, Code);\n\n    this.code = code;\n    this.scope = scope;\n  }\n  /**\n   * @ignore\n   */\n\n\n  _createClass$6(Code, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        scope: this.scope,\n        code: this.code\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON() {\n      if (this.scope) {\n        return {\n          $code: this.code,\n          $scope: this.scope\n        };\n      }\n\n      return {\n        $code: this.code\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc) {\n      return new Code(doc.$code, doc.$scope);\n    }\n  }]);\n\n  return Code;\n}();\n\nObject.defineProperty(Code.prototype, '_bsontype', {\n  value: 'Code'\n});\nvar code = Code;\n\nvar Buffer$2 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer;\nvar PARSE_STRING_REGEXP = /^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/;\nvar PARSE_INF_REGEXP = /^(\\+|-)?(Infinity|inf)$/i;\nvar PARSE_NAN_REGEXP = /^(\\+|-)?NaN$/i;\nvar EXPONENT_MAX = 6111;\nvar EXPONENT_MIN = -6176;\nvar EXPONENT_BIAS = 6176;\nvar MAX_DIGITS = 34; // Nan value bits as 32 bit values (due to lack of longs)\n\nvar NAN_BUFFER = [0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse(); // Infinity value bits 32 bit values (due to lack of longs)\n\nvar INF_NEGATIVE_BUFFER = [0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\nvar INF_POSITIVE_BUFFER = [0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\nvar EXPONENT_REGEX = /^([-+])?(\\d+)?$/; // Detect if the value is a digit\n\nfunction isDigit(value) {\n  return !isNaN(parseInt(value, 10));\n} // Divide two uint128 values\n\n\nfunction divideu128(value) {\n  var DIVISOR = long_1.fromNumber(1000 * 1000 * 1000);\n\n  var _rem = long_1.fromNumber(0);\n\n  if (!value.parts[0] && !value.parts[1] && !value.parts[2] && !value.parts[3]) {\n    return {\n      quotient: value,\n      rem: _rem\n    };\n  }\n\n  for (var i = 0; i <= 3; i++) {\n    // Adjust remainder to match value of next dividend\n    _rem = _rem.shiftLeft(32); // Add the divided to _rem\n\n    _rem = _rem.add(new long_1(value.parts[i], 0));\n    value.parts[i] = _rem.div(DIVISOR).low;\n    _rem = _rem.modulo(DIVISOR);\n  }\n\n  return {\n    quotient: value,\n    rem: _rem\n  };\n} // Multiply two Long values and return the 128 bit value\n\n\nfunction multiply64x2(left, right) {\n  if (!left && !right) {\n    return {\n      high: long_1.fromNumber(0),\n      low: long_1.fromNumber(0)\n    };\n  }\n\n  var leftHigh = left.shiftRightUnsigned(32);\n  var leftLow = new long_1(left.getLowBits(), 0);\n  var rightHigh = right.shiftRightUnsigned(32);\n  var rightLow = new long_1(right.getLowBits(), 0);\n  var productHigh = leftHigh.multiply(rightHigh);\n  var productMid = leftHigh.multiply(rightLow);\n  var productMid2 = leftLow.multiply(rightHigh);\n  var productLow = leftLow.multiply(rightLow);\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productMid = new long_1(productMid.getLowBits(), 0).add(productMid2).add(productLow.shiftRightUnsigned(32));\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productLow = productMid.shiftLeft(32).add(new long_1(productLow.getLowBits(), 0)); // Return the 128 bit result\n\n  return {\n    high: productHigh,\n    low: productLow\n  };\n}\n\nfunction lessThan(left, right) {\n  // Make values unsigned\n  var uhleft = left.high >>> 0;\n  var uhright = right.high >>> 0; // Compare high bits first\n\n  if (uhleft < uhright) {\n    return true;\n  } else if (uhleft === uhright) {\n    var ulleft = left.low >>> 0;\n    var ulright = right.low >>> 0;\n    if (ulleft < ulright) return true;\n  }\n\n  return false;\n}\n\nfunction invalidErr(string, message) {\n  throw new TypeError(\"\\\"\".concat(string, \"\\\" is not a valid Decimal128 string - \").concat(message));\n}\n/**\n * A class representation of the BSON Decimal128 type.\n *\n * @class\n * @param {Buffer} bytes a buffer containing the raw Decimal128 bytes.\n * @return {Double}\n */\n\n\nfunction Decimal128(bytes) {\n  this.bytes = bytes;\n}\n/**\n * Create a Decimal128 instance from a string representation\n *\n * @method\n * @param {string} string a numeric string representation.\n * @return {Decimal128} returns a Decimal128 instance.\n */\n\n\nDecimal128.fromString = function (string) {\n  // Parse state tracking\n  var isNegative = false;\n  var sawRadix = false;\n  var foundNonZero = false; // Total number of significant digits (no leading or trailing zero)\n\n  var significantDigits = 0; // Total number of significand digits read\n\n  var nDigitsRead = 0; // Total number of digits (no leading zeros)\n\n  var nDigits = 0; // The number of the digits after radix\n\n  var radixPosition = 0; // The index of the first non-zero in *str*\n\n  var firstNonZero = 0; // Digits Array\n\n  var digits = [0]; // The number of digits in digits\n\n  var nDigitsStored = 0; // Insertion pointer for digits\n\n  var digitsInsert = 0; // The index of the first non-zero digit\n\n  var firstDigit = 0; // The index of the last digit\n\n  var lastDigit = 0; // Exponent\n\n  var exponent = 0; // loop index over array\n\n  var i = 0; // The high 17 digits of the significand\n\n  var significandHigh = [0, 0]; // The low 17 digits of the significand\n\n  var significandLow = [0, 0]; // The biased exponent\n\n  var biasedExponent = 0; // Read index\n\n  var index = 0; // Naively prevent against REDOS attacks.\n  // TODO: implementing a custom parsing for this, or refactoring the regex would yield\n  //       further gains.\n\n  if (string.length >= 7000) {\n    throw new TypeError('' + string + ' not a valid Decimal128 string');\n  } // Results\n\n\n  var stringMatch = string.match(PARSE_STRING_REGEXP);\n  var infMatch = string.match(PARSE_INF_REGEXP);\n  var nanMatch = string.match(PARSE_NAN_REGEXP); // Validate the string\n\n  if (!stringMatch && !infMatch && !nanMatch || string.length === 0) {\n    throw new TypeError('' + string + ' not a valid Decimal128 string');\n  }\n\n  if (stringMatch) {\n    // full_match = stringMatch[0]\n    // sign = stringMatch[1]\n    var unsignedNumber = stringMatch[2]; // stringMatch[3] is undefined if a whole number (ex \"1\", 12\")\n    // but defined if a number w/ decimal in it (ex \"1.0, 12.2\")\n\n    var e = stringMatch[4];\n    var expSign = stringMatch[5];\n    var expNumber = stringMatch[6]; // they provided e, but didn't give an exponent number. for ex \"1e\"\n\n    if (e && expNumber === undefined) invalidErr(string, 'missing exponent power'); // they provided e, but didn't give a number before it. for ex \"e1\"\n\n    if (e && unsignedNumber === undefined) invalidErr(string, 'missing exponent base');\n\n    if (e === undefined && (expSign || expNumber)) {\n      invalidErr(string, 'missing e before exponent');\n    }\n  } // Get the negative or positive sign\n\n\n  if (string[index] === '+' || string[index] === '-') {\n    isNegative = string[index++] === '-';\n  } // Check if user passed Infinity or NaN\n\n\n  if (!isDigit(string[index]) && string[index] !== '.') {\n    if (string[index] === 'i' || string[index] === 'I') {\n      return new Decimal128(Buffer$2.from(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n    } else if (string[index] === 'N') {\n      return new Decimal128(Buffer$2.from(NAN_BUFFER));\n    }\n  } // Read all the digits\n\n\n  while (isDigit(string[index]) || string[index] === '.') {\n    if (string[index] === '.') {\n      if (sawRadix) invalidErr(string, 'contains multiple periods');\n      sawRadix = true;\n      index = index + 1;\n      continue;\n    }\n\n    if (nDigitsStored < 34) {\n      if (string[index] !== '0' || foundNonZero) {\n        if (!foundNonZero) {\n          firstNonZero = nDigitsRead;\n        }\n\n        foundNonZero = true; // Only store 34 digits\n\n        digits[digitsInsert++] = parseInt(string[index], 10);\n        nDigitsStored = nDigitsStored + 1;\n      }\n    }\n\n    if (foundNonZero) nDigits = nDigits + 1;\n    if (sawRadix) radixPosition = radixPosition + 1;\n    nDigitsRead = nDigitsRead + 1;\n    index = index + 1;\n  }\n\n  if (sawRadix && !nDigitsRead) throw new TypeError('' + string + ' not a valid Decimal128 string'); // Read exponent if exists\n\n  if (string[index] === 'e' || string[index] === 'E') {\n    // Read exponent digits\n    var match = string.substr(++index).match(EXPONENT_REGEX); // No digits read\n\n    if (!match || !match[2]) return new Decimal128(Buffer$2.from(NAN_BUFFER)); // Get exponent\n\n    exponent = parseInt(match[0], 10); // Adjust the index\n\n    index = index + match[0].length;\n  } // Return not a number\n\n\n  if (string[index]) return new Decimal128(Buffer$2.from(NAN_BUFFER)); // Done reading input\n  // Find first non-zero digit in digits\n\n  firstDigit = 0;\n\n  if (!nDigitsStored) {\n    firstDigit = 0;\n    lastDigit = 0;\n    digits[0] = 0;\n    nDigits = 1;\n    nDigitsStored = 1;\n    significantDigits = 0;\n  } else {\n    lastDigit = nDigitsStored - 1;\n    significantDigits = nDigits;\n\n    if (significantDigits !== 1) {\n      while (string[firstNonZero + significantDigits - 1] === '0') {\n        significantDigits = significantDigits - 1;\n      }\n    }\n  } // Normalization of exponent\n  // Correct exponent based on radix position, and shift significand as needed\n  // to represent user input\n  // Overflow prevention\n\n\n  if (exponent <= radixPosition && radixPosition - exponent > 1 << 14) {\n    exponent = EXPONENT_MIN;\n  } else {\n    exponent = exponent - radixPosition;\n  } // Attempt to normalize the exponent\n\n\n  while (exponent > EXPONENT_MAX) {\n    // Shift exponent to significand and decrease\n    lastDigit = lastDigit + 1;\n\n    if (lastDigit - firstDigit > MAX_DIGITS) {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n\n      if (digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n\n      invalidErr(string, 'overflow');\n    }\n\n    exponent = exponent - 1;\n  }\n\n  while (exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n    // Shift last digit. can only do this if < significant digits than # stored.\n    if (lastDigit === 0 && significantDigits < nDigitsStored) {\n      exponent = EXPONENT_MIN;\n      significantDigits = 0;\n      break;\n    }\n\n    if (nDigitsStored < nDigits) {\n      // adjust to match digits not stored\n      nDigits = nDigits - 1;\n    } else {\n      // adjust to round\n      lastDigit = lastDigit - 1;\n    }\n\n    if (exponent < EXPONENT_MAX) {\n      exponent = exponent + 1;\n    } else {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var _digitsString = digits.join('');\n\n      if (_digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n\n      invalidErr(string, 'overflow');\n    }\n  } // Round\n  // We've normalized the exponent, but might still need to round.\n\n\n  if (lastDigit - firstDigit + 1 < significantDigits) {\n    var endOfString = nDigitsRead; // If we have seen a radix point, 'string' is 1 longer than we have\n    // documented with ndigits_read, so inc the position of the first nonzero\n    // digit and the position that digits are read to.\n\n    if (sawRadix) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    } // if negative, we need to increment again to account for - sign at start.\n\n\n    if (isNegative) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n\n    var roundDigit = parseInt(string[firstNonZero + lastDigit + 1], 10);\n    var roundBit = 0;\n\n    if (roundDigit >= 5) {\n      roundBit = 1;\n\n      if (roundDigit === 5) {\n        roundBit = digits[lastDigit] % 2 === 1;\n\n        for (i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n          if (parseInt(string[i], 10)) {\n            roundBit = 1;\n            break;\n          }\n        }\n      }\n    }\n\n    if (roundBit) {\n      var dIdx = lastDigit;\n\n      for (; dIdx >= 0; dIdx--) {\n        if (++digits[dIdx] > 9) {\n          digits[dIdx] = 0; // overflowed most significant digit\n\n          if (dIdx === 0) {\n            if (exponent < EXPONENT_MAX) {\n              exponent = exponent + 1;\n              digits[dIdx] = 1;\n            } else {\n              return new Decimal128(Buffer$2.from(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n            }\n          }\n        }\n      }\n    }\n  } // Encode significand\n  // The high 17 digits of the significand\n\n\n  significandHigh = long_1.fromNumber(0); // The low 17 digits of the significand\n\n  significandLow = long_1.fromNumber(0); // read a zero\n\n  if (significantDigits === 0) {\n    significandHigh = long_1.fromNumber(0);\n    significandLow = long_1.fromNumber(0);\n  } else if (lastDigit - firstDigit < 17) {\n    var _dIdx = firstDigit;\n    significandLow = long_1.fromNumber(digits[_dIdx++]);\n    significandHigh = new long_1(0, 0);\n\n    for (; _dIdx <= lastDigit; _dIdx++) {\n      significandLow = significandLow.multiply(long_1.fromNumber(10));\n      significandLow = significandLow.add(long_1.fromNumber(digits[_dIdx]));\n    }\n  } else {\n    var _dIdx2 = firstDigit;\n    significandHigh = long_1.fromNumber(digits[_dIdx2++]);\n\n    for (; _dIdx2 <= lastDigit - 17; _dIdx2++) {\n      significandHigh = significandHigh.multiply(long_1.fromNumber(10));\n      significandHigh = significandHigh.add(long_1.fromNumber(digits[_dIdx2]));\n    }\n\n    significandLow = long_1.fromNumber(digits[_dIdx2++]);\n\n    for (; _dIdx2 <= lastDigit; _dIdx2++) {\n      significandLow = significandLow.multiply(long_1.fromNumber(10));\n      significandLow = significandLow.add(long_1.fromNumber(digits[_dIdx2]));\n    }\n  }\n\n  var significand = multiply64x2(significandHigh, long_1.fromString('100000000000000000'));\n  significand.low = significand.low.add(significandLow);\n\n  if (lessThan(significand.low, significandLow)) {\n    significand.high = significand.high.add(long_1.fromNumber(1));\n  } // Biased exponent\n\n\n  biasedExponent = exponent + EXPONENT_BIAS;\n  var dec = {\n    low: long_1.fromNumber(0),\n    high: long_1.fromNumber(0)\n  }; // Encode combination, exponent, and significand.\n\n  if (significand.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))) {\n    // Encode '11' into bits 1 to 3\n    dec.high = dec.high.or(long_1.fromNumber(0x3).shiftLeft(61));\n    dec.high = dec.high.or(long_1.fromNumber(biasedExponent).and(long_1.fromNumber(0x3fff).shiftLeft(47)));\n    dec.high = dec.high.or(significand.high.and(long_1.fromNumber(0x7fffffffffff)));\n  } else {\n    dec.high = dec.high.or(long_1.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n    dec.high = dec.high.or(significand.high.and(long_1.fromNumber(0x1ffffffffffff)));\n  }\n\n  dec.low = significand.low; // Encode sign\n\n  if (isNegative) {\n    dec.high = dec.high.or(long_1.fromString('9223372036854775808'));\n  } // Encode into a buffer\n\n\n  var buffer$$1 = Buffer$2.alloc(16);\n  index = 0; // Encode the low 64 bits of the decimal\n  // Encode low bits\n\n  buffer$$1[index++] = dec.low.low & 0xff;\n  buffer$$1[index++] = dec.low.low >> 8 & 0xff;\n  buffer$$1[index++] = dec.low.low >> 16 & 0xff;\n  buffer$$1[index++] = dec.low.low >> 24 & 0xff; // Encode high bits\n\n  buffer$$1[index++] = dec.low.high & 0xff;\n  buffer$$1[index++] = dec.low.high >> 8 & 0xff;\n  buffer$$1[index++] = dec.low.high >> 16 & 0xff;\n  buffer$$1[index++] = dec.low.high >> 24 & 0xff; // Encode the high 64 bits of the decimal\n  // Encode low bits\n\n  buffer$$1[index++] = dec.high.low & 0xff;\n  buffer$$1[index++] = dec.high.low >> 8 & 0xff;\n  buffer$$1[index++] = dec.high.low >> 16 & 0xff;\n  buffer$$1[index++] = dec.high.low >> 24 & 0xff; // Encode high bits\n\n  buffer$$1[index++] = dec.high.high & 0xff;\n  buffer$$1[index++] = dec.high.high >> 8 & 0xff;\n  buffer$$1[index++] = dec.high.high >> 16 & 0xff;\n  buffer$$1[index++] = dec.high.high >> 24 & 0xff; // Return the new Decimal128\n\n  return new Decimal128(buffer$$1);\n}; // Extract least significant 5 bits\n\n\nvar COMBINATION_MASK = 0x1f; // Extract least significant 14 bits\n\nvar EXPONENT_MASK = 0x3fff; // Value of combination field for Inf\n\nvar COMBINATION_INFINITY = 30; // Value of combination field for NaN\n\nvar COMBINATION_NAN = 31;\n/**\n * Create a string representation of the raw Decimal128 value\n *\n * @method\n * @return {string} returns a Decimal128 string representation.\n */\n\nDecimal128.prototype.toString = function () {\n  // Note: bits in this routine are referred to starting at 0,\n  // from the sign bit, towards the coefficient.\n  // bits 0 - 31\n  var high; // bits 32 - 63\n\n  var midh; // bits 64 - 95\n\n  var midl; // bits 96 - 127\n\n  var low; // bits 1 - 5\n\n  var combination; // decoded biased exponent (14 bits)\n\n  var biased_exponent; // the number of significand digits\n\n  var significand_digits = 0; // the base-10 digits in the significand\n\n  var significand = new Array(36);\n\n  for (var i = 0; i < significand.length; i++) {\n    significand[i] = 0;\n  } // read pointer into significand\n\n\n  var index = 0; // unbiased exponent\n\n  var exponent; // the exponent if scientific notation is used\n\n  var scientific_exponent; // true if the number is zero\n\n  var is_zero = false; // the most signifcant significand bits (50-46)\n\n  var significand_msb; // temporary storage for significand decoding\n\n  var significand128 = {\n    parts: new Array(4)\n  }; // indexing variables\n\n  var j, k; // Output string\n\n  var string = []; // Unpack index\n\n  index = 0; // Buffer reference\n\n  var buffer$$1 = this.bytes; // Unpack the low 64bits into a long\n\n  low = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n  midl = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24; // Unpack the high 64bits into a long\n\n  midh = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n  high = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24; // Unpack index\n\n  index = 0; // Create the state of the decimal\n\n  var dec = {\n    low: new long_1(low, midl),\n    high: new long_1(midh, high)\n  };\n\n  if (dec.high.lessThan(long_1.ZERO)) {\n    string.push('-');\n  } // Decode combination field and exponent\n\n\n  combination = high >> 26 & COMBINATION_MASK;\n\n  if (combination >> 3 === 3) {\n    // Check for 'special' values\n    if (combination === COMBINATION_INFINITY) {\n      return string.join('') + 'Infinity';\n    } else if (combination === COMBINATION_NAN) {\n      return 'NaN';\n    } else {\n      biased_exponent = high >> 15 & EXPONENT_MASK;\n      significand_msb = 0x08 + (high >> 14 & 0x01);\n    }\n  } else {\n    significand_msb = high >> 14 & 0x07;\n    biased_exponent = high >> 17 & EXPONENT_MASK;\n  }\n\n  exponent = biased_exponent - EXPONENT_BIAS; // Create string of significand digits\n  // Convert the 114-bit binary number represented by\n  // (significand_high, significand_low) to at most 34 decimal\n  // digits through modulo and division.\n\n  significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n  significand128.parts[1] = midh;\n  significand128.parts[2] = midl;\n  significand128.parts[3] = low;\n\n  if (significand128.parts[0] === 0 && significand128.parts[1] === 0 && significand128.parts[2] === 0 && significand128.parts[3] === 0) {\n    is_zero = true;\n  } else {\n    for (k = 3; k >= 0; k--) {\n      var least_digits = 0; // Peform the divide\n\n      var result = divideu128(significand128);\n      significand128 = result.quotient;\n      least_digits = result.rem.low; // We now have the 9 least significant digits (in base 2).\n      // Convert and output to string.\n\n      if (!least_digits) continue;\n\n      for (j = 8; j >= 0; j--) {\n        // significand[k * 9 + j] = Math.round(least_digits % 10);\n        significand[k * 9 + j] = least_digits % 10; // least_digits = Math.round(least_digits / 10);\n\n        least_digits = Math.floor(least_digits / 10);\n      }\n    }\n  } // Output format options:\n  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd\n  // Regular    - ddd.ddd\n\n\n  if (is_zero) {\n    significand_digits = 1;\n    significand[index] = 0;\n  } else {\n    significand_digits = 36;\n\n    while (!significand[index]) {\n      significand_digits = significand_digits - 1;\n      index = index + 1;\n    }\n  }\n\n  scientific_exponent = significand_digits - 1 + exponent; // The scientific exponent checks are dictated by the string conversion\n  // specification and are somewhat arbitrary cutoffs.\n  //\n  // We must check exponent > 0, because if this is the case, the number\n  // has trailing zeros.  However, we *cannot* output these trailing zeros,\n  // because doing so would change the precision of the value, and would\n  // change stored data if the string converted number is round tripped.\n\n  if (scientific_exponent >= 34 || scientific_exponent <= -7 || exponent > 0) {\n    // Scientific format\n    // if there are too many significant digits, we should just be treating numbers\n    // as + or - 0 and using the non-scientific exponent (this is for the \"invalid\n    // representation should be treated as 0/-0\" spec cases in decimal128-1.json)\n    if (significand_digits > 34) {\n      string.push(0);\n      if (exponent > 0) string.push('E+' + exponent);else if (exponent < 0) string.push('E' + exponent);\n      return string.join('');\n    }\n\n    string.push(significand[index++]);\n    significand_digits = significand_digits - 1;\n\n    if (significand_digits) {\n      string.push('.');\n    }\n\n    for (var _i = 0; _i < significand_digits; _i++) {\n      string.push(significand[index++]);\n    } // Exponent\n\n\n    string.push('E');\n\n    if (scientific_exponent > 0) {\n      string.push('+' + scientific_exponent);\n    } else {\n      string.push(scientific_exponent);\n    }\n  } else {\n    // Regular format with no decimal place\n    if (exponent >= 0) {\n      for (var _i2 = 0; _i2 < significand_digits; _i2++) {\n        string.push(significand[index++]);\n      }\n    } else {\n      var radix_position = significand_digits + exponent; // non-zero digits before radix\n\n      if (radix_position > 0) {\n        for (var _i3 = 0; _i3 < radix_position; _i3++) {\n          string.push(significand[index++]);\n        }\n      } else {\n        string.push('0');\n      }\n\n      string.push('.'); // add leading zeros after radix\n\n      while (radix_position++ < 0) {\n        string.push('0');\n      }\n\n      for (var _i4 = 0; _i4 < significand_digits - Math.max(radix_position - 1, 0); _i4++) {\n        string.push(significand[index++]);\n      }\n    }\n  }\n\n  return string.join('');\n};\n\nDecimal128.prototype.toJSON = function () {\n  return {\n    $numberDecimal: this.toString()\n  };\n};\n/**\n * @ignore\n */\n\n\nDecimal128.prototype.toExtendedJSON = function () {\n  return {\n    $numberDecimal: this.toString()\n  };\n};\n/**\n * @ignore\n */\n\n\nDecimal128.fromExtendedJSON = function (doc) {\n  return Decimal128.fromString(doc.$numberDecimal);\n};\n\nObject.defineProperty(Decimal128.prototype, '_bsontype', {\n  value: 'Decimal128'\n});\nvar decimal128 = Decimal128;\n\n/**\n * A class representation of the BSON MinKey type.\n */\n\nfunction _classCallCheck$7(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$7(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$7(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$7(Constructor.prototype, protoProps); if (staticProps) _defineProperties$7(Constructor, staticProps); return Constructor; }\n\nvar MinKey =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a MinKey type\n   *\n   * @return {MinKey} A MinKey instance\n   */\n  function MinKey() {\n    _classCallCheck$7(this, MinKey);\n  }\n  /**\n   * @ignore\n   */\n\n\n  _createClass$7(MinKey, [{\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON() {\n      return {\n        $minKey: 1\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON() {\n      return new MinKey();\n    }\n  }]);\n\n  return MinKey;\n}();\n\nObject.defineProperty(MinKey.prototype, '_bsontype', {\n  value: 'MinKey'\n});\nvar min_key = MinKey;\n\n/**\n * A class representation of the BSON MaxKey type.\n */\n\nfunction _classCallCheck$8(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$8(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$8(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$8(Constructor.prototype, protoProps); if (staticProps) _defineProperties$8(Constructor, staticProps); return Constructor; }\n\nvar MaxKey =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a MaxKey type\n   *\n   * @return {MaxKey} A MaxKey instance\n   */\n  function MaxKey() {\n    _classCallCheck$8(this, MaxKey);\n  }\n  /**\n   * @ignore\n   */\n\n\n  _createClass$8(MaxKey, [{\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON() {\n      return {\n        $maxKey: 1\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON() {\n      return new MaxKey();\n    }\n  }]);\n\n  return MaxKey;\n}();\n\nObject.defineProperty(MaxKey.prototype, '_bsontype', {\n  value: 'MaxKey'\n});\nvar max_key = MaxKey;\n\n/**\n * A class representation of the BSON DBRef type.\n */\n\nfunction _classCallCheck$9(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$9(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$9(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$9(Constructor.prototype, protoProps); if (staticProps) _defineProperties$9(Constructor, staticProps); return Constructor; }\n\nvar DBRef =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a DBRef type\n   *\n   * @param {string} collection the collection name.\n   * @param {ObjectId} oid the reference ObjectId.\n   * @param {string} [db] optional db name, if omitted the reference is local to the current db.\n   * @return {DBRef}\n   */\n  function DBRef(collection, oid, db, fields) {\n    _classCallCheck$9(this, DBRef);\n\n    // check if namespace has been provided\n    var parts = collection.split('.');\n\n    if (parts.length === 2) {\n      db = parts.shift();\n      collection = parts.shift();\n    }\n\n    this.collection = collection;\n    this.oid = oid;\n    this.db = db;\n    this.fields = fields || {};\n  }\n  /**\n   * @ignore\n   * @api private\n   */\n\n\n  _createClass$9(DBRef, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      var o = Object.assign({\n        $ref: this.collection,\n        $id: this.oid\n      }, this.fields);\n      if (this.db != null) o.$db = this.db;\n      return o;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON() {\n      var o = {\n        $ref: this.collection,\n        $id: this.oid\n      };\n      if (this.db) o.$db = this.db;\n      o = Object.assign(o, this.fields);\n      return o;\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc) {\n      var copy = Object.assign({}, doc);\n      ['$ref', '$id', '$db'].forEach(function (k) {\n        return delete copy[k];\n      });\n      return new DBRef(doc.$ref, doc.$id, doc.$db, copy);\n    }\n  }]);\n\n  return DBRef;\n}();\n\nObject.defineProperty(DBRef.prototype, '_bsontype', {\n  value: 'DBRef'\n}); // the 1.x parser used a \"namespace\" property, while 4.x uses \"collection\". To ensure backwards\n// compatibility, let's expose \"namespace\"\n\nObject.defineProperty(DBRef.prototype, 'namespace', {\n  get: function get() {\n    return this.collection;\n  },\n  set: function set(val) {\n    this.collection = val;\n  },\n  configurable: false\n});\nvar db_ref = DBRef;\n\nfunction _classCallCheck$a(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties$a(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass$a(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties$a(Constructor.prototype, protoProps); if (staticProps) _defineProperties$a(Constructor, staticProps); return Constructor; }\n\nvar Buffer$3 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer;\n/**\n * A class representation of the BSON Binary type.\n */\n\nvar Binary =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a Binary type\n   *\n   * Sub types\n   *  - **BSON.BSON_BINARY_SUBTYPE_DEFAULT**, default BSON type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_FUNCTION**, BSON function type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY**, BSON byte array type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_UUID**, BSON uuid type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_MD5**, BSON md5 type.\n   *  - **BSON.BSON_BINARY_SUBTYPE_USER_DEFINED**, BSON user defined type.\n   *\n   * @param {Buffer} buffer a buffer object containing the binary data.\n   * @param {Number} [subType] the option binary type.\n   * @return {Binary}\n   */\n  function Binary(buffer$$1, subType) {\n    _classCallCheck$a(this, Binary);\n\n    if (buffer$$1 != null && !(typeof buffer$$1 === 'string') && !Buffer$3.isBuffer(buffer$$1) && !(buffer$$1 instanceof Uint8Array) && !Array.isArray(buffer$$1)) {\n      throw new TypeError('only String, Buffer, Uint8Array or Array accepted');\n    }\n\n    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;\n    this.position = 0;\n\n    if (buffer$$1 != null && !(buffer$$1 instanceof Number)) {\n      // Only accept Buffer, Uint8Array or Arrays\n      if (typeof buffer$$1 === 'string') {\n        // Different ways of writing the length of the string for the different types\n        if (typeof Buffer$3 !== 'undefined') {\n          this.buffer = Buffer$3.from(buffer$$1);\n        } else if (typeof Uint8Array !== 'undefined' || Array.isArray(buffer$$1)) {\n          this.buffer = writeStringToArray(buffer$$1);\n        } else {\n          throw new TypeError('only String, Buffer, Uint8Array or Array accepted');\n        }\n      } else {\n        this.buffer = buffer$$1;\n      }\n\n      this.position = buffer$$1.length;\n    } else {\n      if (typeof Buffer$3 !== 'undefined') {\n        this.buffer = Buffer$3.alloc(Binary.BUFFER_SIZE);\n      } else if (typeof Uint8Array !== 'undefined') {\n        this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));\n      } else {\n        this.buffer = new Array(Binary.BUFFER_SIZE);\n      }\n    }\n  }\n  /**\n   * Updates this binary with byte_value.\n   *\n   * @method\n   * @param {string} byte_value a single byte we wish to write.\n   */\n\n\n  _createClass$a(Binary, [{\n    key: \"put\",\n    value: function put(byte_value) {\n      // If it's a string and a has more than one character throw an error\n      if (byte_value['length'] != null && typeof byte_value !== 'number' && byte_value.length !== 1) throw new TypeError('only accepts single character String, Uint8Array or Array');\n      if (typeof byte_value !== 'number' && byte_value < 0 || byte_value > 255) throw new TypeError('only accepts number in a valid unsigned byte range 0-255'); // Decode the byte value once\n\n      var decoded_byte = null;\n\n      if (typeof byte_value === 'string') {\n        decoded_byte = byte_value.charCodeAt(0);\n      } else if (byte_value['length'] != null) {\n        decoded_byte = byte_value[0];\n      } else {\n        decoded_byte = byte_value;\n      }\n\n      if (this.buffer.length > this.position) {\n        this.buffer[this.position++] = decoded_byte;\n      } else {\n        if (typeof Buffer$3 !== 'undefined' && Buffer$3.isBuffer(this.buffer)) {\n          // Create additional overflow buffer\n          var buffer$$1 = Buffer$3.alloc(Binary.BUFFER_SIZE + this.buffer.length); // Combine the two buffers together\n\n          this.buffer.copy(buffer$$1, 0, 0, this.buffer.length);\n          this.buffer = buffer$$1;\n          this.buffer[this.position++] = decoded_byte;\n        } else {\n          var _buffer = null; // Create a new buffer (typed or normal array)\n\n          if (isUint8Array(this.buffer)) {\n            _buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));\n          } else {\n            _buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);\n          } // We need to copy all the content to the new array\n\n\n          for (var i = 0; i < this.buffer.length; i++) {\n            _buffer[i] = this.buffer[i];\n          } // Reassign the buffer\n\n\n          this.buffer = _buffer; // Write the byte\n\n          this.buffer[this.position++] = decoded_byte;\n        }\n      }\n    }\n    /**\n     * Writes a buffer or string to the binary.\n     *\n     * @method\n     * @param {(Buffer|string)} string a string or buffer to be written to the Binary BSON object.\n     * @param {number} offset specify the binary of where to write the content.\n     * @return {null}\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(string, offset) {\n      offset = typeof offset === 'number' ? offset : this.position; // If the buffer is to small let's extend the buffer\n\n      if (this.buffer.length < offset + string.length) {\n        var buffer$$1 = null; // If we are in node.js\n\n        if (typeof Buffer$3 !== 'undefined' && Buffer$3.isBuffer(this.buffer)) {\n          buffer$$1 = Buffer$3.alloc(this.buffer.length + string.length);\n          this.buffer.copy(buffer$$1, 0, 0, this.buffer.length);\n        } else if (isUint8Array(this.buffer)) {\n          // Create a new buffer\n          buffer$$1 = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length)); // Copy the content\n\n          for (var i = 0; i < this.position; i++) {\n            buffer$$1[i] = this.buffer[i];\n          }\n        } // Assign the new buffer\n\n\n        this.buffer = buffer$$1;\n      }\n\n      if (typeof Buffer$3 !== 'undefined' && Buffer$3.isBuffer(string) && Buffer$3.isBuffer(this.buffer)) {\n        string.copy(this.buffer, offset, 0, string.length);\n        this.position = offset + string.length > this.position ? offset + string.length : this.position; // offset = string.length\n      } else if (typeof Buffer$3 !== 'undefined' && typeof string === 'string' && Buffer$3.isBuffer(this.buffer)) {\n        this.buffer.write(string, offset, 'binary');\n        this.position = offset + string.length > this.position ? offset + string.length : this.position; // offset = string.length;\n      } else if (isUint8Array(string) || Array.isArray(string) && typeof string !== 'string') {\n        for (var _i = 0; _i < string.length; _i++) {\n          this.buffer[offset++] = string[_i];\n        }\n\n        this.position = offset > this.position ? offset : this.position;\n      } else if (typeof string === 'string') {\n        for (var _i2 = 0; _i2 < string.length; _i2++) {\n          this.buffer[offset++] = string.charCodeAt(_i2);\n        }\n\n        this.position = offset > this.position ? offset : this.position;\n      }\n    }\n    /**\n     * Reads **length** bytes starting at **position**.\n     *\n     * @method\n     * @param {number} position read from the given position in the Binary.\n     * @param {number} length the number of bytes to read.\n     * @return {Buffer}\n     */\n\n  }, {\n    key: \"read\",\n    value: function read(position, length) {\n      length = length && length > 0 ? length : this.position; // Let's return the data based on the type we have\n\n      if (this.buffer['slice']) {\n        return this.buffer.slice(position, position + length);\n      } // Create a buffer to keep the result\n\n\n      var buffer$$1 = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);\n\n      for (var i = 0; i < length; i++) {\n        buffer$$1[i] = this.buffer[position++];\n      } // Return the buffer\n\n\n      return buffer$$1;\n    }\n    /**\n     * Returns the value of this binary as a string.\n     *\n     * @method\n     * @return {string}\n     */\n\n  }, {\n    key: \"value\",\n    value: function value(asRaw) {\n      asRaw = asRaw == null ? false : asRaw; // Optimize to serialize for the situation where the data == size of buffer\n\n      if (asRaw && typeof Buffer$3 !== 'undefined' && Buffer$3.isBuffer(this.buffer) && this.buffer.length === this.position) return this.buffer; // If it's a node.js buffer object\n\n      if (typeof Buffer$3 !== 'undefined' && Buffer$3.isBuffer(this.buffer)) {\n        return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);\n      } else {\n        if (asRaw) {\n          // we support the slice command use it\n          if (this.buffer['slice'] != null) {\n            return this.buffer.slice(0, this.position);\n          } else {\n            // Create a new buffer to copy content to\n            var newBuffer = isUint8Array(this.buffer) ? new Uint8Array(new ArrayBuffer(this.position)) : new Array(this.position); // Copy content\n\n            for (var i = 0; i < this.position; i++) {\n              newBuffer[i] = this.buffer[i];\n            } // Return the buffer\n\n\n            return newBuffer;\n          }\n        } else {\n          return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);\n        }\n      }\n    }\n    /**\n     * Length.\n     *\n     * @method\n     * @return {number} the length of the binary.\n     */\n\n  }, {\n    key: \"length\",\n    value: function length() {\n      return this.position;\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.buffer != null ? this.buffer.toString('base64') : '';\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toString\",\n    value: function toString(format) {\n      return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';\n    }\n    /**\n     * @ignore\n     */\n\n  }, {\n    key: \"toExtendedJSON\",\n    value: function toExtendedJSON() {\n      var base64String = Buffer$3.isBuffer(this.buffer) ? this.buffer.toString('base64') : Buffer$3.from(this.buffer).toString('base64');\n      var subType = Number(this.sub_type).toString(16);\n      return {\n        $binary: {\n          base64: base64String,\n          subType: subType.length === 1 ? '0' + subType : subType\n        }\n      };\n    }\n    /**\n     * @ignore\n     */\n\n  }], [{\n    key: \"fromExtendedJSON\",\n    value: function fromExtendedJSON(doc) {\n      var type = doc.$binary.subType ? parseInt(doc.$binary.subType, 16) : 0;\n      var data = Buffer$3.from(doc.$binary.base64, 'base64');\n      return new Binary(data, type);\n    }\n  }]);\n\n  return Binary;\n}();\n/**\n * Binary default subtype\n * @ignore\n */\n\n\nvar BSON_BINARY_SUBTYPE_DEFAULT = 0;\n\nfunction isUint8Array(obj) {\n  return Object.prototype.toString.call(obj) === '[object Uint8Array]';\n}\n/**\n * @ignore\n */\n\n\nfunction writeStringToArray(data) {\n  // Create a buffer\n  var buffer$$1 = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(data.length)) : new Array(data.length); // Write the content to the buffer\n\n  for (var i = 0; i < data.length; i++) {\n    buffer$$1[i] = data.charCodeAt(i);\n  } // Write the string to the buffer\n\n\n  return buffer$$1;\n}\n/**\n * Convert Array ot Uint8Array to Binary String\n *\n * @ignore\n */\n\n\nfunction convertArraytoUtf8BinaryString(byteArray, startIndex, endIndex) {\n  var result = '';\n\n  for (var i = startIndex; i < endIndex; i++) {\n    result = result + String.fromCharCode(byteArray[i]);\n  }\n\n  return result;\n}\n\nBinary.BUFFER_SIZE = 256;\n/**\n * Default BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\n\nBinary.SUBTYPE_DEFAULT = 0;\n/**\n * Function BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\n\nBinary.SUBTYPE_FUNCTION = 1;\n/**\n * Byte Array BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\n\nBinary.SUBTYPE_BYTE_ARRAY = 2;\n/**\n * OLD UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\n\nBinary.SUBTYPE_UUID_OLD = 3;\n/**\n * UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\n\nBinary.SUBTYPE_UUID = 4;\n/**\n * MD5 BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\n\nBinary.SUBTYPE_MD5 = 5;\n/**\n * User BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\n\nBinary.SUBTYPE_USER_DEFINED = 128;\nObject.defineProperty(Binary.prototype, '_bsontype', {\n  value: 'Binary'\n});\nvar binary = Binary;\n\nvar constants = {\n  // BSON MAX VALUES\n  BSON_INT32_MAX: 0x7fffffff,\n  BSON_INT32_MIN: -0x80000000,\n  BSON_INT64_MAX: Math.pow(2, 63) - 1,\n  BSON_INT64_MIN: -Math.pow(2, 63),\n  // JS MAX PRECISE VALUES\n  JS_INT_MAX: 0x20000000000000,\n  // Any integer up to 2^53 can be precisely represented by a double.\n  JS_INT_MIN: -0x20000000000000,\n  // Any integer down to -2^53 can be precisely represented by a double.\n\n  /**\n   * Number BSON Type\n   *\n   * @classconstant BSON_DATA_NUMBER\n   **/\n  BSON_DATA_NUMBER: 1,\n\n  /**\n   * String BSON Type\n   *\n   * @classconstant BSON_DATA_STRING\n   **/\n  BSON_DATA_STRING: 2,\n\n  /**\n   * Object BSON Type\n   *\n   * @classconstant BSON_DATA_OBJECT\n   **/\n  BSON_DATA_OBJECT: 3,\n\n  /**\n   * Array BSON Type\n   *\n   * @classconstant BSON_DATA_ARRAY\n   **/\n  BSON_DATA_ARRAY: 4,\n\n  /**\n   * Binary BSON Type\n   *\n   * @classconstant BSON_DATA_BINARY\n   **/\n  BSON_DATA_BINARY: 5,\n\n  /**\n   * Binary BSON Type\n   *\n   * @classconstant BSON_DATA_UNDEFINED\n   **/\n  BSON_DATA_UNDEFINED: 6,\n\n  /**\n   * ObjectId BSON Type\n   *\n   * @classconstant BSON_DATA_OID\n   **/\n  BSON_DATA_OID: 7,\n\n  /**\n   * Boolean BSON Type\n   *\n   * @classconstant BSON_DATA_BOOLEAN\n   **/\n  BSON_DATA_BOOLEAN: 8,\n\n  /**\n   * Date BSON Type\n   *\n   * @classconstant BSON_DATA_DATE\n   **/\n  BSON_DATA_DATE: 9,\n\n  /**\n   * null BSON Type\n   *\n   * @classconstant BSON_DATA_NULL\n   **/\n  BSON_DATA_NULL: 10,\n\n  /**\n   * RegExp BSON Type\n   *\n   * @classconstant BSON_DATA_REGEXP\n   **/\n  BSON_DATA_REGEXP: 11,\n\n  /**\n   * Code BSON Type\n   *\n   * @classconstant BSON_DATA_DBPOINTER\n   **/\n  BSON_DATA_DBPOINTER: 12,\n\n  /**\n   * Code BSON Type\n   *\n   * @classconstant BSON_DATA_CODE\n   **/\n  BSON_DATA_CODE: 13,\n\n  /**\n   * Symbol BSON Type\n   *\n   * @classconstant BSON_DATA_SYMBOL\n   **/\n  BSON_DATA_SYMBOL: 14,\n\n  /**\n   * Code with Scope BSON Type\n   *\n   * @classconstant BSON_DATA_CODE_W_SCOPE\n   **/\n  BSON_DATA_CODE_W_SCOPE: 15,\n\n  /**\n   * 32 bit Integer BSON Type\n   *\n   * @classconstant BSON_DATA_INT\n   **/\n  BSON_DATA_INT: 16,\n\n  /**\n   * Timestamp BSON Type\n   *\n   * @classconstant BSON_DATA_TIMESTAMP\n   **/\n  BSON_DATA_TIMESTAMP: 17,\n\n  /**\n   * Long BSON Type\n   *\n   * @classconstant BSON_DATA_LONG\n   **/\n  BSON_DATA_LONG: 18,\n\n  /**\n   * Long BSON Type\n   *\n   * @classconstant BSON_DATA_DECIMAL128\n   **/\n  BSON_DATA_DECIMAL128: 19,\n\n  /**\n   * MinKey BSON Type\n   *\n   * @classconstant BSON_DATA_MIN_KEY\n   **/\n  BSON_DATA_MIN_KEY: 0xff,\n\n  /**\n   * MaxKey BSON Type\n   *\n   * @classconstant BSON_DATA_MAX_KEY\n   **/\n  BSON_DATA_MAX_KEY: 0x7f,\n\n  /**\n   * Binary Default Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n   **/\n  BSON_BINARY_SUBTYPE_DEFAULT: 0,\n\n  /**\n   * Binary Function Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n   **/\n  BSON_BINARY_SUBTYPE_FUNCTION: 1,\n\n  /**\n   * Binary Byte Array Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n   **/\n  BSON_BINARY_SUBTYPE_BYTE_ARRAY: 2,\n\n  /**\n   * Binary UUID Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_UUID\n   **/\n  BSON_BINARY_SUBTYPE_UUID: 3,\n\n  /**\n   * Binary MD5 Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_MD5\n   **/\n  BSON_BINARY_SUBTYPE_MD5: 4,\n\n  /**\n   * Binary User Defined Type\n   *\n   * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n   **/\n  BSON_BINARY_SUBTYPE_USER_DEFINED: 128\n};\n\nfunction _typeof$2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n// const Map = require('./map');\n\n/**\n * @namespace EJSON\n */\n// all the types where we don't need to do any special processing and can just pass the EJSON\n//straight to type.fromExtendedJSON\n\n\nvar keysToCodecs = {\n  $oid: objectid,\n  $binary: binary,\n  $symbol: symbol,\n  $numberInt: int_32,\n  $numberDecimal: decimal128,\n  $numberDouble: double_1,\n  $numberLong: long_1,\n  $minKey: min_key,\n  $maxKey: max_key,\n  $regularExpression: regexp,\n  $timestamp: timestamp\n};\n\nfunction deserializeValue(self, key, value, options) {\n  if (typeof value === 'number') {\n    if (options.relaxed) {\n      return value;\n    } // if it's an integer, should interpret as smallest BSON integer\n    // that can represent it exactly. (if out of range, interpret as double.)\n\n\n    if (Math.floor(value) === value) {\n      if (value >= BSON_INT32_MIN && value <= BSON_INT32_MAX) return new int_32(value);\n      if (value >= BSON_INT64_MIN && value <= BSON_INT64_MAX) return new long_1.fromNumber(value);\n    } // If the number is a non-integer or out of integer range, should interpret as BSON Double.\n\n\n    return new double_1(value);\n  } // from here on out we're looking for bson types, so bail if its not an object\n\n\n  if (value == null || _typeof$2(value) !== 'object') return value; // upgrade deprecated undefined to null\n\n  if (value.$undefined) return null;\n  var keys = Object.keys(value).filter(function (k) {\n    return k.startsWith('$') && value[k] != null;\n  });\n\n  for (var i = 0; i < keys.length; i++) {\n    var c = keysToCodecs[keys[i]];\n    if (c) return c.fromExtendedJSON(value, options);\n  }\n\n  if (value.$date != null) {\n    var d = value.$date;\n    var date = new Date();\n    if (typeof d === 'string') date.setTime(Date.parse(d));else if (long_1.isLong(d)) date.setTime(d.toNumber());else if (typeof d === 'number' && options.relaxed) date.setTime(d);\n    return date;\n  }\n\n  if (value.$code != null) {\n    var copy = Object.assign({}, value);\n\n    if (value.$scope) {\n      copy.$scope = deserializeValue(self, null, value.$scope);\n    }\n\n    return code.fromExtendedJSON(value);\n  }\n\n  if (value.$ref != null || value.$dbPointer != null) {\n    var v = value.$ref ? value : value.$dbPointer; // we run into this in a \"degenerate EJSON\" case (with $id and $ref order flipped)\n    // because of the order JSON.parse goes through the document\n\n    if (v instanceof db_ref) return v;\n    var dollarKeys = Object.keys(v).filter(function (k) {\n      return k.startsWith('$');\n    });\n    var valid = true;\n    dollarKeys.forEach(function (k) {\n      if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n    }); // only make DBRef if $ keys are all valid\n\n    if (valid) return db_ref.fromExtendedJSON(v);\n  }\n\n  return value;\n}\n/**\n * Parse an Extended JSON string, constructing the JavaScript value or object described by that\n * string.\n *\n * @memberof EJSON\n * @param {string} text\n * @param {object} [options] Optional settings\n * @param {boolean} [options.relaxed=true] Attempt to return native JS types where possible, rather than BSON types (if true)\n * @return {object}\n *\n * @example\n * const { EJSON } = require('bson');\n * const text = '{ \"int32\": { \"$numberInt\": \"10\" } }';\n *\n * // prints { int32: { [String: '10'] _bsontype: 'Int32', value: '10' } }\n * console.log(EJSON.parse(text, { relaxed: false }));\n *\n * // prints { int32: 10 }\n * console.log(EJSON.parse(text));\n */\n\n\nfunction parse(text, options) {\n  var _this = this;\n\n  options = Object.assign({}, {\n    relaxed: true\n  }, options); // relaxed implies not strict\n\n  if (typeof options.relaxed === 'boolean') options.strict = !options.relaxed;\n  if (typeof options.strict === 'boolean') options.relaxed = !options.strict;\n  return JSON.parse(text, function (key, value) {\n    return deserializeValue(_this, key, value, options);\n  });\n} //\n// Serializer\n//\n// MAX INT32 boundaries\n\n\nvar BSON_INT32_MAX = 0x7fffffff,\n    BSON_INT32_MIN = -0x80000000,\n    BSON_INT64_MAX = 0x7fffffffffffffff,\n    BSON_INT64_MIN = -0x8000000000000000;\n/**\n * Converts a BSON document to an Extended JSON string, optionally replacing values if a replacer\n * function is specified or optionally including only the specified properties if a replacer array\n * is specified.\n *\n * @memberof EJSON\n * @param {object} value The value to convert to extended JSON\n * @param {function|array} [replacer] A function that alters the behavior of the stringification process, or an array of String and Number objects that serve as a whitelist for selecting/filtering the properties of the value object to be included in the JSON string. If this value is null or not provided, all properties of the object are included in the resulting JSON string\n * @param {string|number} [space] A String or Number object that's used to insert white space into the output JSON string for readability purposes.\n * @param {object} [options] Optional settings\n * @param {boolean} [options.relaxed=true] Enabled Extended JSON's `relaxed` mode\n * @returns {string}\n *\n * @example\n * const { EJSON } = require('bson');\n * const Int32 = require('mongodb').Int32;\n * const doc = { int32: new Int32(10) };\n *\n * // prints '{\"int32\":{\"$numberInt\":\"10\"}}'\n * console.log(EJSON.stringify(doc, { relaxed: false }));\n *\n * // prints '{\"int32\":10}'\n * console.log(EJSON.stringify(doc));\n */\n\nfunction stringify(value, replacer, space, options) {\n  if (space != null && _typeof$2(space) === 'object') {\n    options = space;\n    space = 0;\n  }\n\n  if (replacer != null && _typeof$2(replacer) === 'object' && !Array.isArray(replacer)) {\n    options = replacer;\n    replacer = null;\n    space = 0;\n  }\n\n  options = Object.assign({}, {\n    relaxed: true\n  }, options);\n  var doc = Array.isArray(value) ? serializeArray(value, options) : serializeDocument(value, options);\n  return JSON.stringify(doc, replacer, space);\n}\n/**\n * Serializes an object to an Extended JSON string, and reparse it as a JavaScript object.\n *\n * @memberof EJSON\n * @param {object} bson The object to serialize\n * @param {object} [options] Optional settings passed to the `stringify` function\n * @return {object}\n */\n\n\nfunction serialize(bson, options) {\n  options = options || {};\n  return JSON.parse(stringify(bson, options));\n}\n/**\n * Deserializes an Extended JSON object into a plain JavaScript object with native/BSON types\n *\n * @memberof EJSON\n * @param {object} ejson The Extended JSON object to deserialize\n * @param {object} [options] Optional settings passed to the parse method\n * @return {object}\n */\n\n\nfunction deserialize(ejson, options) {\n  options = options || {};\n  return parse(JSON.stringify(ejson), options);\n}\n\nfunction serializeArray(array, options) {\n  return array.map(function (v) {\n    return serializeValue(v, options);\n  });\n}\n\nfunction getISOString(date) {\n  var isoStr = date.toISOString(); // we should only show milliseconds in timestamp if they're non-zero\n\n  return date.getUTCMilliseconds() !== 0 ? isoStr : isoStr.slice(0, -5) + 'Z';\n}\n\nfunction serializeValue(value, options) {\n  if (Array.isArray(value)) return serializeArray(value, options);\n  if (value === undefined) return null;\n\n  if (value instanceof Date) {\n    var dateNum = value.getTime(),\n        // is it in year range 1970-9999?\n    inRange = dateNum > -1 && dateNum < 253402318800000;\n    return options.relaxed && inRange ? {\n      $date: getISOString(value)\n    } : {\n      $date: {\n        $numberLong: value.getTime().toString()\n      }\n    };\n  }\n\n  if (typeof value === 'number' && !options.relaxed) {\n    // it's an integer\n    if (Math.floor(value) === value) {\n      var int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n          int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX; // interpret as being of the smallest BSON integer type that can represent the number exactly\n\n      if (int32Range) return {\n        $numberInt: value.toString()\n      };\n      if (int64Range) return {\n        $numberLong: value.toString()\n      };\n    }\n\n    return {\n      $numberDouble: value.toString()\n    };\n  }\n\n  if (value instanceof RegExp) {\n    var flags = value.flags;\n\n    if (flags === undefined) {\n      flags = value.toString().match(/[gimuy]*$/)[0];\n    }\n\n    var rx = new regexp(value.source, flags);\n    return rx.toExtendedJSON();\n  }\n\n  if (value != null && _typeof$2(value) === 'object') return serializeDocument(value, options);\n  return value;\n}\n\nvar BSON_TYPE_MAPPINGS = {\n  Binary: function Binary(o) {\n    return new binary(o.value(), o.subtype);\n  },\n  Code: function Code(o) {\n    return new code(o.code, o.scope);\n  },\n  DBRef: function DBRef(o) {\n    return new db_ref(o.collection || o.namespace, o.oid, o.db, o.fields);\n  },\n  // \"namespace\" for 1.x library backwards compat\n  Decimal128: function Decimal128(o) {\n    return new decimal128(o.bytes);\n  },\n  Double: function Double(o) {\n    return new double_1(o.value);\n  },\n  Int32: function Int32(o) {\n    return new int_32(o.value);\n  },\n  Long: function Long(o) {\n    return long_1.fromBits( // underscore variants for 1.x backwards compatibility\n    o.low != null ? o.low : o.low_, o.low != null ? o.high : o.high_, o.low != null ? o.unsigned : o.unsigned_);\n  },\n  MaxKey: function MaxKey() {\n    return new max_key();\n  },\n  MinKey: function MinKey() {\n    return new min_key();\n  },\n  ObjectID: function ObjectID(o) {\n    return new objectid(o);\n  },\n  ObjectId: function ObjectId(o) {\n    return new objectid(o);\n  },\n  // support 4.0.0/4.0.1 before _bsontype was reverted back to ObjectID\n  BSONRegExp: function BSONRegExp(o) {\n    return new regexp(o.pattern, o.options);\n  },\n  Symbol: function Symbol(o) {\n    return new symbol(o.value);\n  },\n  Timestamp: function Timestamp(o) {\n    return timestamp.fromBits(o.low, o.high);\n  }\n};\n\nfunction serializeDocument(doc, options) {\n  if (doc == null || _typeof$2(doc) !== 'object') throw new Error('not an object instance');\n  var bsontype = doc._bsontype;\n\n  if (typeof bsontype === 'undefined') {\n    // It's a regular object. Recursively serialize its property values.\n    var _doc = {};\n\n    for (var name in doc) {\n      _doc[name] = serializeValue(doc[name], options);\n    }\n\n    return _doc;\n  } else if (typeof bsontype === 'string') {\n    // the \"document\" is really just a BSON type object\n    var _doc2 = doc;\n\n    if (typeof _doc2.toExtendedJSON !== 'function') {\n      // There's no EJSON serialization function on the object. It's probably an\n      // object created by a previous version of this library (or another library)\n      // that's duck-typing objects to look like they were generated by this library).\n      // Copy the object into this library's version of that type.\n      var mapper = BSON_TYPE_MAPPINGS[bsontype];\n\n      if (!mapper) {\n        throw new TypeError('Unrecognized or invalid _bsontype: ' + bsontype);\n      }\n\n      _doc2 = mapper(_doc2);\n    } // Two BSON types may have nested objects that may need to be serialized too\n\n\n    if (bsontype === 'Code' && _doc2.scope) {\n      _doc2 = new code(_doc2.code, serializeValue(_doc2.scope, options));\n    } else if (bsontype === 'DBRef' && _doc2.oid) {\n      _doc2 = new db_ref(_doc2.collection, serializeValue(_doc2.oid, options), _doc2.db, _doc2.fields);\n    }\n\n    return _doc2.toExtendedJSON(options);\n  } else {\n    throw new Error('_bsontype must be a string, but was: ' + _typeof$2(bsontype));\n  }\n}\n\nvar extended_json = {\n  parse: parse,\n  deserialize: deserialize,\n  serialize: serialize,\n  stringify: stringify\n};\n\nvar FIRST_BIT = 0x80;\nvar FIRST_TWO_BITS = 0xc0;\nvar FIRST_THREE_BITS = 0xe0;\nvar FIRST_FOUR_BITS = 0xf0;\nvar FIRST_FIVE_BITS = 0xf8;\nvar TWO_BIT_CHAR = 0xc0;\nvar THREE_BIT_CHAR = 0xe0;\nvar FOUR_BIT_CHAR = 0xf0;\nvar CONTINUING_CHAR = 0x80;\n/**\n * Determines if the passed in bytes are valid utf8\n * @param {Buffer|Uint8Array} bytes An array of 8-bit bytes. Must be indexable and have length property\n * @param {Number} start The index to start validating\n * @param {Number} end The index to end validating\n * @returns {boolean} True if valid utf8\n */\n\nfunction validateUtf8(bytes, start, end) {\n  var continuation = 0;\n\n  for (var i = start; i < end; i += 1) {\n    var byte = bytes[i];\n\n    if (continuation) {\n      if ((byte & FIRST_TWO_BITS) !== CONTINUING_CHAR) {\n        return false;\n      }\n\n      continuation -= 1;\n    } else if (byte & FIRST_BIT) {\n      if ((byte & FIRST_THREE_BITS) === TWO_BIT_CHAR) {\n        continuation = 1;\n      } else if ((byte & FIRST_FOUR_BITS) === THREE_BIT_CHAR) {\n        continuation = 2;\n      } else if ((byte & FIRST_FIVE_BITS) === FOUR_BIT_CHAR) {\n        continuation = 3;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  return !continuation;\n}\n\nvar validateUtf8_1 = validateUtf8;\nvar validate_utf8 = {\n  validateUtf8: validateUtf8_1\n};\n\nvar Buffer$4 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer;\nvar validateUtf8$1 = validate_utf8.validateUtf8; // Internal long versions\n\nvar JS_INT_MAX_LONG = long_1.fromNumber(constants.JS_INT_MAX);\nvar JS_INT_MIN_LONG = long_1.fromNumber(constants.JS_INT_MIN);\nvar functionCache = {};\n\nfunction deserialize$1(buffer$$1, options, isArray) {\n  options = options == null ? {} : options;\n  var index = options && options.index ? options.index : 0; // Read the document size\n\n  var size = buffer$$1[index] | buffer$$1[index + 1] << 8 | buffer$$1[index + 2] << 16 | buffer$$1[index + 3] << 24;\n\n  if (size < 5) {\n    throw new Error(\"bson size must be >= 5, is \".concat(size));\n  }\n\n  if (options.allowObjectSmallerThanBufferSize && buffer$$1.length < size) {\n    throw new Error(\"buffer length \".concat(buffer$$1.length, \" must be >= bson size \").concat(size));\n  }\n\n  if (!options.allowObjectSmallerThanBufferSize && buffer$$1.length !== size) {\n    throw new Error(\"buffer length \".concat(buffer$$1.length, \" must === bson size \").concat(size));\n  }\n\n  if (size + index > buffer$$1.length) {\n    throw new Error(\"(bson size \".concat(size, \" + options.index \").concat(index, \" must be <= buffer length \").concat(Buffer$4.byteLength(buffer$$1), \")\"));\n  } // Illegal end value\n\n\n  if (buffer$$1[index + size - 1] !== 0) {\n    throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");\n  } // Start deserializtion\n\n\n  return deserializeObject(buffer$$1, index, options, isArray);\n}\n\nfunction deserializeObject(buffer$$1, index, options, isArray) {\n  var evalFunctions = options['evalFunctions'] == null ? false : options['evalFunctions'];\n  var cacheFunctions = options['cacheFunctions'] == null ? false : options['cacheFunctions'];\n  var cacheFunctionsCrc32 = options['cacheFunctionsCrc32'] == null ? false : options['cacheFunctionsCrc32'];\n  if (!cacheFunctionsCrc32) var crc32 = null;\n  var fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw']; // Return raw bson buffer instead of parsing it\n\n  var raw = options['raw'] == null ? false : options['raw']; // Return BSONRegExp objects instead of native regular expressions\n\n  var bsonRegExp = typeof options['bsonRegExp'] === 'boolean' ? options['bsonRegExp'] : false; // Controls the promotion of values vs wrapper classes\n\n  var promoteBuffers = options['promoteBuffers'] == null ? false : options['promoteBuffers'];\n  var promoteLongs = options['promoteLongs'] == null ? true : options['promoteLongs'];\n  var promoteValues = options['promoteValues'] == null ? true : options['promoteValues']; // Set the start index\n\n  var startIndex = index; // Validate that we have at least 4 bytes of buffer\n\n  if (buffer$$1.length < 5) throw new Error('corrupt bson message < 5 bytes long'); // Read the document size\n\n  var size = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24; // Ensure buffer is valid size\n\n  if (size < 5 || size > buffer$$1.length) throw new Error('corrupt bson message'); // Create holding object\n\n  var object = isArray ? [] : {}; // Used for arrays to skip having to perform utf8 decoding\n\n  var arrayIndex = 0;\n  var done = false; // While we have more left data left keep parsing\n\n  while (!done) {\n    // Read the type\n    var elementType = buffer$$1[index++]; // If we get a zero it's the last byte, exit\n\n    if (elementType === 0) break; // Get the start search index\n\n    var i = index; // Locate the end of the c string\n\n    while (buffer$$1[i] !== 0x00 && i < buffer$$1.length) {\n      i++;\n    } // If are at the end of the buffer there is a problem with the document\n\n\n    if (i >= Buffer$4.byteLength(buffer$$1)) throw new Error('Bad BSON Document: illegal CString');\n    var name = isArray ? arrayIndex++ : buffer$$1.toString('utf8', index, i);\n    index = i + 1;\n\n    if (elementType === constants.BSON_DATA_STRING) {\n      var stringSize = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n      if (stringSize <= 0 || stringSize > buffer$$1.length - index || buffer$$1[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n\n      if (!validateUtf8$1(buffer$$1, index, index + stringSize - 1)) {\n        throw new Error('Invalid UTF-8 string in BSON document');\n      }\n\n      var s = buffer$$1.toString('utf8', index, index + stringSize - 1);\n      object[name] = s;\n      index = index + stringSize;\n    } else if (elementType === constants.BSON_DATA_OID) {\n      var oid = Buffer$4.alloc(12);\n      buffer$$1.copy(oid, 0, index, index + 12);\n      object[name] = new objectid(oid);\n      index = index + 12;\n    } else if (elementType === constants.BSON_DATA_INT && promoteValues === false) {\n      object[name] = new int_32(buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24);\n    } else if (elementType === constants.BSON_DATA_INT) {\n      object[name] = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n    } else if (elementType === constants.BSON_DATA_NUMBER && promoteValues === false) {\n      object[name] = new double_1(buffer$$1.readDoubleLE(index));\n      index = index + 8;\n    } else if (elementType === constants.BSON_DATA_NUMBER) {\n      object[name] = buffer$$1.readDoubleLE(index);\n      index = index + 8;\n    } else if (elementType === constants.BSON_DATA_DATE) {\n      var lowBits = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n      var highBits = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n      object[name] = new Date(new long_1(lowBits, highBits).toNumber());\n    } else if (elementType === constants.BSON_DATA_BOOLEAN) {\n      if (buffer$$1[index] !== 0 && buffer$$1[index] !== 1) throw new Error('illegal boolean type value');\n      object[name] = buffer$$1[index++] === 1;\n    } else if (elementType === constants.BSON_DATA_OBJECT) {\n      var _index = index;\n      var objectSize = buffer$$1[index] | buffer$$1[index + 1] << 8 | buffer$$1[index + 2] << 16 | buffer$$1[index + 3] << 24;\n      if (objectSize <= 0 || objectSize > buffer$$1.length - index) throw new Error('bad embedded document length in bson'); // We have a raw value\n\n      if (raw) {\n        object[name] = buffer$$1.slice(index, index + objectSize);\n      } else {\n        object[name] = deserializeObject(buffer$$1, _index, options, false);\n      }\n\n      index = index + objectSize;\n    } else if (elementType === constants.BSON_DATA_ARRAY) {\n      var _index2 = index;\n\n      var _objectSize = buffer$$1[index] | buffer$$1[index + 1] << 8 | buffer$$1[index + 2] << 16 | buffer$$1[index + 3] << 24;\n\n      var arrayOptions = options; // Stop index\n\n      var stopIndex = index + _objectSize; // All elements of array to be returned as raw bson\n\n      if (fieldsAsRaw && fieldsAsRaw[name]) {\n        arrayOptions = {};\n\n        for (var n in options) {\n          arrayOptions[n] = options[n];\n        }\n\n        arrayOptions['raw'] = true;\n      }\n\n      object[name] = deserializeObject(buffer$$1, _index2, arrayOptions, true);\n      index = index + _objectSize;\n      if (buffer$$1[index - 1] !== 0) throw new Error('invalid array terminator byte');\n      if (index !== stopIndex) throw new Error('corrupted array bson');\n    } else if (elementType === constants.BSON_DATA_UNDEFINED) {\n      object[name] = undefined;\n    } else if (elementType === constants.BSON_DATA_NULL) {\n      object[name] = null;\n    } else if (elementType === constants.BSON_DATA_LONG) {\n      // Unpack the low and high bits\n      var _lowBits = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n\n      var _highBits = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n\n      var long$$1 = new long_1(_lowBits, _highBits); // Promote the long if possible\n\n      if (promoteLongs && promoteValues === true) {\n        object[name] = long$$1.lessThanOrEqual(JS_INT_MAX_LONG) && long$$1.greaterThanOrEqual(JS_INT_MIN_LONG) ? long$$1.toNumber() : long$$1;\n      } else {\n        object[name] = long$$1;\n      }\n    } else if (elementType === constants.BSON_DATA_DECIMAL128) {\n      // Buffer to contain the decimal bytes\n      var bytes = Buffer$4.alloc(16); // Copy the next 16 bytes into the bytes buffer\n\n      buffer$$1.copy(bytes, 0, index, index + 16); // Update index\n\n      index = index + 16; // Assign the new Decimal128 value\n\n      var decimal128$$1 = new decimal128(bytes); // If we have an alternative mapper use that\n\n      object[name] = decimal128$$1.toObject ? decimal128$$1.toObject() : decimal128$$1;\n    } else if (elementType === constants.BSON_DATA_BINARY) {\n      var binarySize = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n      var totalBinarySize = binarySize;\n      var subType = buffer$$1[index++]; // Did we have a negative binary size, throw\n\n      if (binarySize < 0) throw new Error('Negative binary type element size found'); // Is the length longer than the document\n\n      if (binarySize > Buffer$4.byteLength(buffer$$1)) throw new Error('Binary type size larger than document size'); // Decode as raw Buffer object if options specifies it\n\n      if (buffer$$1['slice'] != null) {\n        // If we have subtype 2 skip the 4 bytes for the size\n        if (subType === binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n          if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = buffer$$1.slice(index, index + binarySize);\n        } else {\n          object[name] = new binary(buffer$$1.slice(index, index + binarySize), subType);\n        }\n      } else {\n        var _buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(binarySize)) : new Array(binarySize); // If we have subtype 2 skip the 4 bytes for the size\n\n\n        if (subType === binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n          if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        } // Copy the data\n\n\n        for (i = 0; i < binarySize; i++) {\n          _buffer[i] = buffer$$1[index + i];\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = _buffer;\n        } else {\n          object[name] = new binary(_buffer, subType);\n        }\n      } // Update the index\n\n\n      index = index + binarySize;\n    } else if (elementType === constants.BSON_DATA_REGEXP && bsonRegExp === false) {\n      // Get the start search index\n      i = index; // Locate the end of the c string\n\n      while (buffer$$1[i] !== 0x00 && i < buffer$$1.length) {\n        i++;\n      } // If are at the end of the buffer there is a problem with the document\n\n\n      if (i >= buffer$$1.length) throw new Error('Bad BSON Document: illegal CString'); // Return the C string\n\n      var source = buffer$$1.toString('utf8', index, i); // Create the regexp\n\n      index = i + 1; // Get the start search index\n\n      i = index; // Locate the end of the c string\n\n      while (buffer$$1[i] !== 0x00 && i < buffer$$1.length) {\n        i++;\n      } // If are at the end of the buffer there is a problem with the document\n\n\n      if (i >= buffer$$1.length) throw new Error('Bad BSON Document: illegal CString'); // Return the C string\n\n      var regExpOptions = buffer$$1.toString('utf8', index, i);\n      index = i + 1; // For each option add the corresponding one for javascript\n\n      var optionsArray = new Array(regExpOptions.length); // Parse options\n\n      for (i = 0; i < regExpOptions.length; i++) {\n        switch (regExpOptions[i]) {\n          case 'm':\n            optionsArray[i] = 'm';\n            break;\n\n          case 's':\n            optionsArray[i] = 'g';\n            break;\n\n          case 'i':\n            optionsArray[i] = 'i';\n            break;\n        }\n      }\n\n      object[name] = new RegExp(source, optionsArray.join(''));\n    } else if (elementType === constants.BSON_DATA_REGEXP && bsonRegExp === true) {\n      // Get the start search index\n      i = index; // Locate the end of the c string\n\n      while (buffer$$1[i] !== 0x00 && i < buffer$$1.length) {\n        i++;\n      } // If are at the end of the buffer there is a problem with the document\n\n\n      if (i >= buffer$$1.length) throw new Error('Bad BSON Document: illegal CString'); // Return the C string\n\n      var _source = buffer$$1.toString('utf8', index, i);\n\n      index = i + 1; // Get the start search index\n\n      i = index; // Locate the end of the c string\n\n      while (buffer$$1[i] !== 0x00 && i < buffer$$1.length) {\n        i++;\n      } // If are at the end of the buffer there is a problem with the document\n\n\n      if (i >= buffer$$1.length) throw new Error('Bad BSON Document: illegal CString'); // Return the C string\n\n      var _regExpOptions = buffer$$1.toString('utf8', index, i);\n\n      index = i + 1; // Set the object\n\n      object[name] = new regexp(_source, _regExpOptions);\n    } else if (elementType === constants.BSON_DATA_SYMBOL) {\n      var _stringSize = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n\n      if (_stringSize <= 0 || _stringSize > buffer$$1.length - index || buffer$$1[index + _stringSize - 1] !== 0) throw new Error('bad string length in bson'); // symbol is deprecated - upgrade to string.\n\n      object[name] = buffer$$1.toString('utf8', index, index + _stringSize - 1);\n      index = index + _stringSize;\n    } else if (elementType === constants.BSON_DATA_TIMESTAMP) {\n      var _lowBits2 = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n\n      var _highBits2 = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n\n      object[name] = new timestamp(_lowBits2, _highBits2);\n    } else if (elementType === constants.BSON_DATA_MIN_KEY) {\n      object[name] = new min_key();\n    } else if (elementType === constants.BSON_DATA_MAX_KEY) {\n      object[name] = new max_key();\n    } else if (elementType === constants.BSON_DATA_CODE) {\n      var _stringSize2 = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24;\n\n      if (_stringSize2 <= 0 || _stringSize2 > buffer$$1.length - index || buffer$$1[index + _stringSize2 - 1] !== 0) throw new Error('bad string length in bson');\n      var functionString = buffer$$1.toString('utf8', index, index + _stringSize2 - 1); // If we are evaluating the functions\n\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString; // Got to do this to avoid V8 deoptimizing the call due to finding eval\n\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n      } else {\n        object[name] = new code(functionString);\n      } // Update parse index position\n\n\n      index = index + _stringSize2;\n    } else if (elementType === constants.BSON_DATA_CODE_W_SCOPE) {\n      var totalSize = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24; // Element cannot be shorter than totalSize + stringSize + documentSize + terminator\n\n      if (totalSize < 4 + 4 + 4 + 1) {\n        throw new Error('code_w_scope total size shorter minimum expected length');\n      } // Get the code string size\n\n\n      var _stringSize3 = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24; // Check if we have a valid string\n\n\n      if (_stringSize3 <= 0 || _stringSize3 > buffer$$1.length - index || buffer$$1[index + _stringSize3 - 1] !== 0) throw new Error('bad string length in bson'); // Javascript function\n\n      var _functionString = buffer$$1.toString('utf8', index, index + _stringSize3 - 1); // Update parse index position\n\n\n      index = index + _stringSize3; // Parse the element\n\n      var _index3 = index; // Decode the size of the object document\n\n      var _objectSize2 = buffer$$1[index] | buffer$$1[index + 1] << 8 | buffer$$1[index + 2] << 16 | buffer$$1[index + 3] << 24; // Decode the scope object\n\n\n      var scopeObject = deserializeObject(buffer$$1, _index3, options, false); // Adjust the index\n\n      index = index + _objectSize2; // Check if field length is to short\n\n      if (totalSize < 4 + 4 + _objectSize2 + _stringSize3) {\n        throw new Error('code_w_scope total size is to short, truncating scope');\n      } // Check if totalSize field is to long\n\n\n      if (totalSize > 4 + 4 + _objectSize2 + _stringSize3) {\n        throw new Error('code_w_scope total size is to long, clips outer document');\n      } // If we are evaluating the functions\n\n\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          var _hash = cacheFunctionsCrc32 ? crc32(_functionString) : _functionString; // Got to do this to avoid V8 deoptimizing the call due to finding eval\n\n\n          object[name] = isolateEvalWithHash(functionCache, _hash, _functionString, object);\n        } else {\n          object[name] = isolateEval(_functionString);\n        }\n\n        object[name].scope = scopeObject;\n      } else {\n        object[name] = new code(_functionString, scopeObject);\n      }\n    } else if (elementType === constants.BSON_DATA_DBPOINTER) {\n      // Get the code string size\n      var _stringSize4 = buffer$$1[index++] | buffer$$1[index++] << 8 | buffer$$1[index++] << 16 | buffer$$1[index++] << 24; // Check if we have a valid string\n\n\n      if (_stringSize4 <= 0 || _stringSize4 > buffer$$1.length - index || buffer$$1[index + _stringSize4 - 1] !== 0) throw new Error('bad string length in bson'); // Namespace\n\n      if (!validateUtf8$1(buffer$$1, index, index + _stringSize4 - 1)) {\n        throw new Error('Invalid UTF-8 string in BSON document');\n      }\n\n      var namespace = buffer$$1.toString('utf8', index, index + _stringSize4 - 1); // Update parse index position\n\n      index = index + _stringSize4; // Read the oid\n\n      var oidBuffer = Buffer$4.alloc(12);\n      buffer$$1.copy(oidBuffer, 0, index, index + 12);\n\n      var _oid = new objectid(oidBuffer); // Update the index\n\n\n      index = index + 12; // Upgrade to DBRef type\n\n      object[name] = new db_ref(namespace, _oid);\n    } else {\n      throw new Error('Detected unknown BSON type ' + elementType.toString(16) + ' for fieldname \"' + name + '\", are you using the latest BSON parser?');\n    }\n  } // Check if the deserialization was against a valid array/object\n\n\n  if (size !== index - startIndex) {\n    if (isArray) throw new Error('corrupt array bson');\n    throw new Error('corrupt object bson');\n  } // check if object's $ keys are those of a DBRef\n\n\n  var dollarKeys = Object.keys(object).filter(function (k) {\n    return k.startsWith('$');\n  });\n  var valid = true;\n  dollarKeys.forEach(function (k) {\n    if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n  }); // if a $key not in \"$ref\", \"$id\", \"$db\", don't make a DBRef\n\n  if (!valid) return object;\n\n  if (object['$id'] != null && object['$ref'] != null) {\n    var copy = Object.assign({}, object);\n    delete copy.$ref;\n    delete copy.$id;\n    delete copy.$db;\n    return new db_ref(object.$ref, object.$id, object.$db || null, copy);\n  }\n\n  return object;\n}\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\n\n\nfunction isolateEvalWithHash(functionCache, hash, functionString, object) {\n  // Contains the value we are going to set\n  var value = null; // Check for cache hit, eval if missing and return cached function\n\n  if (functionCache[hash] == null) {\n    eval('value = ' + functionString);\n    functionCache[hash] = value;\n  } // Set the object\n\n\n  return functionCache[hash].bind(object);\n}\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\n\n\nfunction isolateEval(functionString) {\n  // Contains the value we are going to set\n  var value = null; // Eval the function\n\n  eval('value = ' + functionString);\n  return value;\n}\n\nvar deserializer = deserialize$1;\n\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//  * Redistributions of source code must retain the above copyright notice,\n//    this list of conditions and the following disclaimer.\n//\n//  * Redistributions in binary form must reproduce the above copyright notice,\n//    this list of conditions and the following disclaimer in the documentation\n//    and/or other materials provided with the distribution.\n//\n//  * Neither the name of Fair Oaks Labs, Inc. nor the names of its contributors\n//    may be used to endorse or promote products derived from this software\n//    without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n//\n//\n// Modifications to writeIEEE754 to support negative zeroes made by Brian White\n\nfunction readIEEE754(buffer$$1, offset, endian, mLen, nBytes) {\n  var e,\n      m,\n      bBE = endian === 'big',\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = bBE ? 0 : nBytes - 1,\n      d = bBE ? 1 : -1,\n      s = buffer$$1[offset + i];\n  i += d;\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n\n  for (; nBits > 0; e = e * 256 + buffer$$1[offset + i], i += d, nBits -= 8) {\n  }\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n\n  for (; nBits > 0; m = m * 256 + buffer$$1[offset + i], i += d, nBits -= 8) {\n  }\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n}\n\nfunction writeIEEE754(buffer$$1, value, offset, endian, mLen, nBytes) {\n  var e,\n      m,\n      c,\n      bBE = endian === 'big',\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\n      i = bBE ? nBytes - 1 : 0,\n      d = bBE ? -1 : 1,\n      s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  if (isNaN(value)) m = 0;\n\n  while (mLen >= 8) {\n    buffer$$1[offset + i] = m & 0xff;\n    i += d;\n    m /= 256;\n    mLen -= 8;\n  }\n\n  e = e << mLen | m;\n  if (isNaN(value)) e += 8;\n  eLen += mLen;\n\n  while (eLen > 0) {\n    buffer$$1[offset + i] = e & 0xff;\n    i += d;\n    e /= 256;\n    eLen -= 8;\n  }\n\n  buffer$$1[offset + i - d] |= s * 128;\n}\n\nvar float_parser = {\n  readIEEE754: readIEEE754,\n  writeIEEE754: writeIEEE754\n};\n\nfunction _typeof$3(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n\nvar Buffer$5 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer;\nvar writeIEEE754$1 = float_parser.writeIEEE754;\nvar normalizedFunctionString$1 = utils.normalizedFunctionString;\nvar regexp$1 = /\\x00/; // eslint-disable-line no-control-regex\n\nvar ignoreKeys = new Set(['$db', '$ref', '$id', '$clusterTime']); // To ensure that 0.4 of node works correctly\n\nvar isDate$1 = function isDate(d) {\n  return _typeof$3(d) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n};\n\nvar isRegExp$1 = function isRegExp(d) {\n  return Object.prototype.toString.call(d) === '[object RegExp]';\n};\n\nfunction serializeString(buffer$$1, key, value, index, isArray) {\n  // Encode String type\n  buffer$$1[index++] = constants.BSON_DATA_STRING; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes + 1;\n  buffer$$1[index - 1] = 0; // Write the string\n\n  var size = buffer$$1.write(value, index + 4, 'utf8'); // Write the size of the string to buffer\n\n  buffer$$1[index + 3] = size + 1 >> 24 & 0xff;\n  buffer$$1[index + 2] = size + 1 >> 16 & 0xff;\n  buffer$$1[index + 1] = size + 1 >> 8 & 0xff;\n  buffer$$1[index] = size + 1 & 0xff; // Update index\n\n  index = index + 4 + size; // Write zero\n\n  buffer$$1[index++] = 0;\n  return index;\n}\n\nfunction serializeNumber(buffer$$1, key, value, index, isArray) {\n  // We have an integer value\n  if (Math.floor(value) === value && value >= constants.JS_INT_MIN && value <= constants.JS_INT_MAX) {\n    // If the value fits in 32 bits encode as int, if it fits in a double\n    // encode it as a double, otherwise long\n    if (value >= constants.BSON_INT32_MIN && value <= constants.BSON_INT32_MAX) {\n      // Set int type 32 bits or less\n      buffer$$1[index++] = constants.BSON_DATA_INT; // Number of written bytes\n\n      var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n      index = index + numberOfWrittenBytes;\n      buffer$$1[index++] = 0; // Write the int value\n\n      buffer$$1[index++] = value & 0xff;\n      buffer$$1[index++] = value >> 8 & 0xff;\n      buffer$$1[index++] = value >> 16 & 0xff;\n      buffer$$1[index++] = value >> 24 & 0xff;\n    } else if (value >= constants.JS_INT_MIN && value <= constants.JS_INT_MAX) {\n      // Encode as double\n      buffer$$1[index++] = constants.BSON_DATA_NUMBER; // Number of written bytes\n\n      var _numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n\n      index = index + _numberOfWrittenBytes;\n      buffer$$1[index++] = 0; // Write float\n\n      writeIEEE754$1(buffer$$1, value, index, 'little', 52, 8); // Ajust index\n\n      index = index + 8;\n    } else {\n      // Set long type\n      buffer$$1[index++] = constants.BSON_DATA_LONG; // Number of written bytes\n\n      var _numberOfWrittenBytes2 = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n\n      index = index + _numberOfWrittenBytes2;\n      buffer$$1[index++] = 0;\n      var longVal = long_1.fromNumber(value);\n      var lowBits = longVal.getLowBits();\n      var highBits = longVal.getHighBits(); // Encode low bits\n\n      buffer$$1[index++] = lowBits & 0xff;\n      buffer$$1[index++] = lowBits >> 8 & 0xff;\n      buffer$$1[index++] = lowBits >> 16 & 0xff;\n      buffer$$1[index++] = lowBits >> 24 & 0xff; // Encode high bits\n\n      buffer$$1[index++] = highBits & 0xff;\n      buffer$$1[index++] = highBits >> 8 & 0xff;\n      buffer$$1[index++] = highBits >> 16 & 0xff;\n      buffer$$1[index++] = highBits >> 24 & 0xff;\n    }\n  } else {\n    // Encode as double\n    buffer$$1[index++] = constants.BSON_DATA_NUMBER; // Number of written bytes\n\n    var _numberOfWrittenBytes3 = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n\n    index = index + _numberOfWrittenBytes3;\n    buffer$$1[index++] = 0; // Write float\n\n    writeIEEE754$1(buffer$$1, value, index, 'little', 52, 8); // Ajust index\n\n    index = index + 8;\n  }\n\n  return index;\n}\n\nfunction serializeNull(buffer$$1, key, value, index, isArray) {\n  // Set long type\n  buffer$$1[index++] = constants.BSON_DATA_NULL; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0;\n  return index;\n}\n\nfunction serializeBoolean(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_BOOLEAN; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Encode the boolean value\n\n  buffer$$1[index++] = value ? 1 : 0;\n  return index;\n}\n\nfunction serializeDate(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_DATE; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Write the date\n\n  var dateInMilis = long_1.fromNumber(value.getTime());\n  var lowBits = dateInMilis.getLowBits();\n  var highBits = dateInMilis.getHighBits(); // Encode low bits\n\n  buffer$$1[index++] = lowBits & 0xff;\n  buffer$$1[index++] = lowBits >> 8 & 0xff;\n  buffer$$1[index++] = lowBits >> 16 & 0xff;\n  buffer$$1[index++] = lowBits >> 24 & 0xff; // Encode high bits\n\n  buffer$$1[index++] = highBits & 0xff;\n  buffer$$1[index++] = highBits >> 8 & 0xff;\n  buffer$$1[index++] = highBits >> 16 & 0xff;\n  buffer$$1[index++] = highBits >> 24 & 0xff;\n  return index;\n}\n\nfunction serializeRegExp(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_REGEXP; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0;\n\n  if (value.source && value.source.match(regexp$1) != null) {\n    throw Error('value ' + value.source + ' must not contain null bytes');\n  } // Adjust the index\n\n\n  index = index + buffer$$1.write(value.source, index, 'utf8'); // Write zero\n\n  buffer$$1[index++] = 0x00; // Write the parameters\n\n  if (value.ignoreCase) buffer$$1[index++] = 0x69; // i\n\n  if (value.global) buffer$$1[index++] = 0x73; // s\n\n  if (value.multiline) buffer$$1[index++] = 0x6d; // m\n  // Add ending zero\n\n  buffer$$1[index++] = 0x00;\n  return index;\n}\n\nfunction serializeBSONRegExp(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_REGEXP; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Check the pattern for 0 bytes\n\n  if (value.pattern.match(regexp$1) != null) {\n    // The BSON spec doesn't allow keys with null bytes because keys are\n    // null-terminated.\n    throw Error('pattern ' + value.pattern + ' must not contain null bytes');\n  } // Adjust the index\n\n\n  index = index + buffer$$1.write(value.pattern, index, 'utf8'); // Write zero\n\n  buffer$$1[index++] = 0x00; // Write the options\n\n  index = index + buffer$$1.write(value.options.split('').sort().join(''), index, 'utf8'); // Add ending zero\n\n  buffer$$1[index++] = 0x00;\n  return index;\n}\n\nfunction serializeMinMax(buffer$$1, key, value, index, isArray) {\n  // Write the type of either min or max key\n  if (value === null) {\n    buffer$$1[index++] = constants.BSON_DATA_NULL;\n  } else if (value._bsontype === 'MinKey') {\n    buffer$$1[index++] = constants.BSON_DATA_MIN_KEY;\n  } else {\n    buffer$$1[index++] = constants.BSON_DATA_MAX_KEY;\n  } // Number of written bytes\n\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0;\n  return index;\n}\n\nfunction serializeObjectId(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_OID; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Write the objectId into the shared buffer\n\n  if (typeof value.id === 'string') {\n    buffer$$1.write(value.id, index, 'binary');\n  } else if (value.id && value.id.copy) {\n    value.id.copy(buffer$$1, index, 0, 12);\n  } else {\n    throw new TypeError('object [' + JSON.stringify(value) + '] is not a valid ObjectId');\n  } // Ajust index\n\n\n  return index + 12;\n}\n\nfunction serializeBuffer(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_BINARY; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Get size of the buffer (current write point)\n\n  var size = value.length; // Write the size of the string to buffer\n\n  buffer$$1[index++] = size & 0xff;\n  buffer$$1[index++] = size >> 8 & 0xff;\n  buffer$$1[index++] = size >> 16 & 0xff;\n  buffer$$1[index++] = size >> 24 & 0xff; // Write the default subtype\n\n  buffer$$1[index++] = constants.BSON_BINARY_SUBTYPE_DEFAULT; // Copy the content form the binary field to the buffer\n\n  value.copy(buffer$$1, index, 0, size); // Adjust the index\n\n  index = index + size;\n  return index;\n}\n\nfunction serializeObject(buffer$$1, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray, path) {\n  for (var i = 0; i < path.length; i++) {\n    if (path[i] === value) throw new Error('cyclic dependency detected');\n  } // Push value to stack\n\n\n  path.push(value); // Write the type\n\n  buffer$$1[index++] = Array.isArray(value) ? constants.BSON_DATA_ARRAY : constants.BSON_DATA_OBJECT; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0;\n  var endIndex = serializeInto(buffer$$1, value, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined, path); // Pop stack\n\n  path.pop();\n  return endIndex;\n}\n\nfunction serializeDecimal128(buffer$$1, key, value, index, isArray) {\n  buffer$$1[index++] = constants.BSON_DATA_DECIMAL128; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Write the data from the value\n\n  value.bytes.copy(buffer$$1, index, 0, 16);\n  return index + 16;\n}\n\nfunction serializeLong(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = value._bsontype === 'Long' ? constants.BSON_DATA_LONG : constants.BSON_DATA_TIMESTAMP; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Write the date\n\n  var lowBits = value.getLowBits();\n  var highBits = value.getHighBits(); // Encode low bits\n\n  buffer$$1[index++] = lowBits & 0xff;\n  buffer$$1[index++] = lowBits >> 8 & 0xff;\n  buffer$$1[index++] = lowBits >> 16 & 0xff;\n  buffer$$1[index++] = lowBits >> 24 & 0xff; // Encode high bits\n\n  buffer$$1[index++] = highBits & 0xff;\n  buffer$$1[index++] = highBits >> 8 & 0xff;\n  buffer$$1[index++] = highBits >> 16 & 0xff;\n  buffer$$1[index++] = highBits >> 24 & 0xff;\n  return index;\n}\n\nfunction serializeInt32(buffer$$1, key, value, index, isArray) {\n  // Set int type 32 bits or less\n  buffer$$1[index++] = constants.BSON_DATA_INT; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Write the int value\n\n  buffer$$1[index++] = value & 0xff;\n  buffer$$1[index++] = value >> 8 & 0xff;\n  buffer$$1[index++] = value >> 16 & 0xff;\n  buffer$$1[index++] = value >> 24 & 0xff;\n  return index;\n}\n\nfunction serializeDouble(buffer$$1, key, value, index, isArray) {\n  // Encode as double\n  buffer$$1[index++] = constants.BSON_DATA_NUMBER; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Write float\n\n  writeIEEE754$1(buffer$$1, value.value, index, 'little', 52, 8); // Adjust index\n\n  index = index + 8;\n  return index;\n}\n\nfunction serializeFunction(buffer$$1, key, value, index, checkKeys, depth, isArray) {\n  buffer$$1[index++] = constants.BSON_DATA_CODE; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Function string\n\n  var functionString = normalizedFunctionString$1(value); // Write the string\n\n  var size = buffer$$1.write(functionString, index + 4, 'utf8') + 1; // Write the size of the string to buffer\n\n  buffer$$1[index] = size & 0xff;\n  buffer$$1[index + 1] = size >> 8 & 0xff;\n  buffer$$1[index + 2] = size >> 16 & 0xff;\n  buffer$$1[index + 3] = size >> 24 & 0xff; // Update index\n\n  index = index + 4 + size - 1; // Write zero\n\n  buffer$$1[index++] = 0;\n  return index;\n}\n\nfunction serializeCode(buffer$$1, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray) {\n  if (value.scope && _typeof$3(value.scope) === 'object') {\n    // Write the type\n    buffer$$1[index++] = constants.BSON_DATA_CODE_W_SCOPE; // Number of written bytes\n\n    var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n    index = index + numberOfWrittenBytes;\n    buffer$$1[index++] = 0; // Starting index\n\n    var startIndex = index; // Serialize the function\n    // Get the function string\n\n    var functionString = typeof value.code === 'string' ? value.code : value.code.toString(); // Index adjustment\n\n    index = index + 4; // Write string into buffer\n\n    var codeSize = buffer$$1.write(functionString, index + 4, 'utf8') + 1; // Write the size of the string to buffer\n\n    buffer$$1[index] = codeSize & 0xff;\n    buffer$$1[index + 1] = codeSize >> 8 & 0xff;\n    buffer$$1[index + 2] = codeSize >> 16 & 0xff;\n    buffer$$1[index + 3] = codeSize >> 24 & 0xff; // Write end 0\n\n    buffer$$1[index + 4 + codeSize - 1] = 0; // Write the\n\n    index = index + codeSize + 4; //\n    // Serialize the scope value\n\n    var endIndex = serializeInto(buffer$$1, value.scope, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined);\n    index = endIndex - 1; // Writ the total\n\n    var totalSize = endIndex - startIndex; // Write the total size of the object\n\n    buffer$$1[startIndex++] = totalSize & 0xff;\n    buffer$$1[startIndex++] = totalSize >> 8 & 0xff;\n    buffer$$1[startIndex++] = totalSize >> 16 & 0xff;\n    buffer$$1[startIndex++] = totalSize >> 24 & 0xff; // Write trailing zero\n\n    buffer$$1[index++] = 0;\n  } else {\n    buffer$$1[index++] = constants.BSON_DATA_CODE; // Number of written bytes\n\n    var _numberOfWrittenBytes4 = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n\n    index = index + _numberOfWrittenBytes4;\n    buffer$$1[index++] = 0; // Function string\n\n    var _functionString = value.code.toString(); // Write the string\n\n\n    var size = buffer$$1.write(_functionString, index + 4, 'utf8') + 1; // Write the size of the string to buffer\n\n    buffer$$1[index] = size & 0xff;\n    buffer$$1[index + 1] = size >> 8 & 0xff;\n    buffer$$1[index + 2] = size >> 16 & 0xff;\n    buffer$$1[index + 3] = size >> 24 & 0xff; // Update index\n\n    index = index + 4 + size - 1; // Write zero\n\n    buffer$$1[index++] = 0;\n  }\n\n  return index;\n}\n\nfunction serializeBinary(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_BINARY; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Extract the buffer\n\n  var data = value.value(true); // Calculate size\n\n  var size = value.position; // Add the deprecated 02 type 4 bytes of size to total\n\n  if (value.sub_type === binary.SUBTYPE_BYTE_ARRAY) size = size + 4; // Write the size of the string to buffer\n\n  buffer$$1[index++] = size & 0xff;\n  buffer$$1[index++] = size >> 8 & 0xff;\n  buffer$$1[index++] = size >> 16 & 0xff;\n  buffer$$1[index++] = size >> 24 & 0xff; // Write the subtype to the buffer\n\n  buffer$$1[index++] = value.sub_type; // If we have binary type 2 the 4 first bytes are the size\n\n  if (value.sub_type === binary.SUBTYPE_BYTE_ARRAY) {\n    size = size - 4;\n    buffer$$1[index++] = size & 0xff;\n    buffer$$1[index++] = size >> 8 & 0xff;\n    buffer$$1[index++] = size >> 16 & 0xff;\n    buffer$$1[index++] = size >> 24 & 0xff;\n  } // Write the data to the object\n\n\n  data.copy(buffer$$1, index, 0, value.position); // Adjust the index\n\n  index = index + value.position;\n  return index;\n}\n\nfunction serializeSymbol(buffer$$1, key, value, index, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_SYMBOL; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0; // Write the string\n\n  var size = buffer$$1.write(value.value, index + 4, 'utf8') + 1; // Write the size of the string to buffer\n\n  buffer$$1[index] = size & 0xff;\n  buffer$$1[index + 1] = size >> 8 & 0xff;\n  buffer$$1[index + 2] = size >> 16 & 0xff;\n  buffer$$1[index + 3] = size >> 24 & 0xff; // Update index\n\n  index = index + 4 + size - 1; // Write zero\n\n  buffer$$1[index++] = 0x00;\n  return index;\n}\n\nfunction serializeDBRef(buffer$$1, key, value, index, depth, serializeFunctions, isArray) {\n  // Write the type\n  buffer$$1[index++] = constants.BSON_DATA_OBJECT; // Number of written bytes\n\n  var numberOfWrittenBytes = !isArray ? buffer$$1.write(key, index, 'utf8') : buffer$$1.write(key, index, 'ascii'); // Encode the name\n\n  index = index + numberOfWrittenBytes;\n  buffer$$1[index++] = 0;\n  var startIndex = index;\n  var endIndex;\n  var output = {\n    $ref: value.collection || value.namespace,\n    // \"namespace\" was what library 1.x called \"collection\"\n    $id: value.oid\n  };\n  if (value.db != null) output.$db = value.db;\n  output = Object.assign(output, value.fields);\n  endIndex = serializeInto(buffer$$1, output, false, index, depth + 1, serializeFunctions); // Calculate object size\n\n  var size = endIndex - startIndex; // Write the size\n\n  buffer$$1[startIndex++] = size & 0xff;\n  buffer$$1[startIndex++] = size >> 8 & 0xff;\n  buffer$$1[startIndex++] = size >> 16 & 0xff;\n  buffer$$1[startIndex++] = size >> 24 & 0xff; // Set index\n\n  return endIndex;\n}\n\nfunction serializeInto(buffer$$1, object, checkKeys, startingIndex, depth, serializeFunctions, ignoreUndefined, path) {\n  startingIndex = startingIndex || 0;\n  path = path || []; // Push the object to the path\n\n  path.push(object); // Start place to serialize into\n\n  var index = startingIndex + 4; // Special case isArray\n\n  if (Array.isArray(object)) {\n    // Get object keys\n    for (var i = 0; i < object.length; i++) {\n      var key = '' + i;\n      var value = object[i]; // Is there an override value\n\n      if (value && value.toBSON) {\n        if (typeof value.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n        value = value.toBSON();\n      }\n\n      var type = _typeof$3(value);\n\n      if (type === 'string') {\n        index = serializeString(buffer$$1, key, value, index, true);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer$$1, key, value, index, true);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer$$1, key, value, index, true);\n      } else if (value instanceof Date || isDate$1(value)) {\n        index = serializeDate(buffer$$1, key, value, index, true);\n      } else if (value === undefined) {\n        index = serializeNull(buffer$$1, key, value, index, true);\n      } else if (value === null) {\n        index = serializeNull(buffer$$1, key, value, index, true);\n      } else if (value['_bsontype'] === 'ObjectId' || value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer$$1, key, value, index, true);\n      } else if (Buffer$5.isBuffer(value)) {\n        index = serializeBuffer(buffer$$1, key, value, index, true);\n      } else if (value instanceof RegExp || isRegExp$1(value)) {\n        index = serializeRegExp(buffer$$1, key, value, index, true);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer$$1, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true, path);\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer$$1, key, value, index, true);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer$$1, key, value, index, true);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer$$1, key, value, index, true);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer$$1, key, value, index, checkKeys, depth, serializeFunctions, true);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer$$1, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer$$1, key, value, index, true);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer$$1, key, value, index, true);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer$$1, key, value, index, depth, serializeFunctions, true);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer$$1, key, value, index, true);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer$$1, key, value, index, true);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer$$1, key, value, index, true);\n      } else if (typeof value['_bsontype'] !== 'undefined') {\n        throw new TypeError('Unrecognized or invalid _bsontype: ' + value['_bsontype']);\n      }\n    }\n  } else if (object instanceof map) {\n    var iterator = object.entries();\n    var done = false;\n\n    while (!done) {\n      // Unpack the next entry\n      var entry = iterator.next();\n      done = entry.done; // Are we done, then skip and terminate\n\n      if (done) continue; // Get the entry values\n\n      var _key = entry.value[0];\n      var _value = entry.value[1]; // Check the type of the value\n\n      var _type = _typeof$3(_value); // Check the key and throw error if it's illegal\n\n\n      if (typeof _key === 'string' && !ignoreKeys.has(_key)) {\n        if (_key.match(regexp$1) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + _key + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === _key[0]) {\n            throw Error('key ' + _key + \" must not start with '$'\");\n          } else if (~_key.indexOf('.')) {\n            throw Error('key ' + _key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (_type === 'string') {\n        index = serializeString(buffer$$1, _key, _value, index);\n      } else if (_type === 'number') {\n        index = serializeNumber(buffer$$1, _key, _value, index);\n      } else if (_type === 'boolean') {\n        index = serializeBoolean(buffer$$1, _key, _value, index);\n      } else if (_value instanceof Date || isDate$1(_value)) {\n        index = serializeDate(buffer$$1, _key, _value, index);\n      } else if (_value === null || _value === undefined && ignoreUndefined === false) {\n        index = serializeNull(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'ObjectId' || _value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer$$1, _key, _value, index);\n      } else if (Buffer$5.isBuffer(_value)) {\n        index = serializeBuffer(buffer$$1, _key, _value, index);\n      } else if (_value instanceof RegExp || isRegExp$1(_value)) {\n        index = serializeRegExp(buffer$$1, _key, _value, index);\n      } else if (_type === 'object' && _value['_bsontype'] == null) {\n        index = serializeObject(buffer$$1, _key, _value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if (_type === 'object' && _value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'Long' || _value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer$$1, _key, _value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if (typeof _value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer$$1, _key, _value, index, checkKeys, depth, serializeFunctions);\n      } else if (_value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer$$1, _key, _value, index, depth, serializeFunctions);\n      } else if (_value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer$$1, _key, _value, index);\n      } else if (_value['_bsontype'] === 'MinKey' || _value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer$$1, _key, _value, index);\n      } else if (typeof _value['_bsontype'] !== 'undefined') {\n        throw new TypeError('Unrecognized or invalid _bsontype: ' + _value['_bsontype']);\n      }\n    }\n  } else {\n    // Did we provide a custom serialization method\n    if (object.toBSON) {\n      if (typeof object.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n      object = object.toBSON();\n      if (object != null && _typeof$3(object) !== 'object') throw new TypeError('toBSON function did not return an object');\n    } // Iterate over all the keys\n\n\n    for (var _key2 in object) {\n      var _value2 = object[_key2]; // Is there an override value\n\n      if (_value2 && _value2.toBSON) {\n        if (typeof _value2.toBSON !== 'function') throw new TypeError('toBSON is not a function');\n        _value2 = _value2.toBSON();\n      } // Check the type of the value\n\n\n      var _type2 = _typeof$3(_value2); // Check the key and throw error if it's illegal\n\n\n      if (typeof _key2 === 'string' && !ignoreKeys.has(_key2)) {\n        if (_key2.match(regexp$1) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + _key2 + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === _key2[0]) {\n            throw Error('key ' + _key2 + \" must not start with '$'\");\n          } else if (~_key2.indexOf('.')) {\n            throw Error('key ' + _key2 + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (_type2 === 'string') {\n        index = serializeString(buffer$$1, _key2, _value2, index);\n      } else if (_type2 === 'number') {\n        index = serializeNumber(buffer$$1, _key2, _value2, index);\n      } else if (_type2 === 'boolean') {\n        index = serializeBoolean(buffer$$1, _key2, _value2, index);\n      } else if (_value2 instanceof Date || isDate$1(_value2)) {\n        index = serializeDate(buffer$$1, _key2, _value2, index);\n      } else if (_value2 === undefined) {\n        if (ignoreUndefined === false) index = serializeNull(buffer$$1, _key2, _value2, index);\n      } else if (_value2 === null) {\n        index = serializeNull(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'ObjectId' || _value2['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer$$1, _key2, _value2, index);\n      } else if (Buffer$5.isBuffer(_value2)) {\n        index = serializeBuffer(buffer$$1, _key2, _value2, index);\n      } else if (_value2 instanceof RegExp || isRegExp$1(_value2)) {\n        index = serializeRegExp(buffer$$1, _key2, _value2, index);\n      } else if (_type2 === 'object' && _value2['_bsontype'] == null) {\n        index = serializeObject(buffer$$1, _key2, _value2, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if (_type2 === 'object' && _value2['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'Long' || _value2['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'Code') {\n        index = serializeCode(buffer$$1, _key2, _value2, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if (typeof _value2 === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer$$1, _key2, _value2, index, checkKeys, depth, serializeFunctions);\n      } else if (_value2['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer$$1, _key2, _value2, index, depth, serializeFunctions);\n      } else if (_value2['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer$$1, _key2, _value2, index);\n      } else if (_value2['_bsontype'] === 'MinKey' || _value2['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer$$1, _key2, _value2, index);\n      } else if (typeof _value2['_bsontype'] !== 'undefined') {\n        throw new TypeError('Unrecognized or invalid _bsontype: ' + _value2['_bsontype']);\n      }\n    }\n  } // Remove the path\n\n\n  path.pop(); // Final padding byte for object\n\n  buffer$$1[index++] = 0x00; // Final size\n\n  var size = index - startingIndex; // Write the size of the object\n\n  buffer$$1[startingIndex++] = size & 0xff;\n  buffer$$1[startingIndex++] = size >> 8 & 0xff;\n  buffer$$1[startingIndex++] = size >> 16 & 0xff;\n  buffer$$1[startingIndex++] = size >> 24 & 0xff;\n  return index;\n}\n\nvar serializer = serializeInto;\n\nfunction _typeof$4(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\nvar Buffer$6 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer;\nvar normalizedFunctionString$2 = utils.normalizedFunctionString; // To ensure that 0.4 of node works correctly\n\nfunction isDate$2(d) {\n  return _typeof$4(d) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n}\n\nfunction calculateObjectSize(object, serializeFunctions, ignoreUndefined) {\n  var totalLength = 4 + 1;\n\n  if (Array.isArray(object)) {\n    for (var i = 0; i < object.length; i++) {\n      totalLength += calculateElement(i.toString(), object[i], serializeFunctions, true, ignoreUndefined);\n    }\n  } else {\n    // If we have toBSON defined, override the current object\n    if (object.toBSON) {\n      object = object.toBSON();\n    } // Calculate size\n\n\n    for (var key in object) {\n      totalLength += calculateElement(key, object[key], serializeFunctions, false, ignoreUndefined);\n    }\n  }\n\n  return totalLength;\n}\n/**\n * @ignore\n * @api private\n */\n\n\nfunction calculateElement(name, value, serializeFunctions, isArray, ignoreUndefined) {\n  // If we have toBSON defined, override the current object\n  if (value && value.toBSON) {\n    value = value.toBSON();\n  }\n\n  switch (_typeof$4(value)) {\n    case 'string':\n      return 1 + Buffer$6.byteLength(name, 'utf8') + 1 + 4 + Buffer$6.byteLength(value, 'utf8') + 1;\n\n    case 'number':\n      if (Math.floor(value) === value && value >= constants.JS_INT_MIN && value <= constants.JS_INT_MAX) {\n        if (value >= constants.BSON_INT32_MIN && value <= constants.BSON_INT32_MAX) {\n          // 32 bit\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (4 + 1);\n        } else {\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n        }\n      } else {\n        // 64 bit\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      }\n\n    case 'undefined':\n      if (isArray || !ignoreUndefined) return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1;\n      return 0;\n\n    case 'boolean':\n      return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (1 + 1);\n\n    case 'object':\n      if (value == null || value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1;\n      } else if (value['_bsontype'] === 'ObjectId' || value['_bsontype'] === 'ObjectID') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (12 + 1);\n      } else if (value instanceof Date || isDate$2(value)) {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (typeof Buffer$6 !== 'undefined' && Buffer$6.isBuffer(value)) {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (1 + 4 + 1) + value.length;\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Double' || value['_bsontype'] === 'Timestamp') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (value['_bsontype'] === 'Decimal128') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (16 + 1);\n      } else if (value['_bsontype'] === 'Code') {\n        // Calculate size depending on the availability of a scope\n        if (value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer$6.byteLength(value.code.toString(), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else {\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer$6.byteLength(value.code.toString(), 'utf8') + 1;\n        }\n      } else if (value['_bsontype'] === 'Binary') {\n        // Check what kind of subtype we have\n        if (value.sub_type === binary.SUBTYPE_BYTE_ARRAY) {\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1 + 4);\n        } else {\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1);\n        }\n      } else if (value['_bsontype'] === 'Symbol') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + Buffer$6.byteLength(value.value, 'utf8') + 4 + 1 + 1;\n      } else if (value['_bsontype'] === 'DBRef') {\n        // Set up correct object for serialization\n        var ordered_values = Object.assign({\n          $ref: value.collection,\n          $id: value.oid\n        }, value.fields); // Add db reference if it exists\n\n        if (value.db != null) {\n          ordered_values['$db'] = value.db;\n        }\n\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + calculateObjectSize(ordered_values, serializeFunctions, ignoreUndefined);\n      } else if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer$6.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer$6.byteLength(value.pattern, 'utf8') + 1 + Buffer$6.byteLength(value.options, 'utf8') + 1;\n      } else {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + calculateObjectSize(value, serializeFunctions, ignoreUndefined) + 1;\n      }\n\n    case 'function':\n      // WTF for 0.4.X where typeof /someregexp/ === 'function'\n      if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]' || String.call(value) === '[object RegExp]') {\n        return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer$6.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n      } else {\n        if (serializeFunctions && value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer$6.byteLength(normalizedFunctionString$2(value), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else if (serializeFunctions) {\n          return (name != null ? Buffer$6.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer$6.byteLength(normalizedFunctionString$2(value), 'utf8') + 1;\n        }\n      }\n\n  }\n\n  return 0;\n}\n\nvar calculate_size = calculateObjectSize;\n\nvar Buffer$7 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer;\n/**\n * Makes sure that, if a Uint8Array is passed in, it is wrapped in a Buffer.\n *\n * @param {Buffer|Uint8Array} potentialBuffer The potential buffer\n * @returns {Buffer} the input if potentialBuffer is a buffer, or a buffer that\n * wraps a passed in Uint8Array\n * @throws {TypeError} If anything other than a Buffer or Uint8Array is passed in\n */\n\nvar ensure_buffer = function ensureBuffer(potentialBuffer) {\n  if (potentialBuffer instanceof Buffer$7) {\n    return potentialBuffer;\n  }\n\n  if (potentialBuffer instanceof Uint8Array) {\n    return Buffer$7.from(potentialBuffer.buffer);\n  }\n\n  throw new TypeError('Must use either Buffer or Uint8Array');\n};\n\nvar Buffer$8 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer; // Parts of the parser\n\n/**\n * @ignore\n */\n// Default Max Size\n\nvar MAXSIZE = 1024 * 1024 * 17; // Current Internal Temporary Serialization Buffer\n\nvar buffer$1 = Buffer$8.alloc(MAXSIZE);\n/**\n * Sets the size of the internal serialization buffer.\n *\n * @method\n * @param {number} size The desired size for the internal serialization buffer\n */\n\nfunction setInternalBufferSize(size) {\n  // Resize the internal serialization buffer if needed\n  if (buffer$1.length < size) {\n    buffer$1 = Buffer$8.alloc(size);\n  }\n}\n/**\n * Serialize a Javascript object.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Buffer} returns the Buffer object containing the serialized object.\n */\n\n\nfunction serialize$1(object, options) {\n  options = options || {}; // Unpack the options\n\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n  var minInternalBufferSize = typeof options.minInternalBufferSize === 'number' ? options.minInternalBufferSize : MAXSIZE; // Resize the internal serialization buffer if needed\n\n  if (buffer$1.length < minInternalBufferSize) {\n    buffer$1 = Buffer$8.alloc(minInternalBufferSize);\n  } // Attempt to serialize\n\n\n  var serializationIndex = serializer(buffer$1, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined, []); // Create the final buffer\n\n  var finishedBuffer = Buffer$8.alloc(serializationIndex); // Copy into the finished buffer\n\n  buffer$1.copy(finishedBuffer, 0, 0, finishedBuffer.length); // Return the buffer\n\n  return finishedBuffer;\n}\n/**\n * Serialize a Javascript object using a predefined Buffer and index into the buffer, useful when pre-allocating the space for serialization.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Buffer} buffer the Buffer you pre-allocated to store the serialized BSON object.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @param {Number} [options.index] the index in the buffer where we wish to start serializing into.\n * @return {Number} returns the index pointing to the last written byte in the buffer.\n */\n\n\nfunction serializeWithBufferAndIndex(object, finalBuffer, options) {\n  options = options || {}; // Unpack the options\n\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n  var startIndex = typeof options.index === 'number' ? options.index : 0; // Attempt to serialize\n\n  var serializationIndex = serializer(buffer$1, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined);\n  buffer$1.copy(finalBuffer, startIndex, 0, serializationIndex); // Return the index\n\n  return startIndex + serializationIndex - 1;\n}\n/**\n * Deserialize data as BSON.\n *\n * @param {Buffer} buffer the buffer containing the serialized set of BSON documents.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @param {boolean} [options.allowObjectSmallerThanBufferSize=false] allows the buffer to be larger than the parsed BSON object\n * @return {Object} returns the deserialized Javascript Object.\n */\n\n\nfunction deserialize$2(buffer$$1, options) {\n  buffer$$1 = ensure_buffer(buffer$$1);\n  return deserializer(buffer$$1, options);\n}\n/**\n * Calculate the bson size for a passed in Javascript object.\n *\n * @param {Object} object the Javascript object to calculate the BSON byte size for.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Number} returns the number of bytes the BSON object will take up.\n */\n\n\nfunction calculateObjectSize$1(object, options) {\n  options = options || {};\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n  return calculate_size(object, serializeFunctions, ignoreUndefined);\n}\n/**\n * Deserialize stream data as BSON documents.\n *\n * @param {Buffer} data the buffer containing the serialized set of BSON documents.\n * @param {Number} startIndex the start index in the data Buffer where the deserialization is to start.\n * @param {Number} numberOfDocuments number of documents to deserialize.\n * @param {Array} documents an array where to store the deserialized documents.\n * @param {Number} docStartIndex the index in the documents array from where to start inserting documents.\n * @param {Object} [options] additional options used for the deserialization.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Number} returns the next index in the buffer after deserialization **x** numbers of documents.\n */\n\n\nfunction deserializeStream(data, startIndex, numberOfDocuments, documents, docStartIndex, options) {\n  options = Object.assign({\n    allowObjectSmallerThanBufferSize: true\n  }, options);\n  data = ensure_buffer(data);\n  var index = startIndex; // Loop over all documents\n\n  for (var i = 0; i < numberOfDocuments; i++) {\n    // Find size of the document\n    var size = data[index] | data[index + 1] << 8 | data[index + 2] << 16 | data[index + 3] << 24; // Update options with index\n\n    options.index = index; // Parse the document at this point\n\n    documents[docStartIndex + i] = deserializer(data, options); // Adjust index by the document size\n\n    index = index + size;\n  } // Return object containing end index of parsing and list of documents\n\n\n  return index;\n}\n\nvar bson = {\n  // constants\n  // NOTE: this is done this way because rollup can't resolve an `Object.assign`ed export\n  BSON_INT32_MAX: constants.BSON_INT32_MAX,\n  BSON_INT32_MIN: constants.BSON_INT32_MIN,\n  BSON_INT64_MAX: constants.BSON_INT64_MAX,\n  BSON_INT64_MIN: constants.BSON_INT64_MIN,\n  JS_INT_MAX: constants.JS_INT_MAX,\n  JS_INT_MIN: constants.JS_INT_MIN,\n  BSON_DATA_NUMBER: constants.BSON_DATA_NUMBER,\n  BSON_DATA_STRING: constants.BSON_DATA_STRING,\n  BSON_DATA_OBJECT: constants.BSON_DATA_OBJECT,\n  BSON_DATA_ARRAY: constants.BSON_DATA_ARRAY,\n  BSON_DATA_BINARY: constants.BSON_DATA_BINARY,\n  BSON_DATA_UNDEFINED: constants.BSON_DATA_UNDEFINED,\n  BSON_DATA_OID: constants.BSON_DATA_OID,\n  BSON_DATA_BOOLEAN: constants.BSON_DATA_BOOLEAN,\n  BSON_DATA_DATE: constants.BSON_DATA_DATE,\n  BSON_DATA_NULL: constants.BSON_DATA_NULL,\n  BSON_DATA_REGEXP: constants.BSON_DATA_REGEXP,\n  BSON_DATA_DBPOINTER: constants.BSON_DATA_DBPOINTER,\n  BSON_DATA_CODE: constants.BSON_DATA_CODE,\n  BSON_DATA_SYMBOL: constants.BSON_DATA_SYMBOL,\n  BSON_DATA_CODE_W_SCOPE: constants.BSON_DATA_CODE_W_SCOPE,\n  BSON_DATA_INT: constants.BSON_DATA_INT,\n  BSON_DATA_TIMESTAMP: constants.BSON_DATA_TIMESTAMP,\n  BSON_DATA_LONG: constants.BSON_DATA_LONG,\n  BSON_DATA_DECIMAL128: constants.BSON_DATA_DECIMAL128,\n  BSON_DATA_MIN_KEY: constants.BSON_DATA_MIN_KEY,\n  BSON_DATA_MAX_KEY: constants.BSON_DATA_MAX_KEY,\n  BSON_BINARY_SUBTYPE_DEFAULT: constants.BSON_BINARY_SUBTYPE_DEFAULT,\n  BSON_BINARY_SUBTYPE_FUNCTION: constants.BSON_BINARY_SUBTYPE_FUNCTION,\n  BSON_BINARY_SUBTYPE_BYTE_ARRAY: constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,\n  BSON_BINARY_SUBTYPE_UUID: constants.BSON_BINARY_SUBTYPE_UUID,\n  BSON_BINARY_SUBTYPE_MD5: constants.BSON_BINARY_SUBTYPE_MD5,\n  BSON_BINARY_SUBTYPE_USER_DEFINED: constants.BSON_BINARY_SUBTYPE_USER_DEFINED,\n  // wrapped types\n  Code: code,\n  Map: map,\n  BSONSymbol: symbol,\n  DBRef: db_ref,\n  Binary: binary,\n  ObjectId: objectid,\n  Long: long_1,\n  Timestamp: timestamp,\n  Double: double_1,\n  Int32: int_32,\n  MinKey: min_key,\n  MaxKey: max_key,\n  BSONRegExp: regexp,\n  Decimal128: decimal128,\n  // methods\n  serialize: serialize$1,\n  serializeWithBufferAndIndex: serializeWithBufferAndIndex,\n  deserialize: deserialize$2,\n  calculateObjectSize: calculateObjectSize$1,\n  deserializeStream: deserializeStream,\n  setInternalBufferSize: setInternalBufferSize,\n  // legacy support\n  ObjectID: objectid,\n  // Extended JSON\n  EJSON: extended_json\n};\nvar bson_1 = bson.BSON_INT32_MAX;\nvar bson_2 = bson.BSON_INT32_MIN;\nvar bson_3 = bson.BSON_INT64_MAX;\nvar bson_4 = bson.BSON_INT64_MIN;\nvar bson_5 = bson.JS_INT_MAX;\nvar bson_6 = bson.JS_INT_MIN;\nvar bson_7 = bson.BSON_DATA_NUMBER;\nvar bson_8 = bson.BSON_DATA_STRING;\nvar bson_9 = bson.BSON_DATA_OBJECT;\nvar bson_10 = bson.BSON_DATA_ARRAY;\nvar bson_11 = bson.BSON_DATA_BINARY;\nvar bson_12 = bson.BSON_DATA_UNDEFINED;\nvar bson_13 = bson.BSON_DATA_OID;\nvar bson_14 = bson.BSON_DATA_BOOLEAN;\nvar bson_15 = bson.BSON_DATA_DATE;\nvar bson_16 = bson.BSON_DATA_NULL;\nvar bson_17 = bson.BSON_DATA_REGEXP;\nvar bson_18 = bson.BSON_DATA_DBPOINTER;\nvar bson_19 = bson.BSON_DATA_CODE;\nvar bson_20 = bson.BSON_DATA_SYMBOL;\nvar bson_21 = bson.BSON_DATA_CODE_W_SCOPE;\nvar bson_22 = bson.BSON_DATA_INT;\nvar bson_23 = bson.BSON_DATA_TIMESTAMP;\nvar bson_24 = bson.BSON_DATA_LONG;\nvar bson_25 = bson.BSON_DATA_DECIMAL128;\nvar bson_26 = bson.BSON_DATA_MIN_KEY;\nvar bson_27 = bson.BSON_DATA_MAX_KEY;\nvar bson_28 = bson.BSON_BINARY_SUBTYPE_DEFAULT;\nvar bson_29 = bson.BSON_BINARY_SUBTYPE_FUNCTION;\nvar bson_30 = bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY;\nvar bson_31 = bson.BSON_BINARY_SUBTYPE_UUID;\nvar bson_32 = bson.BSON_BINARY_SUBTYPE_MD5;\nvar bson_33 = bson.BSON_BINARY_SUBTYPE_USER_DEFINED;\nvar bson_34 = bson.Code;\nvar bson_35 = bson.BSONSymbol;\nvar bson_36 = bson.DBRef;\nvar bson_37 = bson.Binary;\nvar bson_38 = bson.ObjectId;\nvar bson_39 = bson.Long;\nvar bson_40 = bson.Timestamp;\nvar bson_41 = bson.Double;\nvar bson_42 = bson.Int32;\nvar bson_43 = bson.MinKey;\nvar bson_44 = bson.MaxKey;\nvar bson_45 = bson.BSONRegExp;\nvar bson_46 = bson.Decimal128;\nvar bson_47 = bson.serialize;\nvar bson_48 = bson.serializeWithBufferAndIndex;\nvar bson_49 = bson.deserialize;\nvar bson_50 = bson.calculateObjectSize;\nvar bson_51 = bson.deserializeStream;\nvar bson_52 = bson.setInternalBufferSize;\nvar bson_53 = bson.ObjectID;\nvar bson_54 = bson.EJSON;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (bson);\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../node-libs-browser/node_modules/buffer/index.js */ \"./node_modules/node-libs-browser/node_modules/buffer/index.js\").Buffer))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2Jzb24vZGlzdC9ic29uLmJyb3dzZXIuZXNtLmpzPzllOGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF3QjtBQUNJOztBQUU1Qjs7QUFFQTtBQUNBLGtCQUFrQixZQUFZLEVBQUU7QUFDaEM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixrQkFBa0I7QUFDdkMsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0EsNkJBQTZCOztBQUU3Qiw2QkFBNkI7QUFDN0I7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDOztBQUV0QywrQkFBK0I7O0FBRS9COztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxQkFBcUIsdUJBQXVCO0FBQzVDLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUCwyQkFBMkI7QUFDM0I7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQSwyQ0FBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLDJDQUFJO0FBQ0osZUFBZSwyQ0FBSTtBQUNuQjtBQUNBOztBQUVBLHNCQUFzQiwyQ0FBSTtBQUMxQjtBQUNBLENBQUM7QUFDRCxhQUFhLDJDQUFJOztBQUVqQjtBQUNBO0FBQ0E7O0FBRUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTNULDZEQUE2RCxzRUFBc0UsOERBQThELG9CQUFvQjs7QUFFck47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQSx1QkFBdUIsMkVBQTJFLGtDQUFrQyxtQkFBbUIsR0FBRyxFQUFFLE9BQU8sa0NBQWtDLDhIQUE4SCxHQUFHLEVBQUUscUJBQXFCOztBQUU3VixtREFBbUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV6Siw2Q0FBNkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFN1QsK0RBQStELHdFQUF3RSxnRUFBZ0Usb0JBQW9COztBQUUzTixpREFBaUQsMEVBQTBFLGFBQWEsRUFBRSxxQ0FBcUM7O0FBRS9LLHVDQUF1Qyx1QkFBdUIsdUZBQXVGLEVBQUUsYUFBYTs7QUFFcEssNkJBQTZCLGdHQUFnRyxnREFBZ0QsR0FBRywyQkFBMkI7O0FBRTNNLDBDQUEwQywrREFBK0QsMkVBQTJFLEVBQUUseUVBQXlFLGVBQWUsc0RBQXNELEVBQUUsRUFBRSx1REFBdUQ7O0FBRS9YLGdDQUFnQyw0RUFBNEUsaUJBQWlCLFVBQVUsR0FBRyw4QkFBOEI7QUFDeEs7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLFVBQVU7QUFDMUI7O0FBRUEsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLFVBQVU7QUFDMUI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixVQUFVO0FBQzFCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsVUFBVTtBQUMxQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixVQUFVO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsR0FBRyxhQUFhO0FBQ2hCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHlCQUF5QiwyRUFBMkUsb0NBQW9DLG1CQUFtQixHQUFHLEVBQUUsT0FBTyxvQ0FBb0MsOEhBQThILEdBQUcsRUFBRSx1QkFBdUI7QUFDclc7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsdUJBQXVCLFNBQVM7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsS0FBSyxHQUFHOztBQUUxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtFQUFrRTs7QUFFbEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7QUFDRDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrR0FBa0c7O0FBRWxHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1EQUFtRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXpKLDZDQUE2QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFOztBQUU3VCwrREFBK0Qsd0VBQXdFLGdFQUFnRSxvQkFBb0I7O0FBRTNOLGVBQWUsNkNBQU07QUFDckI7QUFDQSxpQ0FBaUM7O0FBRWpDLHNDQUFzQzs7QUFFdEMsaURBQWlELEdBQUc7QUFDcEQsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQzs7O0FBR0Q7O0FBRUEsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVCQUF1QjtBQUNwQyxnQkFBZ0IsT0FBTztBQUN2QixjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDOztBQUUxQztBQUNBO0FBQ0Esc0NBQXNDOztBQUV0QyxvRUFBb0U7O0FBRXBFO0FBQ0EsS0FBSzs7O0FBR0wscUNBQXFDOztBQUVyQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsc0JBQXNCO0FBQzdDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQixRQUFRO0FBQ3hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsS0FBSztBQUNyQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLE9BQU87QUFDdkI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qzs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsU0FBUztBQUN6Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDBFQUEwRTs7QUFFMUU7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLFNBQVM7QUFDekI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUCwyRUFBMkU7O0FBRTNFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQyxHQUFHOzs7QUFHSjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLG1EQUFtRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXpKLDZDQUE2QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFOztBQUU3VCwrREFBK0Qsd0VBQXdFLGdFQUFnRSxvQkFBb0I7O0FBRTNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDs7QUFFdkQsbUJBQW1CLHlCQUF5QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtREFBbUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV6Siw2Q0FBNkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFN1QsK0RBQStELHdFQUF3RSxnRUFBZ0Usb0JBQW9COztBQUUzTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1EQUFtRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXpKLDZDQUE2QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFOztBQUU3VCwrREFBK0Qsd0VBQXdFLGdFQUFnRSxvQkFBb0I7O0FBRTNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1EQUFtRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXpKLDZDQUE2QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFOztBQUU3VCwrREFBK0Qsd0VBQXdFLGdFQUFnRSxvQkFBb0I7O0FBRTNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0JBQWtCO0FBQy9CLGFBQWEsT0FBTztBQUNwQixjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLGVBQWUsNkNBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9COztBQUVwQiw0SEFBNEg7O0FBRTVIO0FBQ0E7QUFDQSx1Q0FBdUM7O0FBRXZDO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBLDhCQUE4Qjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GOztBQUVwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWSxXQUFXO0FBQ3ZCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjs7QUFFM0IsNEJBQTRCOztBQUU1QixzQkFBc0I7O0FBRXRCLGtCQUFrQjs7QUFFbEIsd0JBQXdCOztBQUV4Qix1QkFBdUI7O0FBRXZCLG1CQUFtQjs7QUFFbkIsd0JBQXdCOztBQUV4Qix1QkFBdUI7O0FBRXZCLHFCQUFxQjs7QUFFckIsb0JBQW9COztBQUVwQixtQkFBbUI7O0FBRW5CLFlBQVk7O0FBRVosK0JBQStCOztBQUUvQiw4QkFBOEI7O0FBRTlCLHlCQUF5Qjs7QUFFekIsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQzs7QUFFbkMsbUZBQW1GOztBQUVuRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0Qjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvR0FBb0c7O0FBRXBHO0FBQ0E7QUFDQSw2REFBNkQ7O0FBRTdELDhFQUE4RTs7QUFFOUUsc0NBQXNDOztBQUV0QztBQUNBLEdBQUc7OztBQUdILHNFQUFzRTtBQUN0RTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw4Q0FBOEMsaUJBQWlCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0EsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBLHlDQUF5Qzs7QUFFekMsd0NBQXdDOztBQUV4QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLFVBQVUsb0JBQW9CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLFVBQVUsMEJBQTBCO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxVQUFVLHFCQUFxQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaURBQWlEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxEO0FBQ0EsRUFBRTs7O0FBR0YsNEJBQTRCOztBQUU1QiwyQkFBMkI7O0FBRTNCLDhCQUE4Qjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVgsV0FBVzs7QUFFWCxXQUFXOztBQUVYLFVBQVU7O0FBRVYsa0JBQWtCOztBQUVsQixzQkFBc0I7O0FBRXRCLDZCQUE2Qjs7QUFFN0I7O0FBRUEsaUJBQWlCLHdCQUF3QjtBQUN6QztBQUNBLEdBQUc7OztBQUdILGdCQUFnQjs7QUFFaEIsZUFBZTs7QUFFZiwwQkFBMEI7O0FBRTFCLHNCQUFzQjs7QUFFdEIsc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0EsSUFBSTs7QUFFSixXQUFXOztBQUVYLGtCQUFrQjs7QUFFbEIsWUFBWTs7QUFFWiw2QkFBNkI7O0FBRTdCO0FBQ0EsNEdBQTRHOztBQUU1RztBQUNBLDRHQUE0Rzs7QUFFNUcsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZUFBZSxRQUFRO0FBQ3ZCLDJCQUEyQjs7QUFFM0I7QUFDQTtBQUNBLG9DQUFvQztBQUNwQzs7QUFFQTs7QUFFQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBLG1EQUFtRDs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0EsS0FBSzs7O0FBR0w7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx1QkFBdUIsMEJBQTBCO0FBQ2pEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseURBQXlEOztBQUV6RDtBQUNBLHlCQUF5QixzQkFBc0I7QUFDL0M7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBLHVCQUF1Qjs7QUFFdkI7QUFDQTtBQUNBOztBQUVBLHVCQUF1Qiw0REFBNEQ7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbURBQW1ELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFekosNkNBQTZDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTdULCtEQUErRCx3RUFBd0UsZ0VBQWdFLG9CQUFvQjs7QUFFM047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtREFBbUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV6Siw2Q0FBNkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFN1QsK0RBQStELHdFQUF3RSxnRUFBZ0Usb0JBQW9COztBQUUzTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1EQUFtRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXpKLDZDQUE2QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFOztBQUU3VCwrREFBK0Qsd0VBQXdFLGdFQUFnRSxvQkFBb0I7O0FBRTNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxPQUFPO0FBQ3BCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDLEVBQUU7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDs7QUFFQSxtREFBbUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV6Siw2Q0FBNkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRTs7QUFFN1QsK0RBQStELHdFQUF3RSxnRUFBZ0Usb0JBQW9COztBQUUzTixlQUFlLDZDQUFNO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0tBQWdLOztBQUVoSzs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0Esa0ZBQWtGOztBQUVsRjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVzs7O0FBR1gseUJBQXlCLHdCQUF3QjtBQUNqRDtBQUNBLFdBQVc7OztBQUdYLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsT0FBTztBQUN0QixnQkFBZ0I7QUFDaEI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSxtRUFBbUU7O0FBRW5FO0FBQ0EsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwRkFBMEY7O0FBRTFGLHlCQUF5QixtQkFBbUI7QUFDNUM7QUFDQTtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdHQUF3RztBQUN4RyxPQUFPO0FBQ1A7QUFDQSx3R0FBd0c7QUFDeEcsT0FBTztBQUNQLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUCx5QkFBeUIscUJBQXFCO0FBQzlDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGdCQUFnQjtBQUNoQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDZEQUE2RDs7QUFFN0Q7QUFDQTtBQUNBLE9BQU87OztBQUdQOztBQUVBLHFCQUFxQixZQUFZO0FBQ2pDO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNENBQTRDOztBQUU1QyxpSkFBaUo7O0FBRWpKO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxrSUFBa0k7O0FBRWxJLDJCQUEyQixtQkFBbUI7QUFDOUM7QUFDQSxhQUFhOzs7QUFHYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsNEhBQTRIOztBQUU1SCxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUEsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiwyRUFBMkUsb0NBQW9DLG1CQUFtQixHQUFHLEVBQUUsT0FBTyxvQ0FBb0MsOEhBQThILEdBQUcsRUFBRSx1QkFBdUI7QUFDclc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0EsR0FBRzs7O0FBR0gsbUVBQW1FOztBQUVuRTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxzREFBc0Q7QUFDakg7QUFDQTs7QUFFQTtBQUNBLCtCQUErQjs7QUFFL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrREFBa0Q7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRTs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVLFFBQVE7QUFDbEIsa0JBQWtCLFdBQVcscUJBQXFCLEVBQUU7QUFDcEQ7QUFDQSxjQUFjLFNBQVMsaURBQWlEO0FBQ3hFLGtDQUFrQyxpQkFBaUI7QUFDbkQ7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQSw0QkFBNEI7QUFDNUI7QUFDQSxHQUFHLFdBQVc7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxlQUFlO0FBQzFCLFdBQVcsY0FBYztBQUN6QixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVSxRQUFRO0FBQ2xCO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0EsZUFBZSxTQUFTLG1CQUFtQjtBQUMzQyxxQ0FBcUMsaUJBQWlCO0FBQ3REO0FBQ0EsZUFBZSxXQUFXO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixZQUFZO0FBQ1o7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7O0FBRTFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLDZDQUFNO0FBQ3JCLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDO0FBQ2hDLDJEQUEyRDs7QUFFM0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUY7O0FBRW5GLDREQUE0RDs7QUFFNUQsOEZBQThGOztBQUU5RjtBQUNBO0FBQ0EseUZBQXlGOztBQUV6Rix5QkFBeUI7O0FBRXpCLG1GQUFtRjs7QUFFbkYsZ0hBQWdIOztBQUVoSCxtRkFBbUY7O0FBRW5GLGlDQUFpQzs7QUFFakM7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7QUFDQSx5Q0FBeUM7O0FBRXpDLGlDQUFpQzs7QUFFakMsa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEhBQTRIOztBQUU1SDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUEsaUNBQWlDOztBQUVqQywwQ0FBMEM7O0FBRTFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQSxvREFBb0Q7O0FBRXBEO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHFDQUFxQzs7QUFFckMsa0RBQWtEOztBQUVsRCx5QkFBeUI7O0FBRXpCLGdEQUFnRDs7QUFFaEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVDQUF1Qzs7QUFFdkMscUZBQXFGOztBQUVyRixxSEFBcUg7O0FBRXJIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQLDhIQUE4SDs7O0FBRzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVCxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUCx1RkFBdUY7O0FBRXZGLHdEQUF3RDs7QUFFeEQsb0JBQW9COztBQUVwQixnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUCx1RkFBdUY7O0FBRXZGO0FBQ0Esb0JBQW9COztBQUVwQix5REFBeUQ7O0FBRXpELGlCQUFpQiwwQkFBMEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUCx1RkFBdUY7O0FBRXZGOztBQUVBLG9CQUFvQjs7QUFFcEIsZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0EsT0FBTzs7O0FBR1AsdUZBQXVGOztBQUV2Rjs7QUFFQSxvQkFBb0I7O0FBRXBCO0FBQ0EsS0FBSztBQUNMOztBQUVBLCtKQUErSjs7QUFFL0o7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLHVGQUF1Rjs7QUFFdkY7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGOztBQUVsRjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQSxLQUFLO0FBQ0wseUhBQXlIOztBQUV6SDtBQUNBO0FBQ0EsT0FBTzs7O0FBR1AsNEhBQTRIOzs7QUFHNUgsa0tBQWtLOztBQUVsSyx3RkFBd0Y7OztBQUd4RixtQ0FBbUM7O0FBRW5DLDBCQUEwQjs7QUFFMUIsZ0lBQWdJOzs7QUFHaEksOEVBQThFOztBQUU5RSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUDtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQTtBQUNBO0FBQ0EscUZBQXFGOzs7QUFHckY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEhBQTRIOzs7QUFHNUgsa0tBQWtLOztBQUVsSztBQUNBO0FBQ0E7O0FBRUEsa0ZBQWtGOztBQUVsRixtQ0FBbUM7O0FBRW5DO0FBQ0E7O0FBRUEseUNBQXlDOzs7QUFHekMseUJBQXlCOztBQUV6QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHLEVBQUU7O0FBRUw7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0JBQStCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFdBQVc7QUFDbkI7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFFBQVEsV0FBVztBQUNuQjs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsMkVBQTJFLG9DQUFvQyxtQkFBbUIsR0FBRyxFQUFFLE9BQU8sb0NBQW9DLDhIQUE4SCxHQUFHLEVBQUUsdUJBQXVCOztBQUVyVyxlQUFlLDZDQUFNO0FBQ3JCO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCLGlFQUFpRTs7QUFFakU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtEOztBQUVsRCxtSEFBbUg7O0FBRW5IO0FBQ0EsMkJBQTJCOztBQUUzQix1REFBdUQ7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQzs7QUFFckMsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7O0FBRW5ELHVIQUF1SDs7QUFFdkg7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0RBQXNEOztBQUV0RCx3SEFBd0g7OztBQUd4SDtBQUNBLDZCQUE2Qjs7QUFFN0IsK0RBQStEOztBQUUvRDtBQUNBLEtBQUs7QUFDTDtBQUNBLG9EQUFvRDs7QUFFcEQseUhBQXlIOzs7QUFHekg7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9EQUFvRDs7QUFFcEQsdUhBQXVIOzs7QUFHdkg7QUFDQSwyQkFBMkI7O0FBRTNCLDZEQUE2RDs7QUFFN0Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0Q7O0FBRWhELG1IQUFtSDs7QUFFbkg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1EQUFtRDs7QUFFbkQsbUhBQW1IOztBQUVuSDtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0Q7O0FBRWhELG1IQUFtSDs7QUFFbkg7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQSwyQ0FBMkM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxELG1IQUFtSDs7QUFFbkg7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0gsK0RBQStEOztBQUUvRCw0QkFBNEI7O0FBRTVCLGtEQUFrRDs7QUFFbEQsOENBQThDOztBQUU5QyxpREFBaUQ7QUFDakQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxELG1IQUFtSDs7QUFFbkg7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0gsZ0VBQWdFOztBQUVoRSw0QkFBNEI7O0FBRTVCLDBGQUEwRjs7QUFFMUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7O0FBR0gsbUhBQW1IOztBQUVuSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDOztBQUUvQyxtSEFBbUg7O0FBRW5IO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtEOztBQUVsRCxtSEFBbUg7O0FBRW5IO0FBQ0EseUJBQXlCOztBQUV6QiwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekMsNkRBQTZEOztBQUU3RCx3Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQSxHQUFHOzs7QUFHSCxtQkFBbUI7O0FBRW5CLHFHQUFxRzs7QUFFckcsbUhBQW1IOztBQUVuSDtBQUNBO0FBQ0EseUhBQXlIOztBQUV6SDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzREFBc0Q7O0FBRXRELG1IQUFtSDs7QUFFbkg7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkdBQTZHOztBQUU3RyxtSEFBbUg7O0FBRW5IO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0EsNENBQTRDOztBQUU1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtDQUErQzs7QUFFL0MsbUhBQW1IOztBQUVuSDtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxELG1IQUFtSDs7QUFFbkg7QUFDQSx5QkFBeUI7O0FBRXpCLGlFQUFpRTs7QUFFakU7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0RBQWdEOztBQUVoRCxtSEFBbUg7O0FBRW5IO0FBQ0EseUJBQXlCOztBQUV6Qix5REFBeUQ7O0FBRXpELG9FQUFvRTs7QUFFcEU7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDOztBQUUzQywrQkFBK0I7O0FBRS9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7O0FBRTFELHFIQUFxSDs7QUFFckg7QUFDQSwyQkFBMkI7O0FBRTNCLDJCQUEyQjtBQUMzQjs7QUFFQSw2RkFBNkY7O0FBRTdGLHNCQUFzQjs7QUFFdEIsMEVBQTBFOztBQUUxRTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7O0FBRWpELDRDQUE0Qzs7QUFFNUMsaUNBQWlDO0FBQ2pDOztBQUVBO0FBQ0EseUJBQXlCOztBQUV6QiwwQ0FBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDs7QUFFckQ7QUFDQSxHQUFHO0FBQ0gsa0RBQWtEOztBQUVsRCx1SEFBdUg7OztBQUd2SDtBQUNBLDJCQUEyQjs7QUFFM0IsZ0RBQWdEOzs7QUFHaEQsdUVBQXVFOztBQUV2RTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7O0FBRTdDLGlDQUFpQzs7QUFFakM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxELG1IQUFtSDs7QUFFbkg7QUFDQSx5QkFBeUI7O0FBRXpCLCtCQUErQjs7QUFFL0IsNEJBQTRCOztBQUU1QixvRUFBb0U7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekMsc0NBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSCxpREFBaUQ7O0FBRWpEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtEOztBQUVsRCxtSEFBbUg7O0FBRW5IO0FBQ0EseUJBQXlCOztBQUV6QixpRUFBaUU7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQzs7QUFFM0MsK0JBQStCOztBQUUvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEQUFrRDs7QUFFbEQsbUhBQW1IOztBQUVuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGOztBQUUzRixtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qzs7QUFFOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9COztBQUVwQixvQkFBb0I7O0FBRXBCLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQSw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4Qix5QkFBeUI7O0FBRXpCO0FBQ0Esa0NBQWtDOztBQUVsQyxvQ0FBb0M7OztBQUdwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7O0FBR1Asc0NBQXNDOzs7QUFHdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdILGFBQWE7O0FBRWIsNEJBQTRCOztBQUU1QixtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5QkFBeUIsMkVBQTJFLG9DQUFvQyxtQkFBbUIsR0FBRyxFQUFFLE9BQU8sb0NBQW9DLDhIQUE4SCxHQUFHLEVBQUUsdUJBQXVCOztBQUVyVyxlQUFlLDZDQUFNO0FBQ3JCLGdFQUFnRTs7QUFFaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCOztBQUV6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLGVBQWUsNkNBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGVBQWUsNkNBQU0sUUFBUTs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLE9BQU87QUFDbkI7OztBQUdBO0FBQ0EsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0E7QUFDQSwwSEFBMEg7O0FBRTFIO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSCxrSEFBa0g7O0FBRWxILDBEQUEwRDs7QUFFMUQsNkRBQTZEOztBQUU3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsWUFBWSxPQUFPO0FBQ25COzs7QUFHQTtBQUNBLDBCQUEwQjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EseUVBQXlFOztBQUV6RTtBQUNBLGdFQUFnRTs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQixZQUFZLE9BQU87QUFDbkI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxPQUFPO0FBQ25COzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE1BQU07QUFDakIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFlBQVksT0FBTztBQUNuQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseUJBQXlCOztBQUV6QixpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0Esa0dBQWtHOztBQUVsRywwQkFBMEI7O0FBRTFCLCtEQUErRDs7QUFFL0Q7QUFDQSxHQUFHOzs7QUFHSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxtRUFBSSxFQUFDO0FBQ2c4QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9ic29uL2Rpc3QvYnNvbi5icm93c2VyLmVzbS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb25nIGZyb20gJ2xvbmcnO1xuaW1wb3J0IGJ1ZmZlciBmcm9tICdidWZmZXInO1xuXG52YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxudmFyIG1hcCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcblxuICBpZiAodHlwZW9mIGNvbW1vbmpzR2xvYmFsLk1hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGNvbW1vbmpzR2xvYmFsLk1hcDtcbiAgICBtb2R1bGUuZXhwb3J0cy5NYXAgPSBjb21tb25qc0dsb2JhbC5NYXA7XG4gIH0gZWxzZSB7XG4gICAgLy8gV2Ugd2lsbCByZXR1cm4gYSBwb2x5ZmlsbFxuICAgIHZhciBNYXAgPSBmdW5jdGlvbiBNYXAoYXJyYXkpIHtcbiAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJheVtpXSA9PSBudWxsKSBjb250aW51ZTsgLy8gc2tpcCBudWxsIGFuZCB1bmRlZmluZWRcblxuICAgICAgICB2YXIgZW50cnkgPSBhcnJheVtpXTtcbiAgICAgICAgdmFyIGtleSA9IGVudHJ5WzBdO1xuICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeVsxXTsgLy8gQWRkIHRoZSBrZXkgdG8gdGhlIGxpc3Qgb2Yga2V5cyBpbiBvcmRlclxuXG4gICAgICAgIHRoaXMuX2tleXMucHVzaChrZXkpOyAvLyBBZGQgdGhlIGtleSBhbmQgdmFsdWUgdG8gdGhlIHZhbHVlcyBkaWN0aW9uYXJ5IHdpdGggYSBwb2ludFxuICAgICAgICAvLyB0byB0aGUgbG9jYXRpb24gaW4gdGhlIG9yZGVyZWQga2V5cyBsaXN0XG5cblxuICAgICAgICB0aGlzLl92YWx1ZXNba2V5XSA9IHtcbiAgICAgICAgICB2OiB2YWx1ZSxcbiAgICAgICAgICBpOiB0aGlzLl9rZXlzLmxlbmd0aCAtIDFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IHt9O1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX3ZhbHVlc1trZXldO1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBmYWxzZTsgLy8gRGVsZXRlIGVudHJ5XG5cbiAgICAgIGRlbGV0ZSB0aGlzLl92YWx1ZXNba2V5XTsgLy8gUmVtb3ZlIHRoZSBrZXkgZnJvbSB0aGUgb3JkZXJlZCBrZXlzIGxpc3RcblxuICAgICAgdGhpcy5fa2V5cy5zcGxpY2UodmFsdWUuaSwgMSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gc2VsZi5fa2V5c1tpbmRleCsrXTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IGtleSAhPT0gdW5kZWZpbmVkID8gW2tleSwgc2VsZi5fdmFsdWVzW2tleV0udl0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb25lOiBrZXkgIT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgc2VsZikge1xuICAgICAgc2VsZiA9IHNlbGYgfHwgdGhpcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9rZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXlzW2ldOyAvLyBDYWxsIHRoZSBmb3JFYWNoIGNhbGxiYWNrXG5cbiAgICAgICAgY2FsbGJhY2suY2FsbChzZWxmLCB0aGlzLl92YWx1ZXNba2V5XS52LCBrZXksIHNlbGYpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNba2V5XSA/IHRoaXMuX3ZhbHVlc1trZXldLnYgOiB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1trZXldICE9IG51bGw7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHZhciBrZXkgPSBzZWxmLl9rZXlzW2luZGV4KytdO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZToga2V5ICE9PSB1bmRlZmluZWQgPyBrZXkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb25lOiBrZXkgIT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl92YWx1ZXNba2V5XSkge1xuICAgICAgICB0aGlzLl92YWx1ZXNba2V5XS52ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSAvLyBBZGQgdGhlIGtleSB0byB0aGUgbGlzdCBvZiBrZXlzIGluIG9yZGVyXG5cblxuICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7IC8vIEFkZCB0aGUga2V5IGFuZCB2YWx1ZSB0byB0aGUgdmFsdWVzIGRpY3Rpb25hcnkgd2l0aCBhIHBvaW50XG4gICAgICAvLyB0byB0aGUgbG9jYXRpb24gaW4gdGhlIG9yZGVyZWQga2V5cyBsaXN0XG5cblxuICAgICAgdGhpcy5fdmFsdWVzW2tleV0gPSB7XG4gICAgICAgIHY6IHZhbHVlLFxuICAgICAgICBpOiB0aGlzLl9rZXlzLmxlbmd0aCAtIDFcbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gc2VsZi5fa2V5c1tpbmRleCsrXTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IGtleSAhPT0gdW5kZWZpbmVkID8gc2VsZi5fdmFsdWVzW2tleV0udiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRvbmU6IGtleSAhPT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0cnVlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9OyAvLyBMYXN0IGlzbWFzdGVyXG5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1vZHVsZS5leHBvcnRzID0gTWFwO1xuICB9XG59KTtcbnZhciBtYXBfMSA9IG1hcC5NYXA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5cblxubG9uZy5wcm90b3R5cGUudG9FeHRlbmRlZEpTT04gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlbGF4ZWQpIHJldHVybiB0aGlzLnRvTnVtYmVyKCk7XG4gIHJldHVybiB7XG4gICAgJG51bWJlckxvbmc6IHRoaXMudG9TdHJpbmcoKVxuICB9O1xufTtcbi8qKlxuICogQGlnbm9yZVxuICovXG5cblxubG9uZy5mcm9tRXh0ZW5kZWRKU09OID0gZnVuY3Rpb24gKGRvYywgb3B0aW9ucykge1xuICB2YXIgcmVzdWx0ID0gbG9uZy5mcm9tU3RyaW5nKGRvYy4kbnVtYmVyTG9uZyk7XG4gIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMucmVsYXhlZCA/IHJlc3VsdC50b051bWJlcigpIDogcmVzdWx0O1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGxvbmcucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ0xvbmcnXG59KTtcbnZhciBsb25nXzEgPSBsb25nO1xuXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gRG91YmxlIHR5cGUuXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgRG91YmxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIERvdWJsZSB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSB0aGUgbnVtYmVyIHdlIHdhbnQgdG8gcmVwcmVzZW50IGFzIGEgZG91YmxlLlxuICAgKiBAcmV0dXJuIHtEb3VibGV9XG4gICAqL1xuICBmdW5jdGlvbiBEb3VibGUodmFsdWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG91YmxlKTtcblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQWNjZXNzIHRoZSBudW1iZXIgdmFsdWUuXG4gICAqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7bnVtYmVyfSByZXR1cm5zIHRoZSB3cmFwcGVkIGRvdWJsZSBudW1iZXIuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKERvdWJsZSwgW3tcbiAgICBrZXk6IFwidmFsdWVPZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZU9mKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9FeHRlbmRlZEpTT04ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZWxheGVkICYmIGlzRmluaXRlKHRoaXMudmFsdWUpKSByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICRudW1iZXJEb3VibGU6IHRoaXMudmFsdWUudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogXCJmcm9tRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21FeHRlbmRlZEpTT04oZG9jLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucyAmJiBvcHRpb25zLnJlbGF4ZWQgPyBwYXJzZUZsb2F0KGRvYy4kbnVtYmVyRG91YmxlKSA6IG5ldyBEb3VibGUocGFyc2VGbG9hdChkb2MuJG51bWJlckRvdWJsZSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEb3VibGU7XG59KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEb3VibGUucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ0RvdWJsZSdcbn0pO1xudmFyIGRvdWJsZV8xID0gRG91YmxlO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skMShpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDEodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkMShDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDEoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQxKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG4vKipcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtudW1iZXJ9IGxvdyAgdGhlIGxvdyAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBUaW1lc3RhbXAuXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaCB0aGUgaGlnaCAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBUaW1lc3RhbXAuXG4gKiBAcmV0dXJuIHtUaW1lc3RhbXB9XG4gKi9cblxuXG52YXIgVGltZXN0YW1wID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfTG9uZykge1xuICBfaW5oZXJpdHMoVGltZXN0YW1wLCBfTG9uZyk7XG5cbiAgZnVuY3Rpb24gVGltZXN0YW1wKGxvdywgaGlnaCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFRpbWVzdGFtcCk7XG5cbiAgICBpZiAobG9uZ18xLmlzTG9uZyhsb3cpKSB7XG4gICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihUaW1lc3RhbXApLmNhbGwodGhpcywgbG93LmxvdywgbG93LmhpZ2gpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoVGltZXN0YW1wKS5jYWxsKHRoaXMsIGxvdywgaGlnaCkpO1xuICAgIH1cblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgSlNPTiB2YWx1ZS5cbiAgICpcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBKU09OIHJlcHJlc2VudGF0aW9uLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQxKFRpbWVzdGFtcCwgW3tcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICR0aW1lc3RhbXA6IHRoaXMudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFRpbWVzdGFtcCByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gKDMyLWJpdCkgaW50ZWdlciB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgdGhlIDMyLWJpdCBpbnRlZ2VyIGluIHF1ZXN0aW9uLlxuICAgICAqIEByZXR1cm4ge1RpbWVzdGFtcH0gdGhlIHRpbWVzdGFtcC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvRXh0ZW5kZWRKU09OXCIsXG5cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRXh0ZW5kZWRKU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJHRpbWVzdGFtcDoge1xuICAgICAgICAgIHQ6IHRoaXMuaGlnaCxcbiAgICAgICAgICBpOiB0aGlzLmxvd1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21JbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUludCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAobG9uZ18xLmZyb21JbnQodmFsdWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFRpbWVzdGFtcCByZXByZXNlbnRpbmcgdGhlIGdpdmVuIG51bWJlciB2YWx1ZSwgcHJvdmlkZWQgdGhhdCBpdCBpcyBhIGZpbml0ZSBudW1iZXIuIE90aGVyd2lzZSwgemVybyBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgdGhlIG51bWJlciBpbiBxdWVzdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtUaW1lc3RhbXB9IHRoZSB0aW1lc3RhbXAuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmcm9tTnVtYmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21OdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKGxvbmdfMS5mcm9tTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBUaW1lc3RhbXAgZm9yIHRoZSBnaXZlbiBoaWdoIGFuZCBsb3cgYml0cy4gRWFjaCBpcyBhc3N1bWVkIHRvIHVzZSAzMiBiaXRzLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzIHRoZSBsb3cgMzItYml0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHMgdGhlIGhpZ2ggMzItYml0cy5cbiAgICAgKiBAcmV0dXJuIHtUaW1lc3RhbXB9IHRoZSB0aW1lc3RhbXAuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmcm9tQml0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tQml0cyhsb3dCaXRzLCBoaWdoQml0cykge1xuICAgICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAobG93Qml0cywgaGlnaEJpdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVGltZXN0YW1wIGZyb20gdGhlIGdpdmVuIHN0cmluZywgb3B0aW9uYWxseSB1c2luZyB0aGUgZ2l2ZW4gcmFkaXguXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciB0aGUgdGV4dHVhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgVGltZXN0YW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3JhZGl4XSB0aGUgcmFkaXggaW4gd2hpY2ggdGhlIHRleHQgaXMgd3JpdHRlbi5cbiAgICAgKiBAcmV0dXJuIHtUaW1lc3RhbXB9IHRoZSB0aW1lc3RhbXAuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmcm9tU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyLCBvcHRfcmFkaXgpIHtcbiAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKGxvbmdfMS5mcm9tU3RyaW5nKHN0ciwgb3B0X3JhZGl4KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZyb21FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUV4dGVuZGVkSlNPTihkb2MpIHtcbiAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKGRvYy4kdGltZXN0YW1wLmksIGRvYy4kdGltZXN0YW1wLnQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaW1lc3RhbXA7XG59KGxvbmdfMSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaW1lc3RhbXAucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ1RpbWVzdGFtcCdcbn0pO1xudmFyIHRpbWVzdGFtcCA9IFRpbWVzdGFtcDtcblxudmFyIHJlcXVpcmUkJDAgPSB7fTtcblxuLyogZ2xvYmFsIHdpbmRvdyAqL1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgb3VyIGV4cGVjdGVkIHN0cmluZ2lmaWVkIGZvcm0gb2YgYSBmdW5jdGlvbiBhY3Jvc3MgdmVyc2lvbnMgb2Ygbm9kZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIHN0cmluZ2lmeVxuICovXG5cblxuZnVuY3Rpb24gbm9ybWFsaXplZEZ1bmN0aW9uU3RyaW5nKGZuKSB7XG4gIHJldHVybiBmbi50b1N0cmluZygpLnJlcGxhY2UoJ2Z1bmN0aW9uKCcsICdmdW5jdGlvbiAoJyk7XG59XG5cbmZ1bmN0aW9uIGluc2VjdXJlUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICByZXN1bHRbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIHJhbmRvbUJ5dGVzID0gaW5zZWN1cmVSYW5kb21CeXRlcztcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jcnlwdG8gJiYgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgcmFuZG9tQnl0ZXMgPSBmdW5jdGlvbiByYW5kb21CeXRlcyhzaXplKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIHRyeSB7XG4gICAgcmFuZG9tQnl0ZXMgPSByZXF1aXJlJCQwLnJhbmRvbUJ5dGVzO1xuICB9IGNhdGNoIChlKSB7fSAvLyBrZWVwIHRoZSBmYWxsYmFja1xuICAvLyBOT1RFOiBpbiB0cmFuc3BpbGVkIGNhc2VzIHRoZSBhYm92ZSByZXF1aXJlIG1pZ2h0IHJldHVybiBudWxsL3VuZGVmaW5lZFxuXG5cbiAgaWYgKHJhbmRvbUJ5dGVzID09IG51bGwpIHtcbiAgICByYW5kb21CeXRlcyA9IGluc2VjdXJlUmFuZG9tQnl0ZXM7XG4gIH1cbn1cblxudmFyIHV0aWxzID0ge1xuICBub3JtYWxpemVkRnVuY3Rpb25TdHJpbmc6IG5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyxcbiAgcmFuZG9tQnl0ZXM6IHJhbmRvbUJ5dGVzXG59O1xuXG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbi8vIGJhc2VkIG9mZiBodHRwczovL2dpdGh1Yi5jb20vZGVmdW5jdHpvbWJpZS9ub2RlLXByb2Nlc3MvYmxvYi9tYXN0ZXIvYnJvd3Nlci5qc1xuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKSB7XG4gIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXG5pZiAodHlwZW9mIGdsb2JhbC5zZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xufVxuXG5pZiAodHlwZW9mIGdsb2JhbC5jbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xufVxuXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gIH0gLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblxuXG4gIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICB9IC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblxuXG4gIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRyYWluaW5nID0gZmFsc2U7XG5cbiAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgfVxuXG4gIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBkcmFpblF1ZXVlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgaWYgKGRyYWluaW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gIGRyYWluaW5nID0gdHJ1ZTtcbiAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblxuICB3aGlsZSAobGVuKSB7XG4gICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSBbXTtcblxuICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIH1cblxuICBjdXJyZW50UXVldWUgPSBudWxsO1xuICBkcmFpbmluZyA9IGZhbHNlO1xuICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbmZ1bmN0aW9uIG5leHRUaWNrKGZ1bikge1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cbiAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICB9XG59IC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblxuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gIHRoaXMuZnVuID0gZnVuO1xuICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xuXG52YXIgdGl0bGUgPSAnYnJvd3Nlcic7XG52YXIgcGxhdGZvcm0gPSAnYnJvd3Nlcic7XG52YXIgYnJvd3NlciA9IHRydWU7XG52YXIgZW52ID0ge307XG52YXIgYXJndiA9IFtdO1xudmFyIHZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblxudmFyIHZlcnNpb25zID0ge307XG52YXIgcmVsZWFzZSA9IHt9O1xudmFyIGNvbmZpZyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIG9uID0gbm9vcDtcbnZhciBhZGRMaXN0ZW5lciA9IG5vb3A7XG52YXIgb25jZSA9IG5vb3A7XG52YXIgb2ZmID0gbm9vcDtcbnZhciByZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG52YXIgcmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnZhciBlbWl0ID0gbm9vcDtcbmZ1bmN0aW9uIGJpbmRpbmcobmFtZSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59XG5mdW5jdGlvbiBjd2QoKSB7XG4gIHJldHVybiAnLyc7XG59XG5mdW5jdGlvbiBjaGRpcihkaXIpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn1cbmZ1bmN0aW9uIHVtYXNrKCkge1xuICByZXR1cm4gMDtcbn0gLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20va3VtYXZpcy9icm93c2VyLXByb2Nlc3MtaHJ0aW1lL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5cbnZhciBwZXJmb3JtYW5jZSA9IGdsb2JhbC5wZXJmb3JtYW5jZSB8fCB7fTtcblxudmFyIHBlcmZvcm1hbmNlTm93ID0gcGVyZm9ybWFuY2Uubm93IHx8IHBlcmZvcm1hbmNlLm1vek5vdyB8fCBwZXJmb3JtYW5jZS5tc05vdyB8fCBwZXJmb3JtYW5jZS5vTm93IHx8IHBlcmZvcm1hbmNlLndlYmtpdE5vdyB8fCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbn07IC8vIGdlbmVyYXRlIHRpbWVzdGFtcCBvciBkZWx0YVxuLy8gc2VlIGh0dHA6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc19wcm9jZXNzX2hydGltZVxuXG5cbmZ1bmN0aW9uIGhydGltZShwcmV2aW91c1RpbWVzdGFtcCkge1xuICB2YXIgY2xvY2t0aW1lID0gcGVyZm9ybWFuY2VOb3cuY2FsbChwZXJmb3JtYW5jZSkgKiAxZS0zO1xuICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoY2xvY2t0aW1lKTtcbiAgdmFyIG5hbm9zZWNvbmRzID0gTWF0aC5mbG9vcihjbG9ja3RpbWUgJSAxICogMWU5KTtcblxuICBpZiAocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICBzZWNvbmRzID0gc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzBdO1xuICAgIG5hbm9zZWNvbmRzID0gbmFub3NlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFsxXTtcblxuICAgIGlmIChuYW5vc2Vjb25kcyA8IDApIHtcbiAgICAgIHNlY29uZHMtLTtcbiAgICAgIG5hbm9zZWNvbmRzICs9IDFlOTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gW3NlY29uZHMsIG5hbm9zZWNvbmRzXTtcbn1cbnZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuZnVuY3Rpb24gdXB0aW1lKCkge1xuICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xuICB2YXIgZGlmID0gY3VycmVudFRpbWUgLSBzdGFydFRpbWU7XG4gIHJldHVybiBkaWYgLyAxMDAwO1xufVxudmFyIHByb2Nlc3MgPSB7XG4gIG5leHRUaWNrOiBuZXh0VGljayxcbiAgdGl0bGU6IHRpdGxlLFxuICBicm93c2VyOiBicm93c2VyLFxuICBlbnY6IGVudixcbiAgYXJndjogYXJndixcbiAgdmVyc2lvbjogdmVyc2lvbixcbiAgdmVyc2lvbnM6IHZlcnNpb25zLFxuICBvbjogb24sXG4gIGFkZExpc3RlbmVyOiBhZGRMaXN0ZW5lcixcbiAgb25jZTogb25jZSxcbiAgb2ZmOiBvZmYsXG4gIHJlbW92ZUxpc3RlbmVyOiByZW1vdmVMaXN0ZW5lcixcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzOiByZW1vdmVBbGxMaXN0ZW5lcnMsXG4gIGVtaXQ6IGVtaXQsXG4gIGJpbmRpbmc6IGJpbmRpbmcsXG4gIGN3ZDogY3dkLFxuICBjaGRpcjogY2hkaXIsXG4gIHVtYXNrOiB1bWFzayxcbiAgaHJ0aW1lOiBocnRpbWUsXG4gIHBsYXRmb3JtOiBwbGF0Zm9ybSxcbiAgcmVsZWFzZTogcmVsZWFzZSxcbiAgY29uZmlnOiBjb25maWcsXG4gIHVwdGltZTogdXB0aW1lXG59O1xuXG52YXIgaW5oZXJpdHM7XG5cbmlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICBpbmhlcml0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjtcblxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uIFRlbXBDdG9yKCkge307XG5cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlO1xuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKCk7XG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yO1xuICB9O1xufVxuXG52YXIgaW5oZXJpdHMkMSA9IGluaGVyaXRzO1xuXG5mdW5jdGlvbiBfdHlwZW9mJDEob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mJDEgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiQxID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2YkMShvYmopOyB9XG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmZ1bmN0aW9uIGZvcm1hdChmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24gKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuXG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6XG4gICAgICAgIHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcblxuICAgICAgY2FzZSAnJWQnOlxuICAgICAgICByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG5cbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcblxuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuXG5mdW5jdGlvbiBkZXByZWNhdGUoZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuXG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59XG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZnVuY3Rpb24gZGVidWdsb2coc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKSBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcblxuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gMDtcblxuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtc2cgPSBmb3JtYXQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn1cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cblxuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9OyAvLyBsZWdhY3kuLi5cblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG5cbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIF9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfSAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG5cblxuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufSAvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3NcblxuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJzogWzEsIDIyXSxcbiAgJ2l0YWxpYyc6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnOiBbNCwgMjRdLFxuICAnaW52ZXJzZSc6IFs3LCAyN10sXG4gICd3aGl0ZSc6IFszNywgMzldLFxuICAnZ3JleSc6IFs5MCwgMzldLFxuICAnYmxhY2snOiBbMzAsIDM5XSxcbiAgJ2JsdWUnOiBbMzQsIDM5XSxcbiAgJ2N5YW4nOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJzogWzMyLCAzOV0sXG4gICdtYWdlbnRhJzogWzM1LCAzOV0sXG4gICdyZWQnOiBbMzEsIDM5XSxcbiAgJ3llbGxvdyc6IFszMywgMzldXG59OyAvLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcblxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiBcIlxceDFCW1wiICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICsgXCJcXHgxQltcIiArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiBoYXNoO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiYgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gIHZhbHVlLmluc3BlY3QgIT09IGluc3BlY3QgJiYgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG5cbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH0gLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcblxuXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG5cbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH0gLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuXG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH0gLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuXG5cbiAgaWYgKGlzRXJyb3IodmFsdWUpICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH0gLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuXG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG5cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cblxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsXG4gICAgICBhcnJheSA9IGZhbHNlLFxuICAgICAgYnJhY2VzID0gWyd7JywgJ30nXTsgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuXG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9IC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuXG5cbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfSAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuXG5cbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9IC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuXG5cbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH0gLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuXG5cbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcbiAgdmFyIG91dHB1dDtcblxuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG5cbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG5cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSkgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpOyAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuXG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHtcbiAgICB2YWx1ZTogdmFsdWVba2V5XVxuICB9O1xuXG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuXG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuXG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikucmVwbGFjZSgvXFxcXFwiL2csICdcIicpLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikge1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgKyAnICcgKyBvdXRwdXQuam9pbignLFxcbiAgJykgKyAnICcgKyBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufSAvLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuXG5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiBfdHlwZW9mJDEoYXJnKSA9PT0gJ3N5bWJvbCc7XG59XG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiBfdHlwZW9mJDEoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fCB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHwgX3R5cGVvZiQxKGFyZykgPT09ICdzeW1ib2wnIHx8IC8vIEVTNiBzeW1ib2xcbiAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiBpc0J1ZmZlcihtYXliZUJ1Zikge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG1heWJlQnVmKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTsgLy8gMjYgRmViIDE2OjE5OjM0XG5cbmZ1bmN0aW9uIHRpbWVzdGFtcCQxKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLCBwYWQoZC5nZXRNaW51dGVzKCkpLCBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59IC8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcblxuXG5mdW5jdGlvbiBsb2coKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wJDEoKSwgZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xufVxuZnVuY3Rpb24gX2V4dGVuZChvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuXG4gIHJldHVybiBvcmlnaW47XG59XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbnZhciB1dGlsID0ge1xuICBpbmhlcml0czogaW5oZXJpdHMkMSxcbiAgX2V4dGVuZDogX2V4dGVuZCxcbiAgbG9nOiBsb2csXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc0Vycm9yOiBpc0Vycm9yLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1JlZ0V4cDogaXNSZWdFeHAsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNTeW1ib2w6IGlzU3ltYm9sLFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGlzTnVsbE9yVW5kZWZpbmVkLFxuICBpc051bGw6IGlzTnVsbCxcbiAgaXNCb29sZWFuOiBpc0Jvb2xlYW4sXG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGluc3BlY3Q6IGluc3BlY3QsXG4gIGRlcHJlY2F0ZTogZGVwcmVjYXRlLFxuICBmb3JtYXQ6IGZvcm1hdCxcbiAgZGVidWdsb2c6IGRlYnVnbG9nXG59O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skMihpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDIodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkMihDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDIoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQyKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQnVmZmVyJDEgPSBidWZmZXIuQnVmZmVyO1xudmFyIHJhbmRvbUJ5dGVzJDEgPSB1dGlscy5yYW5kb21CeXRlcztcbnZhciBkZXByZWNhdGUkMSA9IHV0aWwuZGVwcmVjYXRlOyAvLyBjb25zdGFudHNcblxudmFyIFBST0NFU1NfVU5JUVVFID0gcmFuZG9tQnl0ZXMkMSg1KTsgLy8gUmVndWxhciBleHByZXNzaW9uIHRoYXQgY2hlY2tzIGZvciBoZXggdmFsdWVcblxudmFyIGNoZWNrRm9ySGV4UmVnRXhwID0gbmV3IFJlZ0V4cCgnXlswLTlhLWZBLUZdezI0fSQnKTtcbnZhciBoYXNCdWZmZXJUeXBlID0gZmFsc2U7IC8vIENoZWNrIGlmIGJ1ZmZlciBleGlzdHNcblxudHJ5IHtcbiAgaWYgKEJ1ZmZlciQxICYmIEJ1ZmZlciQxLmZyb20pIGhhc0J1ZmZlclR5cGUgPSB0cnVlO1xufSBjYXRjaCAoZXJyKSB7XG4gIGhhc0J1ZmZlclR5cGUgPSBmYWxzZTtcbn0gLy8gUHJlY29tcHV0ZWQgaGV4IHRhYmxlIGVuYWJsZXMgc3BlZWR5IGhleCBzdHJpbmcgY29udmVyc2lvblxuXG5cbnZhciBoZXhUYWJsZSA9IFtdO1xuXG5mb3IgKHZhciBfaSA9IDA7IF9pIDwgMjU2OyBfaSsrKSB7XG4gIGhleFRhYmxlW19pXSA9IChfaSA8PSAxNSA/ICcwJyA6ICcnKSArIF9pLnRvU3RyaW5nKDE2KTtcbn0gLy8gTG9va3VwIHRhYmxlc1xuXG5cbnZhciBkZWNvZGVMb29rdXAgPSBbXTtcbnZhciBpID0gMDtcblxud2hpbGUgKGkgPCAxMCkge1xuICBkZWNvZGVMb29rdXBbMHgzMCArIGldID0gaSsrO1xufVxuXG53aGlsZSAoaSA8IDE2KSB7XG4gIGRlY29kZUxvb2t1cFsweDQxIC0gMTAgKyBpXSA9IGRlY29kZUxvb2t1cFsweDYxIC0gMTAgKyBpXSA9IGkrKztcbn1cblxudmFyIF9CdWZmZXIgPSBCdWZmZXIkMTtcblxuZnVuY3Rpb24gY29udmVydFRvSGV4KGJ5dGVzKSB7XG4gIHJldHVybiBieXRlcy50b1N0cmluZygnaGV4Jyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VPYmplY3RJZEVycm9yKGludmFsaWRTdHJpbmcsIGluZGV4KSB7XG4gIHZhciBpbnZhbGlkQ2hhcmFjdGVyID0gaW52YWxpZFN0cmluZ1tpbmRleF07XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFwiT2JqZWN0SWQgc3RyaW5nIFxcXCJcIi5jb25jYXQoaW52YWxpZFN0cmluZywgXCJcXFwiIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVyIFxcXCJcIikuY29uY2F0KGludmFsaWRDaGFyYWN0ZXIsIFwiXFxcIiB3aXRoIGNoYXJhY3RlciBjb2RlIChcIikuY29uY2F0KGludmFsaWRTdHJpbmcuY2hhckNvZGVBdChpbmRleCksIFwiKS4gQWxsIGNoYXJhY3RlciBjb2RlcyBmb3IgYSBub24taGV4IHN0cmluZyBtdXN0IGJlIGxlc3MgdGhhbiAyNTYuXCIpKTtcbn1cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQlNPTiBPYmplY3RJZCB0eXBlLlxuICovXG5cblxudmFyIE9iamVjdElkID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBPYmplY3RJZCB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xCdWZmZXJ8bnVtYmVyKX0gaWQgQ2FuIGJlIGEgMjQgYnl0ZSBoZXggc3RyaW5nLCAxMiBieXRlIGJpbmFyeSBCdWZmZXIsIG9yIGEgTnVtYmVyLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gZ2VuZXJhdGlvblRpbWUgVGhlIGdlbmVyYXRpb24gdGltZSBvZiB0aGlzIE9iamVjdElkIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge09iamVjdElkfSBpbnN0YW5jZSBvZiBPYmplY3RJZC5cbiAgICovXG4gIGZ1bmN0aW9uIE9iamVjdElkKGlkKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDIodGhpcywgT2JqZWN0SWQpO1xuXG4gICAgLy8gRHVjay10eXBpbmcgdG8gc3VwcG9ydCBPYmplY3RJZCBmcm9tIGRpZmZlcmVudCBucG0gcGFja2FnZXNcbiAgICBpZiAoaWQgaW5zdGFuY2VvZiBPYmplY3RJZCkgcmV0dXJuIGlkOyAvLyBUaGUgbW9zdCBjb21tb24gdXNlY2FzZSAoYmxhbmsgaWQsIG5ldyBvYmplY3RJZCBpbnN0YW5jZSlcblxuICAgIGlmIChpZCA9PSBudWxsIHx8IHR5cGVvZiBpZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IGlkXG4gICAgICB0aGlzLmlkID0gT2JqZWN0SWQuZ2VuZXJhdGUoaWQpOyAvLyBJZiB3ZSBhcmUgY2FjaGluZyB0aGUgaGV4IHN0cmluZ1xuXG4gICAgICBpZiAoT2JqZWN0SWQuY2FjaGVIZXhTdHJpbmcpIHRoaXMuX19pZCA9IHRoaXMudG9TdHJpbmcoJ2hleCcpOyAvLyBSZXR1cm4gdGhlIG9iamVjdFxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDaGVjayBpZiB0aGUgcGFzc2VkIGluIGlkIGlzIHZhbGlkXG5cblxuICAgIHZhciB2YWxpZCA9IE9iamVjdElkLmlzVmFsaWQoaWQpOyAvLyBUaHJvdyBhbiBlcnJvciBpZiBpdCdzIG5vdCBhIHZhbGlkIHNldHVwXG5cbiAgICBpZiAoIXZhbGlkICYmIGlkICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IHBhc3NlZCBpbiBtdXN0IGJlIGEgc2luZ2xlIFN0cmluZyBvZiAxMiBieXRlcyBvciBhIHN0cmluZyBvZiAyNCBoZXggY2hhcmFjdGVycycpO1xuICAgIH0gZWxzZSBpZiAodmFsaWQgJiYgdHlwZW9mIGlkID09PSAnc3RyaW5nJyAmJiBpZC5sZW5ndGggPT09IDI0ICYmIGhhc0J1ZmZlclR5cGUpIHtcbiAgICAgIHJldHVybiBuZXcgT2JqZWN0SWQoQnVmZmVyJDEuZnJvbShpZCwgJ2hleCcpKTtcbiAgICB9IGVsc2UgaWYgKHZhbGlkICYmIHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgJiYgaWQubGVuZ3RoID09PSAyNCkge1xuICAgICAgcmV0dXJuIE9iamVjdElkLmNyZWF0ZUZyb21IZXhTdHJpbmcoaWQpO1xuICAgIH0gZWxzZSBpZiAoaWQgIT0gbnVsbCAmJiBpZC5sZW5ndGggPT09IDEyKSB7XG4gICAgICAvLyBhc3N1bWUgMTIgYnl0ZSBzdHJpbmdcbiAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9IGVsc2UgaWYgKGlkICE9IG51bGwgJiYgaWQudG9IZXhTdHJpbmcpIHtcbiAgICAgIC8vIER1Y2stdHlwaW5nIHRvIHN1cHBvcnQgT2JqZWN0SWQgZnJvbSBkaWZmZXJlbnQgbnBtIHBhY2thZ2VzXG4gICAgICByZXR1cm4gT2JqZWN0SWQuY3JlYXRlRnJvbUhleFN0cmluZyhpZC50b0hleFN0cmluZygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgcGFzc2VkIGluIG11c3QgYmUgYSBzaW5nbGUgU3RyaW5nIG9mIDEyIGJ5dGVzIG9yIGEgc3RyaW5nIG9mIDI0IGhleCBjaGFyYWN0ZXJzJyk7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdElkLmNhY2hlSGV4U3RyaW5nKSB0aGlzLl9faWQgPSB0aGlzLnRvU3RyaW5nKCdoZXgnKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBPYmplY3RJZCBpZCBhcyBhIDI0IGJ5dGUgaGV4IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge3N0cmluZ30gcmV0dXJuIHRoZSAyNCBieXRlIGhleCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzJDIoT2JqZWN0SWQsIFt7XG4gICAga2V5OiBcInRvSGV4U3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSGV4U3RyaW5nKCkge1xuICAgICAgaWYgKE9iamVjdElkLmNhY2hlSGV4U3RyaW5nICYmIHRoaXMuX19pZCkgcmV0dXJuIHRoaXMuX19pZDtcbiAgICAgIHZhciBoZXhTdHJpbmcgPSAnJztcblxuICAgICAgaWYgKCF0aGlzLmlkIHx8ICF0aGlzLmlkLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIE9iamVjdElkLCBPYmplY3RJZC5pZCBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyBvciBhIEJ1ZmZlciwgYnV0IGlzIFsnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5pZCkgKyAnXScpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pZCBpbnN0YW5jZW9mIF9CdWZmZXIpIHtcbiAgICAgICAgaGV4U3RyaW5nID0gY29udmVydFRvSGV4KHRoaXMuaWQpO1xuICAgICAgICBpZiAoT2JqZWN0SWQuY2FjaGVIZXhTdHJpbmcpIHRoaXMuX19pZCA9IGhleFN0cmluZztcbiAgICAgICAgcmV0dXJuIGhleFN0cmluZztcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5pZC5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgIHZhciBoZXhDaGFyID0gaGV4VGFibGVbdGhpcy5pZC5jaGFyQ29kZUF0KF9pMildO1xuXG4gICAgICAgIGlmICh0eXBlb2YgaGV4Q2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBtYWtlT2JqZWN0SWRFcnJvcih0aGlzLmlkLCBfaTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGV4U3RyaW5nICs9IGhleENoYXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3RJZC5jYWNoZUhleFN0cmluZykgdGhpcy5fX2lkID0gaGV4U3RyaW5nO1xuICAgICAgcmV0dXJuIGhleFN0cmluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBPYmplY3RJZCBpbmRleCB1c2VkIGluIGdlbmVyYXRpbmcgbmV3IE9iamVjdElkJ3Mgb24gdGhlIGRyaXZlclxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJucyBuZXh0IGluZGV4IHZhbHVlLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvU3RyaW5nXCIsXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgaWQgaW50byBhIDI0IGJ5dGUgaGV4IHN0cmluZyBmb3IgcHJpbnRpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtYXQgVGhlIEJ1ZmZlciB0b1N0cmluZyBmb3JtYXQgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJuIHRoZSAyNCBieXRlIGhleCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZyhmb3JtYXQpIHtcbiAgICAgIC8vIElzIHRoZSBpZCBhIGJ1ZmZlciB0aGVuIHVzZSB0aGUgYnVmZmVyIHRvU3RyaW5nIG1ldGhvZCB0byByZXR1cm4gdGhlIGZvcm1hdFxuICAgICAgaWYgKHRoaXMuaWQgJiYgdGhpcy5pZC5jb3B5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkLnRvU3RyaW5nKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnID8gZm9ybWF0IDogJ2hleCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50b0hleFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0byBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJuIHRoZSAyNCBieXRlIGhleCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHRoZSBlcXVhbGl0eSBvZiB0aGlzIE9iamVjdElkIHdpdGggYG90aGVySURgLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvdGhlcklkIE9iamVjdElkIGluc3RhbmNlIHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIGNvbXBhcmluZyB0d28gT2JqZWN0SWQnc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXF1YWxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVxdWFscyhvdGhlcklkKSB7XG4gICAgICBpZiAob3RoZXJJZCBpbnN0YW5jZW9mIE9iamVjdElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkgPT09IG90aGVySWQudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvdGhlcklkID09PSAnc3RyaW5nJyAmJiBPYmplY3RJZC5pc1ZhbGlkKG90aGVySWQpICYmIG90aGVySWQubGVuZ3RoID09PSAxMiAmJiB0aGlzLmlkIGluc3RhbmNlb2YgX0J1ZmZlcikge1xuICAgICAgICByZXR1cm4gb3RoZXJJZCA9PT0gdGhpcy5pZC50b1N0cmluZygnYmluYXJ5Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXJJZCA9PT0gJ3N0cmluZycgJiYgT2JqZWN0SWQuaXNWYWxpZChvdGhlcklkKSAmJiBvdGhlcklkLmxlbmd0aCA9PT0gMjQpIHtcbiAgICAgICAgcmV0dXJuIG90aGVySWQudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy50b0hleFN0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG90aGVySWQgPT09ICdzdHJpbmcnICYmIE9iamVjdElkLmlzVmFsaWQob3RoZXJJZCkgJiYgb3RoZXJJZC5sZW5ndGggPT09IDEyKSB7XG4gICAgICAgIHJldHVybiBvdGhlcklkID09PSB0aGlzLmlkO1xuICAgICAgfVxuXG4gICAgICBpZiAob3RoZXJJZCAhPSBudWxsICYmIChvdGhlcklkIGluc3RhbmNlb2YgT2JqZWN0SWQgfHwgb3RoZXJJZC50b0hleFN0cmluZykpIHtcbiAgICAgICAgcmV0dXJuIG90aGVySWQudG9IZXhTdHJpbmcoKSA9PT0gdGhpcy50b0hleFN0cmluZygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGdlbmVyYXRpb24gZGF0ZSAoYWNjdXJhdGUgdXAgdG8gdGhlIHNlY29uZCkgdGhhdCB0aGlzIElEIHdhcyBnZW5lcmF0ZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHJldHVybiB7RGF0ZX0gdGhlIGdlbmVyYXRpb24gZGF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VGltZXN0YW1wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRpbWVzdGFtcCgpIHtcbiAgICAgIHZhciB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgdmFyIHRpbWUgPSB0aGlzLmlkLnJlYWRVSW50MzJCRSgwKTtcbiAgICAgIHRpbWVzdGFtcC5zZXRUaW1lKE1hdGguZmxvb3IodGltZSkgKiAxMDAwKTtcbiAgICAgIHJldHVybiB0aW1lc3RhbXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvRXh0ZW5kZWRKU09OXCIsXG5cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRXh0ZW5kZWRKU09OKCkge1xuICAgICAgaWYgKHRoaXMudG9IZXhTdHJpbmcpIHJldHVybiB7XG4gICAgICAgICRvaWQ6IHRoaXMudG9IZXhTdHJpbmcoKVxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICRvaWQ6IHRoaXMudG9TdHJpbmcoJ2hleCcpXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImdldEluY1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmMoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0SWQuaW5kZXggPSAoT2JqZWN0SWQuaW5kZXggKyAxKSAlIDB4ZmZmZmZmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIDEyIGJ5dGUgaWQgYnVmZmVyIHVzZWQgaW4gT2JqZWN0SWQnc1xuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZV0gb3B0aW9uYWwgcGFyYW1ldGVyIGFsbG93aW5nIHRvIHBhc3MgaW4gYSBzZWNvbmQgYmFzZWQgdGltZXN0YW1wLlxuICAgICAqIEByZXR1cm4ge0J1ZmZlcn0gcmV0dXJuIHRoZSAxMiBieXRlIGlkIGJ1ZmZlciBzdHJpbmcuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZW5lcmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZSh0aW1lKSB7XG4gICAgICBpZiAoJ251bWJlcicgIT09IHR5cGVvZiB0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB+fihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmMgPSBPYmplY3RJZC5nZXRJbmMoKTtcbiAgICAgIHZhciBidWZmZXIkJDEgPSBCdWZmZXIkMS5hbGxvYygxMik7IC8vIDQtYnl0ZSB0aW1lc3RhbXBcblxuICAgICAgYnVmZmVyJCQxWzNdID0gdGltZSAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbMl0gPSB0aW1lID4+IDggJiAweGZmO1xuICAgICAgYnVmZmVyJCQxWzFdID0gdGltZSA+PiAxNiAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbMF0gPSB0aW1lID4+IDI0ICYgMHhmZjsgLy8gNS1ieXRlIHByb2Nlc3MgdW5pcXVlXG5cbiAgICAgIGJ1ZmZlciQkMVs0XSA9IFBST0NFU1NfVU5JUVVFWzBdO1xuICAgICAgYnVmZmVyJCQxWzVdID0gUFJPQ0VTU19VTklRVUVbMV07XG4gICAgICBidWZmZXIkJDFbNl0gPSBQUk9DRVNTX1VOSVFVRVsyXTtcbiAgICAgIGJ1ZmZlciQkMVs3XSA9IFBST0NFU1NfVU5JUVVFWzNdO1xuICAgICAgYnVmZmVyJCQxWzhdID0gUFJPQ0VTU19VTklRVUVbNF07IC8vIDMtYnl0ZSBjb3VudGVyXG5cbiAgICAgIGJ1ZmZlciQkMVsxMV0gPSBpbmMgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxWzEwXSA9IGluYyA+PiA4ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVs5XSA9IGluYyA+PiAxNiAmIDB4ZmY7XG4gICAgICByZXR1cm4gYnVmZmVyJCQxO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVQa1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQaygpIHtcbiAgICAgIHJldHVybiBuZXcgT2JqZWN0SWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBPYmplY3RJZCBmcm9tIGEgc2Vjb25kIGJhc2VkIG51bWJlciwgd2l0aCB0aGUgcmVzdCBvZiB0aGUgT2JqZWN0SWQgemVyb2VkIG91dC4gVXNlZCBmb3IgY29tcGFyaXNvbnMgb3Igc29ydGluZyB0aGUgT2JqZWN0SWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgYW4gaW50ZWdlciBudW1iZXIgcmVwcmVzZW50aW5nIGEgbnVtYmVyIG9mIHNlY29uZHMuXG4gICAgICogQHJldHVybiB7T2JqZWN0SWR9IHJldHVybiB0aGUgY3JlYXRlZCBPYmplY3RJZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlRnJvbVRpbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRnJvbVRpbWUodGltZSkge1xuICAgICAgdmFyIGJ1ZmZlciQkMSA9IEJ1ZmZlciQxLmZyb20oWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKTsgLy8gRW5jb2RlIHRpbWUgaW50byBmaXJzdCA0IGJ5dGVzXG5cbiAgICAgIGJ1ZmZlciQkMVszXSA9IHRpbWUgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxWzJdID0gdGltZSA+PiA4ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVsxXSA9IHRpbWUgPj4gMTYgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxWzBdID0gdGltZSA+PiAyNCAmIDB4ZmY7IC8vIFJldHVybiB0aGUgbmV3IG9iamVjdElkXG5cbiAgICAgIHJldHVybiBuZXcgT2JqZWN0SWQoYnVmZmVyJCQxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBPYmplY3RJZCBmcm9tIGEgaGV4IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBPYmplY3RJZC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaGV4U3RyaW5nIGNyZWF0ZSBhIE9iamVjdElkIGZyb20gYSBwYXNzZWQgaW4gMjQgYnl0ZSBoZXhzdHJpbmcuXG4gICAgICogQHJldHVybiB7T2JqZWN0SWR9IHJldHVybiB0aGUgY3JlYXRlZCBPYmplY3RJZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlRnJvbUhleFN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGcm9tSGV4U3RyaW5nKHN0cmluZykge1xuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgaXQncyBub3QgYSB2YWxpZCBzZXR1cFxuICAgICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICd1bmRlZmluZWQnIHx8IHN0cmluZyAhPSBudWxsICYmIHN0cmluZy5sZW5ndGggIT09IDI0KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IHBhc3NlZCBpbiBtdXN0IGJlIGEgc2luZ2xlIFN0cmluZyBvZiAxMiBieXRlcyBvciBhIHN0cmluZyBvZiAyNCBoZXggY2hhcmFjdGVycycpO1xuICAgICAgfSAvLyBVc2UgQnVmZmVyLmZyb20gbWV0aG9kIGlmIGF2YWlsYWJsZVxuXG5cbiAgICAgIGlmIChoYXNCdWZmZXJUeXBlKSByZXR1cm4gbmV3IE9iamVjdElkKEJ1ZmZlciQxLmZyb20oc3RyaW5nLCAnaGV4JykpOyAvLyBDYWxjdWxhdGUgbGVuZ3Roc1xuXG4gICAgICB2YXIgYXJyYXkgPSBuZXcgX0J1ZmZlcigxMik7XG4gICAgICB2YXIgbiA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChpIDwgMjQpIHtcbiAgICAgICAgYXJyYXlbbisrXSA9IGRlY29kZUxvb2t1cFtzdHJpbmcuY2hhckNvZGVBdChpKyspXSA8PCA0IHwgZGVjb2RlTG9va3VwW3N0cmluZy5jaGFyQ29kZUF0KGkrKyldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IE9iamVjdElkKGFycmF5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBic29uIE9iamVjdElkXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIGlzIGEgdmFsaWQgYnNvbiBPYmplY3RJZCwgcmV0dXJuIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzVmFsaWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZChpZCkge1xuICAgICAgaWYgKGlkID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBpZC5sZW5ndGggPT09IDEyIHx8IGlkLmxlbmd0aCA9PT0gMjQgJiYgY2hlY2tGb3JIZXhSZWdFeHAudGVzdChpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpZCBpbnN0YW5jZW9mIE9iamVjdElkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaWQgaW5zdGFuY2VvZiBfQnVmZmVyICYmIGlkLmxlbmd0aCA9PT0gMTIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IC8vIER1Y2stVHlwaW5nIGRldGVjdGlvbiBvZiBPYmplY3RJZCBsaWtlIG9iamVjdHNcblxuXG4gICAgICBpZiAoaWQudG9IZXhTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlkLmlkLmxlbmd0aCA9PT0gMTIgfHwgaWQuaWQubGVuZ3RoID09PSAyNCAmJiBjaGVja0ZvckhleFJlZ0V4cC50ZXN0KGlkLmlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmcm9tRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21FeHRlbmRlZEpTT04oZG9jKSB7XG4gICAgICByZXR1cm4gbmV3IE9iamVjdElkKGRvYy4kb2lkKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT2JqZWN0SWQ7XG59KCk7IC8vIERlcHJlY2F0ZWQgbWV0aG9kc1xuXG5cbk9iamVjdElkLmdldF9pbmMgPSBkZXByZWNhdGUkMShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3RJZC5nZXRJbmMoKTtcbn0sICdQbGVhc2UgdXNlIHRoZSBzdGF0aWMgYE9iamVjdElkLmdldEluYygpYCBpbnN0ZWFkJyk7XG5PYmplY3RJZC5wcm90b3R5cGUuZ2V0X2luYyA9IGRlcHJlY2F0ZSQxKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdElkLmdldEluYygpO1xufSwgJ1BsZWFzZSB1c2UgdGhlIHN0YXRpYyBgT2JqZWN0SWQuZ2V0SW5jKClgIGluc3RlYWQnKTtcbk9iamVjdElkLnByb3RvdHlwZS5nZXRJbmMgPSBkZXByZWNhdGUkMShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3RJZC5nZXRJbmMoKTtcbn0sICdQbGVhc2UgdXNlIHRoZSBzdGF0aWMgYE9iamVjdElkLmdldEluYygpYCBpbnN0ZWFkJyk7XG5PYmplY3RJZC5wcm90b3R5cGUuZ2VuZXJhdGUgPSBkZXByZWNhdGUkMShmdW5jdGlvbiAodGltZSkge1xuICByZXR1cm4gT2JqZWN0SWQuZ2VuZXJhdGUodGltZSk7XG59LCAnUGxlYXNlIHVzZSB0aGUgc3RhdGljIGBPYmplY3RJZC5nZW5lcmF0ZSh0aW1lKWAgaW5zdGVhZCcpO1xuLyoqXG4gKiBAaWdub3JlXG4gKi9cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdElkLnByb3RvdHlwZSwgJ2dlbmVyYXRpb25UaW1lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZFszXSB8IHRoaXMuaWRbMl0gPDwgOCB8IHRoaXMuaWRbMV0gPDwgMTYgfCB0aGlzLmlkWzBdIDw8IDI0O1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgIC8vIEVuY29kZSB0aW1lIGludG8gZmlyc3QgNCBieXRlc1xuICAgIHRoaXMuaWRbM10gPSB2YWx1ZSAmIDB4ZmY7XG4gICAgdGhpcy5pZFsyXSA9IHZhbHVlID4+IDggJiAweGZmO1xuICAgIHRoaXMuaWRbMV0gPSB2YWx1ZSA+PiAxNiAmIDB4ZmY7XG4gICAgdGhpcy5pZFswXSA9IHZhbHVlID4+IDI0ICYgMHhmZjtcbiAgfVxufSk7XG4vKipcbiAqIENvbnZlcnRzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgSWQuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm4gdGhlIDI0IGJ5dGUgaGV4IHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqIEBpZ25vcmVcbiAqL1xuXG5PYmplY3RJZC5wcm90b3R5cGVbdXRpbC5pbnNwZWN0LmN1c3RvbSB8fCAnaW5zcGVjdCddID0gT2JqZWN0SWQucHJvdG90eXBlLnRvU3RyaW5nO1xuLyoqXG4gKiBAaWdub3JlXG4gKi9cblxuT2JqZWN0SWQuaW5kZXggPSB+fihNYXRoLnJhbmRvbSgpICogMHhmZmZmZmYpOyAvLyBJbiA0LjAuMCBhbmQgNC4wLjEsIHRoaXMgcHJvcGVydHkgbmFtZSB3YXMgY2hhbmdlZCB0byBPYmplY3RJZCB0byBtYXRjaCB0aGUgY2xhc3MgbmFtZS5cbi8vIFRoaXMgY2F1c2VkIGludGVyb3BlcmFiaWxpdHkgcHJvYmxlbXMgd2l0aCBwcmV2aW91cyB2ZXJzaW9ucyBvZiB0aGUgbGlicmFyeSwgc28gaW5cbi8vIGxhdGVyIGJ1aWxkcyB3ZSBjaGFuZ2VkIGl0IGJhY2sgdG8gT2JqZWN0SUQgKGNhcGl0YWwgRCkgdG8gbWF0Y2ggbGVnYWN5IGltcGxlbWVudGF0aW9ucy5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdElkLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdPYmplY3RJRCdcbn0pO1xudmFyIG9iamVjdGlkID0gT2JqZWN0SWQ7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayQzKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMkMyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyQzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMkMyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIGFscGhhYmV0aXplKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KCcnKS5zb3J0KCkuam9pbignJyk7XG59XG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gUmVnRXhwIHR5cGUuXG4gKi9cblxuXG52YXIgQlNPTlJlZ0V4cCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBSZWdFeHAgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVybiBUaGUgcmVndWxhciBleHByZXNzaW9uIHBhdHRlcm4gdG8gbWF0Y2hcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMgVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBCU09OUmVnRXhwKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skMyh0aGlzLCBCU09OUmVnRXhwKTtcblxuICAgIC8vIEV4ZWN1dGVcbiAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuIHx8ICcnO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPyBhbHBoYWJldGl6ZShvcHRpb25zKSA6ICcnOyAvLyBWYWxpZGF0ZSBvcHRpb25zXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCEodGhpcy5vcHRpb25zW2ldID09PSAnaScgfHwgdGhpcy5vcHRpb25zW2ldID09PSAnbScgfHwgdGhpcy5vcHRpb25zW2ldID09PSAneCcgfHwgdGhpcy5vcHRpb25zW2ldID09PSAnbCcgfHwgdGhpcy5vcHRpb25zW2ldID09PSAncycgfHwgdGhpcy5vcHRpb25zW2ldID09PSAndScpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSByZWd1bGFyIGV4cHJlc3Npb24gb3B0aW9uIFtcIi5jb25jYXQodGhpcy5vcHRpb25zW2ldLCBcIl0gaXMgbm90IHN1cHBvcnRlZFwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzJDMoQlNPTlJlZ0V4cCwgW3tcbiAgICBrZXk6IFwidG9FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9FeHRlbmRlZEpTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkcmVndWxhckV4cHJlc3Npb246IHtcbiAgICAgICAgICBwYXR0ZXJuOiB0aGlzLnBhdHRlcm4sXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKGRvYykge1xuICAgICAgcmV0dXJuIG5ldyBCU09OUmVnRXhwKGRvYy4kcmVndWxhckV4cHJlc3Npb24ucGF0dGVybiwgZG9jLiRyZWd1bGFyRXhwcmVzc2lvbi5vcHRpb25zLnNwbGl0KCcnKS5zb3J0KCkuam9pbignJykpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCU09OUmVnRXhwO1xufSgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQlNPTlJlZ0V4cC5wcm90b3R5cGUsICdfYnNvbnR5cGUnLCB7XG4gIHZhbHVlOiAnQlNPTlJlZ0V4cCdcbn0pO1xudmFyIHJlZ2V4cCA9IEJTT05SZWdFeHA7XG5cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQlNPTiBTeW1ib2wgdHlwZS5cbiAqL1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skNChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDQodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkNChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDQoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ0KENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQlNPTlN5bWJvbCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBTeW1ib2wgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgdGhlIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIEJTT05TeW1ib2wodmFsdWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skNCh0aGlzLCBCU09OU3ltYm9sKTtcblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQWNjZXNzIHRoZSB3cmFwcGVkIHN0cmluZyB2YWx1ZS5cbiAgICpcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHdyYXBwZWQgc3RyaW5nLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQ0KEJTT05TeW1ib2wsIFt7XG4gICAga2V5OiBcInZhbHVlT2ZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnNwZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluc3BlY3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICRzeW1ib2w6IHRoaXMudmFsdWVcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKGRvYykge1xuICAgICAgcmV0dXJuIG5ldyBCU09OU3ltYm9sKGRvYy4kc3ltYm9sKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQlNPTlN5bWJvbDtcbn0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJTT05TeW1ib2wucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ1N5bWJvbCdcbn0pO1xudmFyIHN5bWJvbCA9IEJTT05TeW1ib2w7XG5cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiBhIEJTT04gSW50MzIgdHlwZS5cbiAqL1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skNShpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDUodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkNShDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDUoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ1KENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgSW50MzIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEludDMyIHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIHRoZSBudW1iZXIgd2Ugd2FudCB0byByZXByZXNlbnQgYXMgYW4gaW50MzIuXG4gICAqIEByZXR1cm4ge0ludDMyfVxuICAgKi9cbiAgZnVuY3Rpb24gSW50MzIodmFsdWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skNSh0aGlzLCBJbnQzMik7XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEFjY2VzcyB0aGUgbnVtYmVyIHZhbHVlLlxuICAgKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJucyB0aGUgd3JhcHBlZCBpbnQzMiBudW1iZXIuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzJDUoSW50MzIsIFt7XG4gICAga2V5OiBcInZhbHVlT2ZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRXh0ZW5kZWRKU09OKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVsYXhlZCkgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkbnVtYmVySW50OiB0aGlzLnZhbHVlLnRvU3RyaW5nKClcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKGRvYywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9ucy5yZWxheGVkID8gcGFyc2VJbnQoZG9jLiRudW1iZXJJbnQsIDEwKSA6IG5ldyBJbnQzMihkb2MuJG51bWJlckludCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludDMyO1xufSgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSW50MzIucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ0ludDMyJ1xufSk7XG52YXIgaW50XzMyID0gSW50MzI7XG5cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQlNPTiBDb2RlIHR5cGUuXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDYoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyQ2KHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzJDYoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ2KENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkNihDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIENvZGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgQ29kZSB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbil9IGNvZGUgYSBzdHJpbmcgb3IgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdIGFuIG9wdGlvbmFsIHNjb3BlIGZvciB0aGUgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge0NvZGV9XG4gICAqL1xuICBmdW5jdGlvbiBDb2RlKGNvZGUsIHNjb3BlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDYodGhpcywgQ29kZSk7XG5cbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgfVxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQ2KENvZGUsIFt7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY29wZTogdGhpcy5zY29wZSxcbiAgICAgICAgY29kZTogdGhpcy5jb2RlXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTigpIHtcbiAgICAgIGlmICh0aGlzLnNjb3BlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgJGNvZGU6IHRoaXMuY29kZSxcbiAgICAgICAgICAkc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJGNvZGU6IHRoaXMuY29kZVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogXCJmcm9tRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21FeHRlbmRlZEpTT04oZG9jKSB7XG4gICAgICByZXR1cm4gbmV3IENvZGUoZG9jLiRjb2RlLCBkb2MuJHNjb3BlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29kZTtcbn0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KENvZGUucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ0NvZGUnXG59KTtcbnZhciBjb2RlID0gQ29kZTtcblxudmFyIEJ1ZmZlciQyID0gYnVmZmVyLkJ1ZmZlcjtcbnZhciBQQVJTRV9TVFJJTkdfUkVHRVhQID0gL14oXFwrfC0pPyhcXGQrfChcXGQqXFwuXFxkKikpPyhFfGUpPyhbLStdKT8oXFxkKyk/JC87XG52YXIgUEFSU0VfSU5GX1JFR0VYUCA9IC9eKFxcK3wtKT8oSW5maW5pdHl8aW5mKSQvaTtcbnZhciBQQVJTRV9OQU5fUkVHRVhQID0gL14oXFwrfC0pP05hTiQvaTtcbnZhciBFWFBPTkVOVF9NQVggPSA2MTExO1xudmFyIEVYUE9ORU5UX01JTiA9IC02MTc2O1xudmFyIEVYUE9ORU5UX0JJQVMgPSA2MTc2O1xudmFyIE1BWF9ESUdJVFMgPSAzNDsgLy8gTmFuIHZhbHVlIGJpdHMgYXMgMzIgYml0IHZhbHVlcyAoZHVlIHRvIGxhY2sgb2YgbG9uZ3MpXG5cbnZhciBOQU5fQlVGRkVSID0gWzB4N2MsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdLnJldmVyc2UoKTsgLy8gSW5maW5pdHkgdmFsdWUgYml0cyAzMiBiaXQgdmFsdWVzIChkdWUgdG8gbGFjayBvZiBsb25ncylcblxudmFyIElORl9ORUdBVElWRV9CVUZGRVIgPSBbMHhmOCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMF0ucmV2ZXJzZSgpO1xudmFyIElORl9QT1NJVElWRV9CVUZGRVIgPSBbMHg3OCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMF0ucmV2ZXJzZSgpO1xudmFyIEVYUE9ORU5UX1JFR0VYID0gL14oWy0rXSk/KFxcZCspPyQvOyAvLyBEZXRlY3QgaWYgdGhlIHZhbHVlIGlzIGEgZGlnaXRcblxuZnVuY3Rpb24gaXNEaWdpdCh2YWx1ZSkge1xuICByZXR1cm4gIWlzTmFOKHBhcnNlSW50KHZhbHVlLCAxMCkpO1xufSAvLyBEaXZpZGUgdHdvIHVpbnQxMjggdmFsdWVzXG5cblxuZnVuY3Rpb24gZGl2aWRldTEyOCh2YWx1ZSkge1xuICB2YXIgRElWSVNPUiA9IGxvbmdfMS5mcm9tTnVtYmVyKDEwMDAgKiAxMDAwICogMTAwMCk7XG5cbiAgdmFyIF9yZW0gPSBsb25nXzEuZnJvbU51bWJlcigwKTtcblxuICBpZiAoIXZhbHVlLnBhcnRzWzBdICYmICF2YWx1ZS5wYXJ0c1sxXSAmJiAhdmFsdWUucGFydHNbMl0gJiYgIXZhbHVlLnBhcnRzWzNdKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1b3RpZW50OiB2YWx1ZSxcbiAgICAgIHJlbTogX3JlbVxuICAgIH07XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8PSAzOyBpKyspIHtcbiAgICAvLyBBZGp1c3QgcmVtYWluZGVyIHRvIG1hdGNoIHZhbHVlIG9mIG5leHQgZGl2aWRlbmRcbiAgICBfcmVtID0gX3JlbS5zaGlmdExlZnQoMzIpOyAvLyBBZGQgdGhlIGRpdmlkZWQgdG8gX3JlbVxuXG4gICAgX3JlbSA9IF9yZW0uYWRkKG5ldyBsb25nXzEodmFsdWUucGFydHNbaV0sIDApKTtcbiAgICB2YWx1ZS5wYXJ0c1tpXSA9IF9yZW0uZGl2KERJVklTT1IpLmxvdztcbiAgICBfcmVtID0gX3JlbS5tb2R1bG8oRElWSVNPUik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHF1b3RpZW50OiB2YWx1ZSxcbiAgICByZW06IF9yZW1cbiAgfTtcbn0gLy8gTXVsdGlwbHkgdHdvIExvbmcgdmFsdWVzIGFuZCByZXR1cm4gdGhlIDEyOCBiaXQgdmFsdWVcblxuXG5mdW5jdGlvbiBtdWx0aXBseTY0eDIobGVmdCwgcmlnaHQpIHtcbiAgaWYgKCFsZWZ0ICYmICFyaWdodCkge1xuICAgIHJldHVybiB7XG4gICAgICBoaWdoOiBsb25nXzEuZnJvbU51bWJlcigwKSxcbiAgICAgIGxvdzogbG9uZ18xLmZyb21OdW1iZXIoMClcbiAgICB9O1xuICB9XG5cbiAgdmFyIGxlZnRIaWdoID0gbGVmdC5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpO1xuICB2YXIgbGVmdExvdyA9IG5ldyBsb25nXzEobGVmdC5nZXRMb3dCaXRzKCksIDApO1xuICB2YXIgcmlnaHRIaWdoID0gcmlnaHQuc2hpZnRSaWdodFVuc2lnbmVkKDMyKTtcbiAgdmFyIHJpZ2h0TG93ID0gbmV3IGxvbmdfMShyaWdodC5nZXRMb3dCaXRzKCksIDApO1xuICB2YXIgcHJvZHVjdEhpZ2ggPSBsZWZ0SGlnaC5tdWx0aXBseShyaWdodEhpZ2gpO1xuICB2YXIgcHJvZHVjdE1pZCA9IGxlZnRIaWdoLm11bHRpcGx5KHJpZ2h0TG93KTtcbiAgdmFyIHByb2R1Y3RNaWQyID0gbGVmdExvdy5tdWx0aXBseShyaWdodEhpZ2gpO1xuICB2YXIgcHJvZHVjdExvdyA9IGxlZnRMb3cubXVsdGlwbHkocmlnaHRMb3cpO1xuICBwcm9kdWN0SGlnaCA9IHByb2R1Y3RIaWdoLmFkZChwcm9kdWN0TWlkLnNoaWZ0UmlnaHRVbnNpZ25lZCgzMikpO1xuICBwcm9kdWN0TWlkID0gbmV3IGxvbmdfMShwcm9kdWN0TWlkLmdldExvd0JpdHMoKSwgMCkuYWRkKHByb2R1Y3RNaWQyKS5hZGQocHJvZHVjdExvdy5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpKTtcbiAgcHJvZHVjdEhpZ2ggPSBwcm9kdWN0SGlnaC5hZGQocHJvZHVjdE1pZC5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpKTtcbiAgcHJvZHVjdExvdyA9IHByb2R1Y3RNaWQuc2hpZnRMZWZ0KDMyKS5hZGQobmV3IGxvbmdfMShwcm9kdWN0TG93LmdldExvd0JpdHMoKSwgMCkpOyAvLyBSZXR1cm4gdGhlIDEyOCBiaXQgcmVzdWx0XG5cbiAgcmV0dXJuIHtcbiAgICBoaWdoOiBwcm9kdWN0SGlnaCxcbiAgICBsb3c6IHByb2R1Y3RMb3dcbiAgfTtcbn1cblxuZnVuY3Rpb24gbGVzc1RoYW4obGVmdCwgcmlnaHQpIHtcbiAgLy8gTWFrZSB2YWx1ZXMgdW5zaWduZWRcbiAgdmFyIHVobGVmdCA9IGxlZnQuaGlnaCA+Pj4gMDtcbiAgdmFyIHVocmlnaHQgPSByaWdodC5oaWdoID4+PiAwOyAvLyBDb21wYXJlIGhpZ2ggYml0cyBmaXJzdFxuXG4gIGlmICh1aGxlZnQgPCB1aHJpZ2h0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAodWhsZWZ0ID09PSB1aHJpZ2h0KSB7XG4gICAgdmFyIHVsbGVmdCA9IGxlZnQubG93ID4+PiAwO1xuICAgIHZhciB1bHJpZ2h0ID0gcmlnaHQubG93ID4+PiAwO1xuICAgIGlmICh1bGxlZnQgPCB1bHJpZ2h0KSByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW52YWxpZEVycihzdHJpbmcsIG1lc3NhZ2UpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcXCJcIi5jb25jYXQoc3RyaW5nLCBcIlxcXCIgaXMgbm90IGEgdmFsaWQgRGVjaW1hbDEyOCBzdHJpbmcgLSBcIikuY29uY2F0KG1lc3NhZ2UpKTtcbn1cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQlNPTiBEZWNpbWFsMTI4IHR5cGUuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnl0ZXMgYSBidWZmZXIgY29udGFpbmluZyB0aGUgcmF3IERlY2ltYWwxMjggYnl0ZXMuXG4gKiBAcmV0dXJuIHtEb3VibGV9XG4gKi9cblxuXG5mdW5jdGlvbiBEZWNpbWFsMTI4KGJ5dGVzKSB7XG4gIHRoaXMuYnl0ZXMgPSBieXRlcztcbn1cbi8qKlxuICogQ3JlYXRlIGEgRGVjaW1hbDEyOCBpbnN0YW5jZSBmcm9tIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gKlxuICogQG1ldGhvZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBhIG51bWVyaWMgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICogQHJldHVybiB7RGVjaW1hbDEyOH0gcmV0dXJucyBhIERlY2ltYWwxMjggaW5zdGFuY2UuXG4gKi9cblxuXG5EZWNpbWFsMTI4LmZyb21TdHJpbmcgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIC8vIFBhcnNlIHN0YXRlIHRyYWNraW5nXG4gIHZhciBpc05lZ2F0aXZlID0gZmFsc2U7XG4gIHZhciBzYXdSYWRpeCA9IGZhbHNlO1xuICB2YXIgZm91bmROb25aZXJvID0gZmFsc2U7IC8vIFRvdGFsIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgKG5vIGxlYWRpbmcgb3IgdHJhaWxpbmcgemVybylcblxuICB2YXIgc2lnbmlmaWNhbnREaWdpdHMgPSAwOyAvLyBUb3RhbCBudW1iZXIgb2Ygc2lnbmlmaWNhbmQgZGlnaXRzIHJlYWRcblxuICB2YXIgbkRpZ2l0c1JlYWQgPSAwOyAvLyBUb3RhbCBudW1iZXIgb2YgZGlnaXRzIChubyBsZWFkaW5nIHplcm9zKVxuXG4gIHZhciBuRGlnaXRzID0gMDsgLy8gVGhlIG51bWJlciBvZiB0aGUgZGlnaXRzIGFmdGVyIHJhZGl4XG5cbiAgdmFyIHJhZGl4UG9zaXRpb24gPSAwOyAvLyBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IG5vbi16ZXJvIGluICpzdHIqXG5cbiAgdmFyIGZpcnN0Tm9uWmVybyA9IDA7IC8vIERpZ2l0cyBBcnJheVxuXG4gIHZhciBkaWdpdHMgPSBbMF07IC8vIFRoZSBudW1iZXIgb2YgZGlnaXRzIGluIGRpZ2l0c1xuXG4gIHZhciBuRGlnaXRzU3RvcmVkID0gMDsgLy8gSW5zZXJ0aW9uIHBvaW50ZXIgZm9yIGRpZ2l0c1xuXG4gIHZhciBkaWdpdHNJbnNlcnQgPSAwOyAvLyBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IG5vbi16ZXJvIGRpZ2l0XG5cbiAgdmFyIGZpcnN0RGlnaXQgPSAwOyAvLyBUaGUgaW5kZXggb2YgdGhlIGxhc3QgZGlnaXRcblxuICB2YXIgbGFzdERpZ2l0ID0gMDsgLy8gRXhwb25lbnRcblxuICB2YXIgZXhwb25lbnQgPSAwOyAvLyBsb29wIGluZGV4IG92ZXIgYXJyYXlcblxuICB2YXIgaSA9IDA7IC8vIFRoZSBoaWdoIDE3IGRpZ2l0cyBvZiB0aGUgc2lnbmlmaWNhbmRcblxuICB2YXIgc2lnbmlmaWNhbmRIaWdoID0gWzAsIDBdOyAvLyBUaGUgbG93IDE3IGRpZ2l0cyBvZiB0aGUgc2lnbmlmaWNhbmRcblxuICB2YXIgc2lnbmlmaWNhbmRMb3cgPSBbMCwgMF07IC8vIFRoZSBiaWFzZWQgZXhwb25lbnRcblxuICB2YXIgYmlhc2VkRXhwb25lbnQgPSAwOyAvLyBSZWFkIGluZGV4XG5cbiAgdmFyIGluZGV4ID0gMDsgLy8gTmFpdmVseSBwcmV2ZW50IGFnYWluc3QgUkVET1MgYXR0YWNrcy5cbiAgLy8gVE9ETzogaW1wbGVtZW50aW5nIGEgY3VzdG9tIHBhcnNpbmcgZm9yIHRoaXMsIG9yIHJlZmFjdG9yaW5nIHRoZSByZWdleCB3b3VsZCB5aWVsZFxuICAvLyAgICAgICBmdXJ0aGVyIGdhaW5zLlxuXG4gIGlmIChzdHJpbmcubGVuZ3RoID49IDcwMDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcnICsgc3RyaW5nICsgJyBub3QgYSB2YWxpZCBEZWNpbWFsMTI4IHN0cmluZycpO1xuICB9IC8vIFJlc3VsdHNcblxuXG4gIHZhciBzdHJpbmdNYXRjaCA9IHN0cmluZy5tYXRjaChQQVJTRV9TVFJJTkdfUkVHRVhQKTtcbiAgdmFyIGluZk1hdGNoID0gc3RyaW5nLm1hdGNoKFBBUlNFX0lORl9SRUdFWFApO1xuICB2YXIgbmFuTWF0Y2ggPSBzdHJpbmcubWF0Y2goUEFSU0VfTkFOX1JFR0VYUCk7IC8vIFZhbGlkYXRlIHRoZSBzdHJpbmdcblxuICBpZiAoIXN0cmluZ01hdGNoICYmICFpbmZNYXRjaCAmJiAhbmFuTWF0Y2ggfHwgc3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJycgKyBzdHJpbmcgKyAnIG5vdCBhIHZhbGlkIERlY2ltYWwxMjggc3RyaW5nJyk7XG4gIH1cblxuICBpZiAoc3RyaW5nTWF0Y2gpIHtcbiAgICAvLyBmdWxsX21hdGNoID0gc3RyaW5nTWF0Y2hbMF1cbiAgICAvLyBzaWduID0gc3RyaW5nTWF0Y2hbMV1cbiAgICB2YXIgdW5zaWduZWROdW1iZXIgPSBzdHJpbmdNYXRjaFsyXTsgLy8gc3RyaW5nTWF0Y2hbM10gaXMgdW5kZWZpbmVkIGlmIGEgd2hvbGUgbnVtYmVyIChleCBcIjFcIiwgMTJcIilcbiAgICAvLyBidXQgZGVmaW5lZCBpZiBhIG51bWJlciB3LyBkZWNpbWFsIGluIGl0IChleCBcIjEuMCwgMTIuMlwiKVxuXG4gICAgdmFyIGUgPSBzdHJpbmdNYXRjaFs0XTtcbiAgICB2YXIgZXhwU2lnbiA9IHN0cmluZ01hdGNoWzVdO1xuICAgIHZhciBleHBOdW1iZXIgPSBzdHJpbmdNYXRjaFs2XTsgLy8gdGhleSBwcm92aWRlZCBlLCBidXQgZGlkbid0IGdpdmUgYW4gZXhwb25lbnQgbnVtYmVyLiBmb3IgZXggXCIxZVwiXG5cbiAgICBpZiAoZSAmJiBleHBOdW1iZXIgPT09IHVuZGVmaW5lZCkgaW52YWxpZEVycihzdHJpbmcsICdtaXNzaW5nIGV4cG9uZW50IHBvd2VyJyk7IC8vIHRoZXkgcHJvdmlkZWQgZSwgYnV0IGRpZG4ndCBnaXZlIGEgbnVtYmVyIGJlZm9yZSBpdC4gZm9yIGV4IFwiZTFcIlxuXG4gICAgaWYgKGUgJiYgdW5zaWduZWROdW1iZXIgPT09IHVuZGVmaW5lZCkgaW52YWxpZEVycihzdHJpbmcsICdtaXNzaW5nIGV4cG9uZW50IGJhc2UnKTtcblxuICAgIGlmIChlID09PSB1bmRlZmluZWQgJiYgKGV4cFNpZ24gfHwgZXhwTnVtYmVyKSkge1xuICAgICAgaW52YWxpZEVycihzdHJpbmcsICdtaXNzaW5nIGUgYmVmb3JlIGV4cG9uZW50Jyk7XG4gICAgfVxuICB9IC8vIEdldCB0aGUgbmVnYXRpdmUgb3IgcG9zaXRpdmUgc2lnblxuXG5cbiAgaWYgKHN0cmluZ1tpbmRleF0gPT09ICcrJyB8fCBzdHJpbmdbaW5kZXhdID09PSAnLScpIHtcbiAgICBpc05lZ2F0aXZlID0gc3RyaW5nW2luZGV4KytdID09PSAnLSc7XG4gIH0gLy8gQ2hlY2sgaWYgdXNlciBwYXNzZWQgSW5maW5pdHkgb3IgTmFOXG5cblxuICBpZiAoIWlzRGlnaXQoc3RyaW5nW2luZGV4XSkgJiYgc3RyaW5nW2luZGV4XSAhPT0gJy4nKSB7XG4gICAgaWYgKHN0cmluZ1tpbmRleF0gPT09ICdpJyB8fCBzdHJpbmdbaW5kZXhdID09PSAnSScpIHtcbiAgICAgIHJldHVybiBuZXcgRGVjaW1hbDEyOChCdWZmZXIkMi5mcm9tKGlzTmVnYXRpdmUgPyBJTkZfTkVHQVRJVkVfQlVGRkVSIDogSU5GX1BPU0lUSVZFX0JVRkZFUikpO1xuICAgIH0gZWxzZSBpZiAoc3RyaW5nW2luZGV4XSA9PT0gJ04nKSB7XG4gICAgICByZXR1cm4gbmV3IERlY2ltYWwxMjgoQnVmZmVyJDIuZnJvbShOQU5fQlVGRkVSKSk7XG4gICAgfVxuICB9IC8vIFJlYWQgYWxsIHRoZSBkaWdpdHNcblxuXG4gIHdoaWxlIChpc0RpZ2l0KHN0cmluZ1tpbmRleF0pIHx8IHN0cmluZ1tpbmRleF0gPT09ICcuJykge1xuICAgIGlmIChzdHJpbmdbaW5kZXhdID09PSAnLicpIHtcbiAgICAgIGlmIChzYXdSYWRpeCkgaW52YWxpZEVycihzdHJpbmcsICdjb250YWlucyBtdWx0aXBsZSBwZXJpb2RzJyk7XG4gICAgICBzYXdSYWRpeCA9IHRydWU7XG4gICAgICBpbmRleCA9IGluZGV4ICsgMTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChuRGlnaXRzU3RvcmVkIDwgMzQpIHtcbiAgICAgIGlmIChzdHJpbmdbaW5kZXhdICE9PSAnMCcgfHwgZm91bmROb25aZXJvKSB7XG4gICAgICAgIGlmICghZm91bmROb25aZXJvKSB7XG4gICAgICAgICAgZmlyc3ROb25aZXJvID0gbkRpZ2l0c1JlYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3VuZE5vblplcm8gPSB0cnVlOyAvLyBPbmx5IHN0b3JlIDM0IGRpZ2l0c1xuXG4gICAgICAgIGRpZ2l0c1tkaWdpdHNJbnNlcnQrK10gPSBwYXJzZUludChzdHJpbmdbaW5kZXhdLCAxMCk7XG4gICAgICAgIG5EaWdpdHNTdG9yZWQgPSBuRGlnaXRzU3RvcmVkICsgMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZm91bmROb25aZXJvKSBuRGlnaXRzID0gbkRpZ2l0cyArIDE7XG4gICAgaWYgKHNhd1JhZGl4KSByYWRpeFBvc2l0aW9uID0gcmFkaXhQb3NpdGlvbiArIDE7XG4gICAgbkRpZ2l0c1JlYWQgPSBuRGlnaXRzUmVhZCArIDE7XG4gICAgaW5kZXggPSBpbmRleCArIDE7XG4gIH1cblxuICBpZiAoc2F3UmFkaXggJiYgIW5EaWdpdHNSZWFkKSB0aHJvdyBuZXcgVHlwZUVycm9yKCcnICsgc3RyaW5nICsgJyBub3QgYSB2YWxpZCBEZWNpbWFsMTI4IHN0cmluZycpOyAvLyBSZWFkIGV4cG9uZW50IGlmIGV4aXN0c1xuXG4gIGlmIChzdHJpbmdbaW5kZXhdID09PSAnZScgfHwgc3RyaW5nW2luZGV4XSA9PT0gJ0UnKSB7XG4gICAgLy8gUmVhZCBleHBvbmVudCBkaWdpdHNcbiAgICB2YXIgbWF0Y2ggPSBzdHJpbmcuc3Vic3RyKCsraW5kZXgpLm1hdGNoKEVYUE9ORU5UX1JFR0VYKTsgLy8gTm8gZGlnaXRzIHJlYWRcblxuICAgIGlmICghbWF0Y2ggfHwgIW1hdGNoWzJdKSByZXR1cm4gbmV3IERlY2ltYWwxMjgoQnVmZmVyJDIuZnJvbShOQU5fQlVGRkVSKSk7IC8vIEdldCBleHBvbmVudFxuXG4gICAgZXhwb25lbnQgPSBwYXJzZUludChtYXRjaFswXSwgMTApOyAvLyBBZGp1c3QgdGhlIGluZGV4XG5cbiAgICBpbmRleCA9IGluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICB9IC8vIFJldHVybiBub3QgYSBudW1iZXJcblxuXG4gIGlmIChzdHJpbmdbaW5kZXhdKSByZXR1cm4gbmV3IERlY2ltYWwxMjgoQnVmZmVyJDIuZnJvbShOQU5fQlVGRkVSKSk7IC8vIERvbmUgcmVhZGluZyBpbnB1dFxuICAvLyBGaW5kIGZpcnN0IG5vbi16ZXJvIGRpZ2l0IGluIGRpZ2l0c1xuXG4gIGZpcnN0RGlnaXQgPSAwO1xuXG4gIGlmICghbkRpZ2l0c1N0b3JlZCkge1xuICAgIGZpcnN0RGlnaXQgPSAwO1xuICAgIGxhc3REaWdpdCA9IDA7XG4gICAgZGlnaXRzWzBdID0gMDtcbiAgICBuRGlnaXRzID0gMTtcbiAgICBuRGlnaXRzU3RvcmVkID0gMTtcbiAgICBzaWduaWZpY2FudERpZ2l0cyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGFzdERpZ2l0ID0gbkRpZ2l0c1N0b3JlZCAtIDE7XG4gICAgc2lnbmlmaWNhbnREaWdpdHMgPSBuRGlnaXRzO1xuXG4gICAgaWYgKHNpZ25pZmljYW50RGlnaXRzICE9PSAxKSB7XG4gICAgICB3aGlsZSAoc3RyaW5nW2ZpcnN0Tm9uWmVybyArIHNpZ25pZmljYW50RGlnaXRzIC0gMV0gPT09ICcwJykge1xuICAgICAgICBzaWduaWZpY2FudERpZ2l0cyA9IHNpZ25pZmljYW50RGlnaXRzIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gTm9ybWFsaXphdGlvbiBvZiBleHBvbmVudFxuICAvLyBDb3JyZWN0IGV4cG9uZW50IGJhc2VkIG9uIHJhZGl4IHBvc2l0aW9uLCBhbmQgc2hpZnQgc2lnbmlmaWNhbmQgYXMgbmVlZGVkXG4gIC8vIHRvIHJlcHJlc2VudCB1c2VyIGlucHV0XG4gIC8vIE92ZXJmbG93IHByZXZlbnRpb25cblxuXG4gIGlmIChleHBvbmVudCA8PSByYWRpeFBvc2l0aW9uICYmIHJhZGl4UG9zaXRpb24gLSBleHBvbmVudCA+IDEgPDwgMTQpIHtcbiAgICBleHBvbmVudCA9IEVYUE9ORU5UX01JTjtcbiAgfSBlbHNlIHtcbiAgICBleHBvbmVudCA9IGV4cG9uZW50IC0gcmFkaXhQb3NpdGlvbjtcbiAgfSAvLyBBdHRlbXB0IHRvIG5vcm1hbGl6ZSB0aGUgZXhwb25lbnRcblxuXG4gIHdoaWxlIChleHBvbmVudCA+IEVYUE9ORU5UX01BWCkge1xuICAgIC8vIFNoaWZ0IGV4cG9uZW50IHRvIHNpZ25pZmljYW5kIGFuZCBkZWNyZWFzZVxuICAgIGxhc3REaWdpdCA9IGxhc3REaWdpdCArIDE7XG5cbiAgICBpZiAobGFzdERpZ2l0IC0gZmlyc3REaWdpdCA+IE1BWF9ESUdJVFMpIHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSB6ZXJvIHRoZW4ganVzdCBoYXJkIGNsYW1wLCBvdGhlcndpc2UgZmFpbFxuICAgICAgdmFyIGRpZ2l0c1N0cmluZyA9IGRpZ2l0cy5qb2luKCcnKTtcblxuICAgICAgaWYgKGRpZ2l0c1N0cmluZy5tYXRjaCgvXjArJC8pKSB7XG4gICAgICAgIGV4cG9uZW50ID0gRVhQT05FTlRfTUFYO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaW52YWxpZEVycihzdHJpbmcsICdvdmVyZmxvdycpO1xuICAgIH1cblxuICAgIGV4cG9uZW50ID0gZXhwb25lbnQgLSAxO1xuICB9XG5cbiAgd2hpbGUgKGV4cG9uZW50IDwgRVhQT05FTlRfTUlOIHx8IG5EaWdpdHNTdG9yZWQgPCBuRGlnaXRzKSB7XG4gICAgLy8gU2hpZnQgbGFzdCBkaWdpdC4gY2FuIG9ubHkgZG8gdGhpcyBpZiA8IHNpZ25pZmljYW50IGRpZ2l0cyB0aGFuICMgc3RvcmVkLlxuICAgIGlmIChsYXN0RGlnaXQgPT09IDAgJiYgc2lnbmlmaWNhbnREaWdpdHMgPCBuRGlnaXRzU3RvcmVkKSB7XG4gICAgICBleHBvbmVudCA9IEVYUE9ORU5UX01JTjtcbiAgICAgIHNpZ25pZmljYW50RGlnaXRzID0gMDtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChuRGlnaXRzU3RvcmVkIDwgbkRpZ2l0cykge1xuICAgICAgLy8gYWRqdXN0IHRvIG1hdGNoIGRpZ2l0cyBub3Qgc3RvcmVkXG4gICAgICBuRGlnaXRzID0gbkRpZ2l0cyAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFkanVzdCB0byByb3VuZFxuICAgICAgbGFzdERpZ2l0ID0gbGFzdERpZ2l0IC0gMTtcbiAgICB9XG5cbiAgICBpZiAoZXhwb25lbnQgPCBFWFBPTkVOVF9NQVgpIHtcbiAgICAgIGV4cG9uZW50ID0gZXhwb25lbnQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgemVybyB0aGVuIGp1c3QgaGFyZCBjbGFtcCwgb3RoZXJ3aXNlIGZhaWxcbiAgICAgIHZhciBfZGlnaXRzU3RyaW5nID0gZGlnaXRzLmpvaW4oJycpO1xuXG4gICAgICBpZiAoX2RpZ2l0c1N0cmluZy5tYXRjaCgvXjArJC8pKSB7XG4gICAgICAgIGV4cG9uZW50ID0gRVhQT05FTlRfTUFYO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaW52YWxpZEVycihzdHJpbmcsICdvdmVyZmxvdycpO1xuICAgIH1cbiAgfSAvLyBSb3VuZFxuICAvLyBXZSd2ZSBub3JtYWxpemVkIHRoZSBleHBvbmVudCwgYnV0IG1pZ2h0IHN0aWxsIG5lZWQgdG8gcm91bmQuXG5cblxuICBpZiAobGFzdERpZ2l0IC0gZmlyc3REaWdpdCArIDEgPCBzaWduaWZpY2FudERpZ2l0cykge1xuICAgIHZhciBlbmRPZlN0cmluZyA9IG5EaWdpdHNSZWFkOyAvLyBJZiB3ZSBoYXZlIHNlZW4gYSByYWRpeCBwb2ludCwgJ3N0cmluZycgaXMgMSBsb25nZXIgdGhhbiB3ZSBoYXZlXG4gICAgLy8gZG9jdW1lbnRlZCB3aXRoIG5kaWdpdHNfcmVhZCwgc28gaW5jIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgbm9uemVyb1xuICAgIC8vIGRpZ2l0IGFuZCB0aGUgcG9zaXRpb24gdGhhdCBkaWdpdHMgYXJlIHJlYWQgdG8uXG5cbiAgICBpZiAoc2F3UmFkaXgpIHtcbiAgICAgIGZpcnN0Tm9uWmVybyA9IGZpcnN0Tm9uWmVybyArIDE7XG4gICAgICBlbmRPZlN0cmluZyA9IGVuZE9mU3RyaW5nICsgMTtcbiAgICB9IC8vIGlmIG5lZ2F0aXZlLCB3ZSBuZWVkIHRvIGluY3JlbWVudCBhZ2FpbiB0byBhY2NvdW50IGZvciAtIHNpZ24gYXQgc3RhcnQuXG5cblxuICAgIGlmIChpc05lZ2F0aXZlKSB7XG4gICAgICBmaXJzdE5vblplcm8gPSBmaXJzdE5vblplcm8gKyAxO1xuICAgICAgZW5kT2ZTdHJpbmcgPSBlbmRPZlN0cmluZyArIDE7XG4gICAgfVxuXG4gICAgdmFyIHJvdW5kRGlnaXQgPSBwYXJzZUludChzdHJpbmdbZmlyc3ROb25aZXJvICsgbGFzdERpZ2l0ICsgMV0sIDEwKTtcbiAgICB2YXIgcm91bmRCaXQgPSAwO1xuXG4gICAgaWYgKHJvdW5kRGlnaXQgPj0gNSkge1xuICAgICAgcm91bmRCaXQgPSAxO1xuXG4gICAgICBpZiAocm91bmREaWdpdCA9PT0gNSkge1xuICAgICAgICByb3VuZEJpdCA9IGRpZ2l0c1tsYXN0RGlnaXRdICUgMiA9PT0gMTtcblxuICAgICAgICBmb3IgKGkgPSBmaXJzdE5vblplcm8gKyBsYXN0RGlnaXQgKyAyOyBpIDwgZW5kT2ZTdHJpbmc7IGkrKykge1xuICAgICAgICAgIGlmIChwYXJzZUludChzdHJpbmdbaV0sIDEwKSkge1xuICAgICAgICAgICAgcm91bmRCaXQgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJvdW5kQml0KSB7XG4gICAgICB2YXIgZElkeCA9IGxhc3REaWdpdDtcblxuICAgICAgZm9yICg7IGRJZHggPj0gMDsgZElkeC0tKSB7XG4gICAgICAgIGlmICgrK2RpZ2l0c1tkSWR4XSA+IDkpIHtcbiAgICAgICAgICBkaWdpdHNbZElkeF0gPSAwOyAvLyBvdmVyZmxvd2VkIG1vc3Qgc2lnbmlmaWNhbnQgZGlnaXRcblxuICAgICAgICAgIGlmIChkSWR4ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoZXhwb25lbnQgPCBFWFBPTkVOVF9NQVgpIHtcbiAgICAgICAgICAgICAgZXhwb25lbnQgPSBleHBvbmVudCArIDE7XG4gICAgICAgICAgICAgIGRpZ2l0c1tkSWR4XSA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IERlY2ltYWwxMjgoQnVmZmVyJDIuZnJvbShpc05lZ2F0aXZlID8gSU5GX05FR0FUSVZFX0JVRkZFUiA6IElORl9QT1NJVElWRV9CVUZGRVIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gRW5jb2RlIHNpZ25pZmljYW5kXG4gIC8vIFRoZSBoaWdoIDE3IGRpZ2l0cyBvZiB0aGUgc2lnbmlmaWNhbmRcblxuXG4gIHNpZ25pZmljYW5kSGlnaCA9IGxvbmdfMS5mcm9tTnVtYmVyKDApOyAvLyBUaGUgbG93IDE3IGRpZ2l0cyBvZiB0aGUgc2lnbmlmaWNhbmRcblxuICBzaWduaWZpY2FuZExvdyA9IGxvbmdfMS5mcm9tTnVtYmVyKDApOyAvLyByZWFkIGEgemVyb1xuXG4gIGlmIChzaWduaWZpY2FudERpZ2l0cyA9PT0gMCkge1xuICAgIHNpZ25pZmljYW5kSGlnaCA9IGxvbmdfMS5mcm9tTnVtYmVyKDApO1xuICAgIHNpZ25pZmljYW5kTG93ID0gbG9uZ18xLmZyb21OdW1iZXIoMCk7XG4gIH0gZWxzZSBpZiAobGFzdERpZ2l0IC0gZmlyc3REaWdpdCA8IDE3KSB7XG4gICAgdmFyIF9kSWR4ID0gZmlyc3REaWdpdDtcbiAgICBzaWduaWZpY2FuZExvdyA9IGxvbmdfMS5mcm9tTnVtYmVyKGRpZ2l0c1tfZElkeCsrXSk7XG4gICAgc2lnbmlmaWNhbmRIaWdoID0gbmV3IGxvbmdfMSgwLCAwKTtcblxuICAgIGZvciAoOyBfZElkeCA8PSBsYXN0RGlnaXQ7IF9kSWR4KyspIHtcbiAgICAgIHNpZ25pZmljYW5kTG93ID0gc2lnbmlmaWNhbmRMb3cubXVsdGlwbHkobG9uZ18xLmZyb21OdW1iZXIoMTApKTtcbiAgICAgIHNpZ25pZmljYW5kTG93ID0gc2lnbmlmaWNhbmRMb3cuYWRkKGxvbmdfMS5mcm9tTnVtYmVyKGRpZ2l0c1tfZElkeF0pKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9kSWR4MiA9IGZpcnN0RGlnaXQ7XG4gICAgc2lnbmlmaWNhbmRIaWdoID0gbG9uZ18xLmZyb21OdW1iZXIoZGlnaXRzW19kSWR4MisrXSk7XG5cbiAgICBmb3IgKDsgX2RJZHgyIDw9IGxhc3REaWdpdCAtIDE3OyBfZElkeDIrKykge1xuICAgICAgc2lnbmlmaWNhbmRIaWdoID0gc2lnbmlmaWNhbmRIaWdoLm11bHRpcGx5KGxvbmdfMS5mcm9tTnVtYmVyKDEwKSk7XG4gICAgICBzaWduaWZpY2FuZEhpZ2ggPSBzaWduaWZpY2FuZEhpZ2guYWRkKGxvbmdfMS5mcm9tTnVtYmVyKGRpZ2l0c1tfZElkeDJdKSk7XG4gICAgfVxuXG4gICAgc2lnbmlmaWNhbmRMb3cgPSBsb25nXzEuZnJvbU51bWJlcihkaWdpdHNbX2RJZHgyKytdKTtcblxuICAgIGZvciAoOyBfZElkeDIgPD0gbGFzdERpZ2l0OyBfZElkeDIrKykge1xuICAgICAgc2lnbmlmaWNhbmRMb3cgPSBzaWduaWZpY2FuZExvdy5tdWx0aXBseShsb25nXzEuZnJvbU51bWJlcigxMCkpO1xuICAgICAgc2lnbmlmaWNhbmRMb3cgPSBzaWduaWZpY2FuZExvdy5hZGQobG9uZ18xLmZyb21OdW1iZXIoZGlnaXRzW19kSWR4Ml0pKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc2lnbmlmaWNhbmQgPSBtdWx0aXBseTY0eDIoc2lnbmlmaWNhbmRIaWdoLCBsb25nXzEuZnJvbVN0cmluZygnMTAwMDAwMDAwMDAwMDAwMDAwJykpO1xuICBzaWduaWZpY2FuZC5sb3cgPSBzaWduaWZpY2FuZC5sb3cuYWRkKHNpZ25pZmljYW5kTG93KTtcblxuICBpZiAobGVzc1RoYW4oc2lnbmlmaWNhbmQubG93LCBzaWduaWZpY2FuZExvdykpIHtcbiAgICBzaWduaWZpY2FuZC5oaWdoID0gc2lnbmlmaWNhbmQuaGlnaC5hZGQobG9uZ18xLmZyb21OdW1iZXIoMSkpO1xuICB9IC8vIEJpYXNlZCBleHBvbmVudFxuXG5cbiAgYmlhc2VkRXhwb25lbnQgPSBleHBvbmVudCArIEVYUE9ORU5UX0JJQVM7XG4gIHZhciBkZWMgPSB7XG4gICAgbG93OiBsb25nXzEuZnJvbU51bWJlcigwKSxcbiAgICBoaWdoOiBsb25nXzEuZnJvbU51bWJlcigwKVxuICB9OyAvLyBFbmNvZGUgY29tYmluYXRpb24sIGV4cG9uZW50LCBhbmQgc2lnbmlmaWNhbmQuXG5cbiAgaWYgKHNpZ25pZmljYW5kLmhpZ2guc2hpZnRSaWdodFVuc2lnbmVkKDQ5KS5hbmQobG9uZ18xLmZyb21OdW1iZXIoMSkpLmVxdWFscyhsb25nXzEuZnJvbU51bWJlcigxKSkpIHtcbiAgICAvLyBFbmNvZGUgJzExJyBpbnRvIGJpdHMgMSB0byAzXG4gICAgZGVjLmhpZ2ggPSBkZWMuaGlnaC5vcihsb25nXzEuZnJvbU51bWJlcigweDMpLnNoaWZ0TGVmdCg2MSkpO1xuICAgIGRlYy5oaWdoID0gZGVjLmhpZ2gub3IobG9uZ18xLmZyb21OdW1iZXIoYmlhc2VkRXhwb25lbnQpLmFuZChsb25nXzEuZnJvbU51bWJlcigweDNmZmYpLnNoaWZ0TGVmdCg0NykpKTtcbiAgICBkZWMuaGlnaCA9IGRlYy5oaWdoLm9yKHNpZ25pZmljYW5kLmhpZ2guYW5kKGxvbmdfMS5mcm9tTnVtYmVyKDB4N2ZmZmZmZmZmZmZmKSkpO1xuICB9IGVsc2Uge1xuICAgIGRlYy5oaWdoID0gZGVjLmhpZ2gub3IobG9uZ18xLmZyb21OdW1iZXIoYmlhc2VkRXhwb25lbnQgJiAweDNmZmYpLnNoaWZ0TGVmdCg0OSkpO1xuICAgIGRlYy5oaWdoID0gZGVjLmhpZ2gub3Ioc2lnbmlmaWNhbmQuaGlnaC5hbmQobG9uZ18xLmZyb21OdW1iZXIoMHgxZmZmZmZmZmZmZmZmKSkpO1xuICB9XG5cbiAgZGVjLmxvdyA9IHNpZ25pZmljYW5kLmxvdzsgLy8gRW5jb2RlIHNpZ25cblxuICBpZiAoaXNOZWdhdGl2ZSkge1xuICAgIGRlYy5oaWdoID0gZGVjLmhpZ2gub3IobG9uZ18xLmZyb21TdHJpbmcoJzkyMjMzNzIwMzY4NTQ3NzU4MDgnKSk7XG4gIH0gLy8gRW5jb2RlIGludG8gYSBidWZmZXJcblxuXG4gIHZhciBidWZmZXIkJDEgPSBCdWZmZXIkMi5hbGxvYygxNik7XG4gIGluZGV4ID0gMDsgLy8gRW5jb2RlIHRoZSBsb3cgNjQgYml0cyBvZiB0aGUgZGVjaW1hbFxuICAvLyBFbmNvZGUgbG93IGJpdHNcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMubG93LmxvdyAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5sb3cubG93ID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMubG93LmxvdyA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5sb3cubG93ID4+IDI0ICYgMHhmZjsgLy8gRW5jb2RlIGhpZ2ggYml0c1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5sb3cuaGlnaCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5sb3cuaGlnaCA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmxvdy5oaWdoID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmxvdy5oaWdoID4+IDI0ICYgMHhmZjsgLy8gRW5jb2RlIHRoZSBoaWdoIDY0IGJpdHMgb2YgdGhlIGRlY2ltYWxcbiAgLy8gRW5jb2RlIGxvdyBiaXRzXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmhpZ2gubG93ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmhpZ2gubG93ID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMuaGlnaC5sb3cgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMuaGlnaC5sb3cgPj4gMjQgJiAweGZmOyAvLyBFbmNvZGUgaGlnaCBiaXRzXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmhpZ2guaGlnaCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5oaWdoLmhpZ2ggPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5oaWdoLmhpZ2ggPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMuaGlnaC5oaWdoID4+IDI0ICYgMHhmZjsgLy8gUmV0dXJuIHRoZSBuZXcgRGVjaW1hbDEyOFxuXG4gIHJldHVybiBuZXcgRGVjaW1hbDEyOChidWZmZXIkJDEpO1xufTsgLy8gRXh0cmFjdCBsZWFzdCBzaWduaWZpY2FudCA1IGJpdHNcblxuXG52YXIgQ09NQklOQVRJT05fTUFTSyA9IDB4MWY7IC8vIEV4dHJhY3QgbGVhc3Qgc2lnbmlmaWNhbnQgMTQgYml0c1xuXG52YXIgRVhQT05FTlRfTUFTSyA9IDB4M2ZmZjsgLy8gVmFsdWUgb2YgY29tYmluYXRpb24gZmllbGQgZm9yIEluZlxuXG52YXIgQ09NQklOQVRJT05fSU5GSU5JVFkgPSAzMDsgLy8gVmFsdWUgb2YgY29tYmluYXRpb24gZmllbGQgZm9yIE5hTlxuXG52YXIgQ09NQklOQVRJT05fTkFOID0gMzE7XG4vKipcbiAqIENyZWF0ZSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmF3IERlY2ltYWwxMjggdmFsdWVcbiAqXG4gKiBAbWV0aG9kXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHJldHVybnMgYSBEZWNpbWFsMTI4IHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqL1xuXG5EZWNpbWFsMTI4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gTm90ZTogYml0cyBpbiB0aGlzIHJvdXRpbmUgYXJlIHJlZmVycmVkIHRvIHN0YXJ0aW5nIGF0IDAsXG4gIC8vIGZyb20gdGhlIHNpZ24gYml0LCB0b3dhcmRzIHRoZSBjb2VmZmljaWVudC5cbiAgLy8gYml0cyAwIC0gMzFcbiAgdmFyIGhpZ2g7IC8vIGJpdHMgMzIgLSA2M1xuXG4gIHZhciBtaWRoOyAvLyBiaXRzIDY0IC0gOTVcblxuICB2YXIgbWlkbDsgLy8gYml0cyA5NiAtIDEyN1xuXG4gIHZhciBsb3c7IC8vIGJpdHMgMSAtIDVcblxuICB2YXIgY29tYmluYXRpb247IC8vIGRlY29kZWQgYmlhc2VkIGV4cG9uZW50ICgxNCBiaXRzKVxuXG4gIHZhciBiaWFzZWRfZXhwb25lbnQ7IC8vIHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbmQgZGlnaXRzXG5cbiAgdmFyIHNpZ25pZmljYW5kX2RpZ2l0cyA9IDA7IC8vIHRoZSBiYXNlLTEwIGRpZ2l0cyBpbiB0aGUgc2lnbmlmaWNhbmRcblxuICB2YXIgc2lnbmlmaWNhbmQgPSBuZXcgQXJyYXkoMzYpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnbmlmaWNhbmQubGVuZ3RoOyBpKyspIHtcbiAgICBzaWduaWZpY2FuZFtpXSA9IDA7XG4gIH0gLy8gcmVhZCBwb2ludGVyIGludG8gc2lnbmlmaWNhbmRcblxuXG4gIHZhciBpbmRleCA9IDA7IC8vIHVuYmlhc2VkIGV4cG9uZW50XG5cbiAgdmFyIGV4cG9uZW50OyAvLyB0aGUgZXhwb25lbnQgaWYgc2NpZW50aWZpYyBub3RhdGlvbiBpcyB1c2VkXG5cbiAgdmFyIHNjaWVudGlmaWNfZXhwb25lbnQ7IC8vIHRydWUgaWYgdGhlIG51bWJlciBpcyB6ZXJvXG5cbiAgdmFyIGlzX3plcm8gPSBmYWxzZTsgLy8gdGhlIG1vc3Qgc2lnbmlmY2FudCBzaWduaWZpY2FuZCBiaXRzICg1MC00NilcblxuICB2YXIgc2lnbmlmaWNhbmRfbXNiOyAvLyB0ZW1wb3Jhcnkgc3RvcmFnZSBmb3Igc2lnbmlmaWNhbmQgZGVjb2RpbmdcblxuICB2YXIgc2lnbmlmaWNhbmQxMjggPSB7XG4gICAgcGFydHM6IG5ldyBBcnJheSg0KVxuICB9OyAvLyBpbmRleGluZyB2YXJpYWJsZXNcblxuICB2YXIgaiwgazsgLy8gT3V0cHV0IHN0cmluZ1xuXG4gIHZhciBzdHJpbmcgPSBbXTsgLy8gVW5wYWNrIGluZGV4XG5cbiAgaW5kZXggPSAwOyAvLyBCdWZmZXIgcmVmZXJlbmNlXG5cbiAgdmFyIGJ1ZmZlciQkMSA9IHRoaXMuYnl0ZXM7IC8vIFVucGFjayB0aGUgbG93IDY0Yml0cyBpbnRvIGEgbG9uZ1xuXG4gIGxvdyA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuICBtaWRsID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7IC8vIFVucGFjayB0aGUgaGlnaCA2NGJpdHMgaW50byBhIGxvbmdcblxuICBtaWRoID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG4gIGhpZ2ggPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDsgLy8gVW5wYWNrIGluZGV4XG5cbiAgaW5kZXggPSAwOyAvLyBDcmVhdGUgdGhlIHN0YXRlIG9mIHRoZSBkZWNpbWFsXG5cbiAgdmFyIGRlYyA9IHtcbiAgICBsb3c6IG5ldyBsb25nXzEobG93LCBtaWRsKSxcbiAgICBoaWdoOiBuZXcgbG9uZ18xKG1pZGgsIGhpZ2gpXG4gIH07XG5cbiAgaWYgKGRlYy5oaWdoLmxlc3NUaGFuKGxvbmdfMS5aRVJPKSkge1xuICAgIHN0cmluZy5wdXNoKCctJyk7XG4gIH0gLy8gRGVjb2RlIGNvbWJpbmF0aW9uIGZpZWxkIGFuZCBleHBvbmVudFxuXG5cbiAgY29tYmluYXRpb24gPSBoaWdoID4+IDI2ICYgQ09NQklOQVRJT05fTUFTSztcblxuICBpZiAoY29tYmluYXRpb24gPj4gMyA9PT0gMykge1xuICAgIC8vIENoZWNrIGZvciAnc3BlY2lhbCcgdmFsdWVzXG4gICAgaWYgKGNvbWJpbmF0aW9uID09PSBDT01CSU5BVElPTl9JTkZJTklUWSkge1xuICAgICAgcmV0dXJuIHN0cmluZy5qb2luKCcnKSArICdJbmZpbml0eSc7XG4gICAgfSBlbHNlIGlmIChjb21iaW5hdGlvbiA9PT0gQ09NQklOQVRJT05fTkFOKSB7XG4gICAgICByZXR1cm4gJ05hTic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJpYXNlZF9leHBvbmVudCA9IGhpZ2ggPj4gMTUgJiBFWFBPTkVOVF9NQVNLO1xuICAgICAgc2lnbmlmaWNhbmRfbXNiID0gMHgwOCArIChoaWdoID4+IDE0ICYgMHgwMSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNpZ25pZmljYW5kX21zYiA9IGhpZ2ggPj4gMTQgJiAweDA3O1xuICAgIGJpYXNlZF9leHBvbmVudCA9IGhpZ2ggPj4gMTcgJiBFWFBPTkVOVF9NQVNLO1xuICB9XG5cbiAgZXhwb25lbnQgPSBiaWFzZWRfZXhwb25lbnQgLSBFWFBPTkVOVF9CSUFTOyAvLyBDcmVhdGUgc3RyaW5nIG9mIHNpZ25pZmljYW5kIGRpZ2l0c1xuICAvLyBDb252ZXJ0IHRoZSAxMTQtYml0IGJpbmFyeSBudW1iZXIgcmVwcmVzZW50ZWQgYnlcbiAgLy8gKHNpZ25pZmljYW5kX2hpZ2gsIHNpZ25pZmljYW5kX2xvdykgdG8gYXQgbW9zdCAzNCBkZWNpbWFsXG4gIC8vIGRpZ2l0cyB0aHJvdWdoIG1vZHVsbyBhbmQgZGl2aXNpb24uXG5cbiAgc2lnbmlmaWNhbmQxMjgucGFydHNbMF0gPSAoaGlnaCAmIDB4M2ZmZikgKyAoKHNpZ25pZmljYW5kX21zYiAmIDB4ZikgPDwgMTQpO1xuICBzaWduaWZpY2FuZDEyOC5wYXJ0c1sxXSA9IG1pZGg7XG4gIHNpZ25pZmljYW5kMTI4LnBhcnRzWzJdID0gbWlkbDtcbiAgc2lnbmlmaWNhbmQxMjgucGFydHNbM10gPSBsb3c7XG5cbiAgaWYgKHNpZ25pZmljYW5kMTI4LnBhcnRzWzBdID09PSAwICYmIHNpZ25pZmljYW5kMTI4LnBhcnRzWzFdID09PSAwICYmIHNpZ25pZmljYW5kMTI4LnBhcnRzWzJdID09PSAwICYmIHNpZ25pZmljYW5kMTI4LnBhcnRzWzNdID09PSAwKSB7XG4gICAgaXNfemVybyA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChrID0gMzsgayA+PSAwOyBrLS0pIHtcbiAgICAgIHZhciBsZWFzdF9kaWdpdHMgPSAwOyAvLyBQZWZvcm0gdGhlIGRpdmlkZVxuXG4gICAgICB2YXIgcmVzdWx0ID0gZGl2aWRldTEyOChzaWduaWZpY2FuZDEyOCk7XG4gICAgICBzaWduaWZpY2FuZDEyOCA9IHJlc3VsdC5xdW90aWVudDtcbiAgICAgIGxlYXN0X2RpZ2l0cyA9IHJlc3VsdC5yZW0ubG93OyAvLyBXZSBub3cgaGF2ZSB0aGUgOSBsZWFzdCBzaWduaWZpY2FudCBkaWdpdHMgKGluIGJhc2UgMikuXG4gICAgICAvLyBDb252ZXJ0IGFuZCBvdXRwdXQgdG8gc3RyaW5nLlxuXG4gICAgICBpZiAoIWxlYXN0X2RpZ2l0cykgY29udGludWU7XG5cbiAgICAgIGZvciAoaiA9IDg7IGogPj0gMDsgai0tKSB7XG4gICAgICAgIC8vIHNpZ25pZmljYW5kW2sgKiA5ICsgal0gPSBNYXRoLnJvdW5kKGxlYXN0X2RpZ2l0cyAlIDEwKTtcbiAgICAgICAgc2lnbmlmaWNhbmRbayAqIDkgKyBqXSA9IGxlYXN0X2RpZ2l0cyAlIDEwOyAvLyBsZWFzdF9kaWdpdHMgPSBNYXRoLnJvdW5kKGxlYXN0X2RpZ2l0cyAvIDEwKTtcblxuICAgICAgICBsZWFzdF9kaWdpdHMgPSBNYXRoLmZsb29yKGxlYXN0X2RpZ2l0cyAvIDEwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gT3V0cHV0IGZvcm1hdCBvcHRpb25zOlxuICAvLyBTY2llbnRpZmljIC0gWy1dZC5kZGRFKCsvLSlkZCBvciBbLV1kRSgrLy0pZGRcbiAgLy8gUmVndWxhciAgICAtIGRkZC5kZGRcblxuXG4gIGlmIChpc196ZXJvKSB7XG4gICAgc2lnbmlmaWNhbmRfZGlnaXRzID0gMTtcbiAgICBzaWduaWZpY2FuZFtpbmRleF0gPSAwO1xuICB9IGVsc2Uge1xuICAgIHNpZ25pZmljYW5kX2RpZ2l0cyA9IDM2O1xuXG4gICAgd2hpbGUgKCFzaWduaWZpY2FuZFtpbmRleF0pIHtcbiAgICAgIHNpZ25pZmljYW5kX2RpZ2l0cyA9IHNpZ25pZmljYW5kX2RpZ2l0cyAtIDE7XG4gICAgICBpbmRleCA9IGluZGV4ICsgMTtcbiAgICB9XG4gIH1cblxuICBzY2llbnRpZmljX2V4cG9uZW50ID0gc2lnbmlmaWNhbmRfZGlnaXRzIC0gMSArIGV4cG9uZW50OyAvLyBUaGUgc2NpZW50aWZpYyBleHBvbmVudCBjaGVja3MgYXJlIGRpY3RhdGVkIGJ5IHRoZSBzdHJpbmcgY29udmVyc2lvblxuICAvLyBzcGVjaWZpY2F0aW9uIGFuZCBhcmUgc29tZXdoYXQgYXJiaXRyYXJ5IGN1dG9mZnMuXG4gIC8vXG4gIC8vIFdlIG11c3QgY2hlY2sgZXhwb25lbnQgPiAwLCBiZWNhdXNlIGlmIHRoaXMgaXMgdGhlIGNhc2UsIHRoZSBudW1iZXJcbiAgLy8gaGFzIHRyYWlsaW5nIHplcm9zLiAgSG93ZXZlciwgd2UgKmNhbm5vdCogb3V0cHV0IHRoZXNlIHRyYWlsaW5nIHplcm9zLFxuICAvLyBiZWNhdXNlIGRvaW5nIHNvIHdvdWxkIGNoYW5nZSB0aGUgcHJlY2lzaW9uIG9mIHRoZSB2YWx1ZSwgYW5kIHdvdWxkXG4gIC8vIGNoYW5nZSBzdG9yZWQgZGF0YSBpZiB0aGUgc3RyaW5nIGNvbnZlcnRlZCBudW1iZXIgaXMgcm91bmQgdHJpcHBlZC5cblxuICBpZiAoc2NpZW50aWZpY19leHBvbmVudCA+PSAzNCB8fCBzY2llbnRpZmljX2V4cG9uZW50IDw9IC03IHx8IGV4cG9uZW50ID4gMCkge1xuICAgIC8vIFNjaWVudGlmaWMgZm9ybWF0XG4gICAgLy8gaWYgdGhlcmUgYXJlIHRvbyBtYW55IHNpZ25pZmljYW50IGRpZ2l0cywgd2Ugc2hvdWxkIGp1c3QgYmUgdHJlYXRpbmcgbnVtYmVyc1xuICAgIC8vIGFzICsgb3IgLSAwIGFuZCB1c2luZyB0aGUgbm9uLXNjaWVudGlmaWMgZXhwb25lbnQgKHRoaXMgaXMgZm9yIHRoZSBcImludmFsaWRcbiAgICAvLyByZXByZXNlbnRhdGlvbiBzaG91bGQgYmUgdHJlYXRlZCBhcyAwLy0wXCIgc3BlYyBjYXNlcyBpbiBkZWNpbWFsMTI4LTEuanNvbilcbiAgICBpZiAoc2lnbmlmaWNhbmRfZGlnaXRzID4gMzQpIHtcbiAgICAgIHN0cmluZy5wdXNoKDApO1xuICAgICAgaWYgKGV4cG9uZW50ID4gMCkgc3RyaW5nLnB1c2goJ0UrJyArIGV4cG9uZW50KTtlbHNlIGlmIChleHBvbmVudCA8IDApIHN0cmluZy5wdXNoKCdFJyArIGV4cG9uZW50KTtcbiAgICAgIHJldHVybiBzdHJpbmcuam9pbignJyk7XG4gICAgfVxuXG4gICAgc3RyaW5nLnB1c2goc2lnbmlmaWNhbmRbaW5kZXgrK10pO1xuICAgIHNpZ25pZmljYW5kX2RpZ2l0cyA9IHNpZ25pZmljYW5kX2RpZ2l0cyAtIDE7XG5cbiAgICBpZiAoc2lnbmlmaWNhbmRfZGlnaXRzKSB7XG4gICAgICBzdHJpbmcucHVzaCgnLicpO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzaWduaWZpY2FuZF9kaWdpdHM7IF9pKyspIHtcbiAgICAgIHN0cmluZy5wdXNoKHNpZ25pZmljYW5kW2luZGV4KytdKTtcbiAgICB9IC8vIEV4cG9uZW50XG5cblxuICAgIHN0cmluZy5wdXNoKCdFJyk7XG5cbiAgICBpZiAoc2NpZW50aWZpY19leHBvbmVudCA+IDApIHtcbiAgICAgIHN0cmluZy5wdXNoKCcrJyArIHNjaWVudGlmaWNfZXhwb25lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJpbmcucHVzaChzY2llbnRpZmljX2V4cG9uZW50KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gUmVndWxhciBmb3JtYXQgd2l0aCBubyBkZWNpbWFsIHBsYWNlXG4gICAgaWYgKGV4cG9uZW50ID49IDApIHtcbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHNpZ25pZmljYW5kX2RpZ2l0czsgX2kyKyspIHtcbiAgICAgICAgc3RyaW5nLnB1c2goc2lnbmlmaWNhbmRbaW5kZXgrK10pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcmFkaXhfcG9zaXRpb24gPSBzaWduaWZpY2FuZF9kaWdpdHMgKyBleHBvbmVudDsgLy8gbm9uLXplcm8gZGlnaXRzIGJlZm9yZSByYWRpeFxuXG4gICAgICBpZiAocmFkaXhfcG9zaXRpb24gPiAwKSB7XG4gICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHJhZGl4X3Bvc2l0aW9uOyBfaTMrKykge1xuICAgICAgICAgIHN0cmluZy5wdXNoKHNpZ25pZmljYW5kW2luZGV4KytdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyaW5nLnB1c2goJzAnKTtcbiAgICAgIH1cblxuICAgICAgc3RyaW5nLnB1c2goJy4nKTsgLy8gYWRkIGxlYWRpbmcgemVyb3MgYWZ0ZXIgcmFkaXhcblxuICAgICAgd2hpbGUgKHJhZGl4X3Bvc2l0aW9uKysgPCAwKSB7XG4gICAgICAgIHN0cmluZy5wdXNoKCcwJyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IHNpZ25pZmljYW5kX2RpZ2l0cyAtIE1hdGgubWF4KHJhZGl4X3Bvc2l0aW9uIC0gMSwgMCk7IF9pNCsrKSB7XG4gICAgICAgIHN0cmluZy5wdXNoKHNpZ25pZmljYW5kW2luZGV4KytdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3RyaW5nLmpvaW4oJycpO1xufTtcblxuRGVjaW1hbDEyOC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgICRudW1iZXJEZWNpbWFsOiB0aGlzLnRvU3RyaW5nKClcbiAgfTtcbn07XG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuXG5cbkRlY2ltYWwxMjgucHJvdG90eXBlLnRvRXh0ZW5kZWRKU09OID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgICRudW1iZXJEZWNpbWFsOiB0aGlzLnRvU3RyaW5nKClcbiAgfTtcbn07XG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuXG5cbkRlY2ltYWwxMjguZnJvbUV4dGVuZGVkSlNPTiA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgcmV0dXJuIERlY2ltYWwxMjguZnJvbVN0cmluZyhkb2MuJG51bWJlckRlY2ltYWwpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY2ltYWwxMjgucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ0RlY2ltYWwxMjgnXG59KTtcbnZhciBkZWNpbWFsMTI4ID0gRGVjaW1hbDEyODtcblxuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBCU09OIE1pbktleSB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayQ3KGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMkNyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyQ3KENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMkNyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDcoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBNaW5LZXkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgTWluS2V5IHR5cGVcbiAgICpcbiAgICogQHJldHVybiB7TWluS2V5fSBBIE1pbktleSBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gTWluS2V5KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQ3KHRoaXMsIE1pbktleSk7XG4gIH1cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MkNyhNaW5LZXksIFt7XG4gICAga2V5OiBcInRvRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRXh0ZW5kZWRKU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJG1pbktleTogMVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogXCJmcm9tRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21FeHRlbmRlZEpTT04oKSB7XG4gICAgICByZXR1cm4gbmV3IE1pbktleSgpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5LZXk7XG59KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNaW5LZXkucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ01pbktleSdcbn0pO1xudmFyIG1pbl9rZXkgPSBNaW5LZXk7XG5cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQlNPTiBNYXhLZXkgdHlwZS5cbiAqL1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skOChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDgodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkOChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDgoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ4KENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgTWF4S2V5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIE1heEtleSB0eXBlXG4gICAqXG4gICAqIEByZXR1cm4ge01heEtleX0gQSBNYXhLZXkgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIE1heEtleSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skOCh0aGlzLCBNYXhLZXkpO1xuICB9XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzJDgoTWF4S2V5LCBbe1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICRtYXhLZXk6IDFcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKCkge1xuICAgICAgcmV0dXJuIG5ldyBNYXhLZXkoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWF4S2V5O1xufSgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTWF4S2V5LnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdNYXhLZXknXG59KTtcbnZhciBtYXhfa2V5ID0gTWF4S2V5O1xuXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gREJSZWYgdHlwZS5cbiAqL1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skOShpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDkodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkOShDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDkoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ5KENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgREJSZWYgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgREJSZWYgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29sbGVjdGlvbiB0aGUgY29sbGVjdGlvbiBuYW1lLlxuICAgKiBAcGFyYW0ge09iamVjdElkfSBvaWQgdGhlIHJlZmVyZW5jZSBPYmplY3RJZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYl0gb3B0aW9uYWwgZGIgbmFtZSwgaWYgb21pdHRlZCB0aGUgcmVmZXJlbmNlIGlzIGxvY2FsIHRvIHRoZSBjdXJyZW50IGRiLlxuICAgKiBAcmV0dXJuIHtEQlJlZn1cbiAgICovXG4gIGZ1bmN0aW9uIERCUmVmKGNvbGxlY3Rpb24sIG9pZCwgZGIsIGZpZWxkcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayQ5KHRoaXMsIERCUmVmKTtcblxuICAgIC8vIGNoZWNrIGlmIG5hbWVzcGFjZSBoYXMgYmVlbiBwcm92aWRlZFxuICAgIHZhciBwYXJ0cyA9IGNvbGxlY3Rpb24uc3BsaXQoJy4nKTtcblxuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIGRiID0gcGFydHMuc2hpZnQoKTtcbiAgICAgIGNvbGxlY3Rpb24gPSBwYXJ0cy5zaGlmdCgpO1xuICAgIH1cblxuICAgIHRoaXMuY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgdGhpcy5vaWQgPSBvaWQ7XG4gICAgdGhpcy5kYiA9IGRiO1xuICAgIHRoaXMuZmllbGRzID0gZmllbGRzIHx8IHt9O1xuICB9XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQ5KERCUmVmLCBbe1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgdmFyIG8gPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgJHJlZjogdGhpcy5jb2xsZWN0aW9uLFxuICAgICAgICAkaWQ6IHRoaXMub2lkXG4gICAgICB9LCB0aGlzLmZpZWxkcyk7XG4gICAgICBpZiAodGhpcy5kYiAhPSBudWxsKSBvLiRkYiA9IHRoaXMuZGI7XG4gICAgICByZXR1cm4gbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9FeHRlbmRlZEpTT04oKSB7XG4gICAgICB2YXIgbyA9IHtcbiAgICAgICAgJHJlZjogdGhpcy5jb2xsZWN0aW9uLFxuICAgICAgICAkaWQ6IHRoaXMub2lkXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuZGIpIG8uJGRiID0gdGhpcy5kYjtcbiAgICAgIG8gPSBPYmplY3QuYXNzaWduKG8sIHRoaXMuZmllbGRzKTtcbiAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUV4dGVuZGVkSlNPTihkb2MpIHtcbiAgICAgIHZhciBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgZG9jKTtcbiAgICAgIFsnJHJlZicsICckaWQnLCAnJGRiJ10uZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gZGVsZXRlIGNvcHlba107XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgREJSZWYoZG9jLiRyZWYsIGRvYy4kaWQsIGRvYy4kZGIsIGNvcHkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEQlJlZjtcbn0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KERCUmVmLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdEQlJlZidcbn0pOyAvLyB0aGUgMS54IHBhcnNlciB1c2VkIGEgXCJuYW1lc3BhY2VcIiBwcm9wZXJ0eSwgd2hpbGUgNC54IHVzZXMgXCJjb2xsZWN0aW9uXCIuIFRvIGVuc3VyZSBiYWNrd2FyZHNcbi8vIGNvbXBhdGliaWxpdHksIGxldCdzIGV4cG9zZSBcIm5hbWVzcGFjZVwiXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEQlJlZi5wcm90b3R5cGUsICduYW1lc3BhY2UnLCB7XG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb247XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgIHRoaXMuY29sbGVjdGlvbiA9IHZhbDtcbiAgfSxcbiAgY29uZmlndXJhYmxlOiBmYWxzZVxufSk7XG52YXIgZGJfcmVmID0gREJSZWY7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayRhKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMkYSh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyRhKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMkYShDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJGEoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBCdWZmZXIkMyA9IGJ1ZmZlci5CdWZmZXI7XG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gQmluYXJ5IHR5cGUuXG4gKi9cblxudmFyIEJpbmFyeSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBCaW5hcnkgdHlwZVxuICAgKlxuICAgKiBTdWIgdHlwZXNcbiAgICogIC0gKipCU09OLkJTT05fQklOQVJZX1NVQlRZUEVfREVGQVVMVCoqLCBkZWZhdWx0IEJTT04gdHlwZS5cbiAgICogIC0gKipCU09OLkJTT05fQklOQVJZX1NVQlRZUEVfRlVOQ1RJT04qKiwgQlNPTiBmdW5jdGlvbiB0eXBlLlxuICAgKiAgLSAqKkJTT04uQlNPTl9CSU5BUllfU1VCVFlQRV9CWVRFX0FSUkFZKiosIEJTT04gYnl0ZSBhcnJheSB0eXBlLlxuICAgKiAgLSAqKkJTT04uQlNPTl9CSU5BUllfU1VCVFlQRV9VVUlEKiosIEJTT04gdXVpZCB0eXBlLlxuICAgKiAgLSAqKkJTT04uQlNPTl9CSU5BUllfU1VCVFlQRV9NRDUqKiwgQlNPTiBtZDUgdHlwZS5cbiAgICogIC0gKipCU09OLkJTT05fQklOQVJZX1NVQlRZUEVfVVNFUl9ERUZJTkVEKiosIEJTT04gdXNlciBkZWZpbmVkIHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgYSBidWZmZXIgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGJpbmFyeSBkYXRhLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW3N1YlR5cGVdIHRoZSBvcHRpb24gYmluYXJ5IHR5cGUuXG4gICAqIEByZXR1cm4ge0JpbmFyeX1cbiAgICovXG4gIGZ1bmN0aW9uIEJpbmFyeShidWZmZXIkJDEsIHN1YlR5cGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skYSh0aGlzLCBCaW5hcnkpO1xuXG4gICAgaWYgKGJ1ZmZlciQkMSAhPSBudWxsICYmICEodHlwZW9mIGJ1ZmZlciQkMSA9PT0gJ3N0cmluZycpICYmICFCdWZmZXIkMy5pc0J1ZmZlcihidWZmZXIkJDEpICYmICEoYnVmZmVyJCQxIGluc3RhbmNlb2YgVWludDhBcnJheSkgJiYgIUFycmF5LmlzQXJyYXkoYnVmZmVyJCQxKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb25seSBTdHJpbmcsIEJ1ZmZlciwgVWludDhBcnJheSBvciBBcnJheSBhY2NlcHRlZCcpO1xuICAgIH1cblxuICAgIHRoaXMuc3ViX3R5cGUgPSBzdWJUeXBlID09IG51bGwgPyBCU09OX0JJTkFSWV9TVUJUWVBFX0RFRkFVTFQgOiBzdWJUeXBlO1xuICAgIHRoaXMucG9zaXRpb24gPSAwO1xuXG4gICAgaWYgKGJ1ZmZlciQkMSAhPSBudWxsICYmICEoYnVmZmVyJCQxIGluc3RhbmNlb2YgTnVtYmVyKSkge1xuICAgICAgLy8gT25seSBhY2NlcHQgQnVmZmVyLCBVaW50OEFycmF5IG9yIEFycmF5c1xuICAgICAgaWYgKHR5cGVvZiBidWZmZXIkJDEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIERpZmZlcmVudCB3YXlzIG9mIHdyaXRpbmcgdGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nIGZvciB0aGUgZGlmZmVyZW50IHR5cGVzXG4gICAgICAgIGlmICh0eXBlb2YgQnVmZmVyJDMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy5idWZmZXIgPSBCdWZmZXIkMy5mcm9tKGJ1ZmZlciQkMSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnIHx8IEFycmF5LmlzQXJyYXkoYnVmZmVyJCQxKSkge1xuICAgICAgICAgIHRoaXMuYnVmZmVyID0gd3JpdGVTdHJpbmdUb0FycmF5KGJ1ZmZlciQkMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb25seSBTdHJpbmcsIEJ1ZmZlciwgVWludDhBcnJheSBvciBBcnJheSBhY2NlcHRlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlciQkMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wb3NpdGlvbiA9IGJ1ZmZlciQkMS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgQnVmZmVyJDMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gQnVmZmVyJDMuYWxsb2MoQmluYXJ5LkJVRkZFUl9TSVpFKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKEJpbmFyeS5CVUZGRVJfU0laRSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgQXJyYXkoQmluYXJ5LkJVRkZFUl9TSVpFKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBiaW5hcnkgd2l0aCBieXRlX3ZhbHVlLlxuICAgKlxuICAgKiBAbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBieXRlX3ZhbHVlIGEgc2luZ2xlIGJ5dGUgd2Ugd2lzaCB0byB3cml0ZS5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MkYShCaW5hcnksIFt7XG4gICAga2V5OiBcInB1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXQoYnl0ZV92YWx1ZSkge1xuICAgICAgLy8gSWYgaXQncyBhIHN0cmluZyBhbmQgYSBoYXMgbW9yZSB0aGFuIG9uZSBjaGFyYWN0ZXIgdGhyb3cgYW4gZXJyb3JcbiAgICAgIGlmIChieXRlX3ZhbHVlWydsZW5ndGgnXSAhPSBudWxsICYmIHR5cGVvZiBieXRlX3ZhbHVlICE9PSAnbnVtYmVyJyAmJiBieXRlX3ZhbHVlLmxlbmd0aCAhPT0gMSkgdGhyb3cgbmV3IFR5cGVFcnJvcignb25seSBhY2NlcHRzIHNpbmdsZSBjaGFyYWN0ZXIgU3RyaW5nLCBVaW50OEFycmF5IG9yIEFycmF5Jyk7XG4gICAgICBpZiAodHlwZW9mIGJ5dGVfdmFsdWUgIT09ICdudW1iZXInICYmIGJ5dGVfdmFsdWUgPCAwIHx8IGJ5dGVfdmFsdWUgPiAyNTUpIHRocm93IG5ldyBUeXBlRXJyb3IoJ29ubHkgYWNjZXB0cyBudW1iZXIgaW4gYSB2YWxpZCB1bnNpZ25lZCBieXRlIHJhbmdlIDAtMjU1Jyk7IC8vIERlY29kZSB0aGUgYnl0ZSB2YWx1ZSBvbmNlXG5cbiAgICAgIHZhciBkZWNvZGVkX2J5dGUgPSBudWxsO1xuXG4gICAgICBpZiAodHlwZW9mIGJ5dGVfdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRlY29kZWRfYnl0ZSA9IGJ5dGVfdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgICAgIH0gZWxzZSBpZiAoYnl0ZV92YWx1ZVsnbGVuZ3RoJ10gIT0gbnVsbCkge1xuICAgICAgICBkZWNvZGVkX2J5dGUgPSBieXRlX3ZhbHVlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVjb2RlZF9ieXRlID0gYnl0ZV92YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IHRoaXMucG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IGRlY29kZWRfYnl0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgQnVmZmVyJDMgIT09ICd1bmRlZmluZWQnICYmIEJ1ZmZlciQzLmlzQnVmZmVyKHRoaXMuYnVmZmVyKSkge1xuICAgICAgICAgIC8vIENyZWF0ZSBhZGRpdGlvbmFsIG92ZXJmbG93IGJ1ZmZlclxuICAgICAgICAgIHZhciBidWZmZXIkJDEgPSBCdWZmZXIkMy5hbGxvYyhCaW5hcnkuQlVGRkVSX1NJWkUgKyB0aGlzLmJ1ZmZlci5sZW5ndGgpOyAvLyBDb21iaW5lIHRoZSB0d28gYnVmZmVycyB0b2dldGhlclxuXG4gICAgICAgICAgdGhpcy5idWZmZXIuY29weShidWZmZXIkJDEsIDAsIDAsIHRoaXMuYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXIkJDE7XG4gICAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IGRlY29kZWRfYnl0ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX2J1ZmZlciA9IG51bGw7IC8vIENyZWF0ZSBhIG5ldyBidWZmZXIgKHR5cGVkIG9yIG5vcm1hbCBhcnJheSlcblxuICAgICAgICAgIGlmIChpc1VpbnQ4QXJyYXkodGhpcy5idWZmZXIpKSB7XG4gICAgICAgICAgICBfYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKEJpbmFyeS5CVUZGRVJfU0laRSArIHRoaXMuYnVmZmVyLmxlbmd0aCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfYnVmZmVyID0gbmV3IEFycmF5KEJpbmFyeS5CVUZGRVJfU0laRSArIHRoaXMuYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgICAgfSAvLyBXZSBuZWVkIHRvIGNvcHkgYWxsIHRoZSBjb250ZW50IHRvIHRoZSBuZXcgYXJyYXlcblxuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgX2J1ZmZlcltpXSA9IHRoaXMuYnVmZmVyW2ldO1xuICAgICAgICAgIH0gLy8gUmVhc3NpZ24gdGhlIGJ1ZmZlclxuXG5cbiAgICAgICAgICB0aGlzLmJ1ZmZlciA9IF9idWZmZXI7IC8vIFdyaXRlIHRoZSBieXRlXG5cbiAgICAgICAgICB0aGlzLmJ1ZmZlclt0aGlzLnBvc2l0aW9uKytdID0gZGVjb2RlZF9ieXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIGJ1ZmZlciBvciBzdHJpbmcgdG8gdGhlIGJpbmFyeS5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0geyhCdWZmZXJ8c3RyaW5nKX0gc3RyaW5nIGEgc3RyaW5nIG9yIGJ1ZmZlciB0byBiZSB3cml0dGVuIHRvIHRoZSBCaW5hcnkgQlNPTiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBzcGVjaWZ5IHRoZSBiaW5hcnkgb2Ygd2hlcmUgdG8gd3JpdGUgdGhlIGNvbnRlbnQuXG4gICAgICogQHJldHVybiB7bnVsbH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndyaXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlKHN0cmluZywgb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSB0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJyA/IG9mZnNldCA6IHRoaXMucG9zaXRpb247IC8vIElmIHRoZSBidWZmZXIgaXMgdG8gc21hbGwgbGV0J3MgZXh0ZW5kIHRoZSBidWZmZXJcblxuICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA8IG9mZnNldCArIHN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciQkMSA9IG51bGw7IC8vIElmIHdlIGFyZSBpbiBub2RlLmpzXG5cbiAgICAgICAgaWYgKHR5cGVvZiBCdWZmZXIkMyAhPT0gJ3VuZGVmaW5lZCcgJiYgQnVmZmVyJDMuaXNCdWZmZXIodGhpcy5idWZmZXIpKSB7XG4gICAgICAgICAgYnVmZmVyJCQxID0gQnVmZmVyJDMuYWxsb2ModGhpcy5idWZmZXIubGVuZ3RoICsgc3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgdGhpcy5idWZmZXIuY29weShidWZmZXIkJDEsIDAsIDAsIHRoaXMuYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNVaW50OEFycmF5KHRoaXMuYnVmZmVyKSkge1xuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBidWZmZXJcbiAgICAgICAgICBidWZmZXIkJDEgPSBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIodGhpcy5idWZmZXIubGVuZ3RoICsgc3RyaW5nLmxlbmd0aCkpOyAvLyBDb3B5IHRoZSBjb250ZW50XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9zaXRpb247IGkrKykge1xuICAgICAgICAgICAgYnVmZmVyJCQxW2ldID0gdGhpcy5idWZmZXJbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIEFzc2lnbiB0aGUgbmV3IGJ1ZmZlclxuXG5cbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXIkJDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgQnVmZmVyJDMgIT09ICd1bmRlZmluZWQnICYmIEJ1ZmZlciQzLmlzQnVmZmVyKHN0cmluZykgJiYgQnVmZmVyJDMuaXNCdWZmZXIodGhpcy5idWZmZXIpKSB7XG4gICAgICAgIHN0cmluZy5jb3B5KHRoaXMuYnVmZmVyLCBvZmZzZXQsIDAsIHN0cmluZy5sZW5ndGgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gb2Zmc2V0ICsgc3RyaW5nLmxlbmd0aCA+IHRoaXMucG9zaXRpb24gPyBvZmZzZXQgKyBzdHJpbmcubGVuZ3RoIDogdGhpcy5wb3NpdGlvbjsgLy8gb2Zmc2V0ID0gc3RyaW5nLmxlbmd0aFxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgQnVmZmVyJDMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIEJ1ZmZlciQzLmlzQnVmZmVyKHRoaXMuYnVmZmVyKSkge1xuICAgICAgICB0aGlzLmJ1ZmZlci53cml0ZShzdHJpbmcsIG9mZnNldCwgJ2JpbmFyeScpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gb2Zmc2V0ICsgc3RyaW5nLmxlbmd0aCA+IHRoaXMucG9zaXRpb24gPyBvZmZzZXQgKyBzdHJpbmcubGVuZ3RoIDogdGhpcy5wb3NpdGlvbjsgLy8gb2Zmc2V0ID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAoaXNVaW50OEFycmF5KHN0cmluZykgfHwgQXJyYXkuaXNBcnJheShzdHJpbmcpICYmIHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzdHJpbmcubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdGhpcy5idWZmZXJbb2Zmc2V0KytdID0gc3RyaW5nW19pXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBvZmZzZXQgPiB0aGlzLnBvc2l0aW9uID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgc3RyaW5nLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICB0aGlzLmJ1ZmZlcltvZmZzZXQrK10gPSBzdHJpbmcuY2hhckNvZGVBdChfaTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9mZnNldCA+IHRoaXMucG9zaXRpb24gPyBvZmZzZXQgOiB0aGlzLnBvc2l0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyAqKmxlbmd0aCoqIGJ5dGVzIHN0YXJ0aW5nIGF0ICoqcG9zaXRpb24qKi5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb24gcmVhZCBmcm9tIHRoZSBnaXZlbiBwb3NpdGlvbiBpbiB0aGUgQmluYXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggdGhlIG51bWJlciBvZiBieXRlcyB0byByZWFkLlxuICAgICAqIEByZXR1cm4ge0J1ZmZlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZChwb3NpdGlvbiwgbGVuZ3RoKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggJiYgbGVuZ3RoID4gMCA/IGxlbmd0aCA6IHRoaXMucG9zaXRpb247IC8vIExldCdzIHJldHVybiB0aGUgZGF0YSBiYXNlZCBvbiB0aGUgdHlwZSB3ZSBoYXZlXG5cbiAgICAgIGlmICh0aGlzLmJ1ZmZlclsnc2xpY2UnXSkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgbGVuZ3RoKTtcbiAgICAgIH0gLy8gQ3JlYXRlIGEgYnVmZmVyIHRvIGtlZXAgdGhlIHJlc3VsdFxuXG5cbiAgICAgIHZhciBidWZmZXIkJDEgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSkgOiBuZXcgQXJyYXkobGVuZ3RoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBidWZmZXIkJDFbaV0gPSB0aGlzLmJ1ZmZlcltwb3NpdGlvbisrXTtcbiAgICAgIH0gLy8gUmV0dXJuIHRoZSBidWZmZXJcblxuXG4gICAgICByZXR1cm4gYnVmZmVyJCQxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGlzIGJpbmFyeSBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShhc1Jhdykge1xuICAgICAgYXNSYXcgPSBhc1JhdyA9PSBudWxsID8gZmFsc2UgOiBhc1JhdzsgLy8gT3B0aW1pemUgdG8gc2VyaWFsaXplIGZvciB0aGUgc2l0dWF0aW9uIHdoZXJlIHRoZSBkYXRhID09IHNpemUgb2YgYnVmZmVyXG5cbiAgICAgIGlmIChhc1JhdyAmJiB0eXBlb2YgQnVmZmVyJDMgIT09ICd1bmRlZmluZWQnICYmIEJ1ZmZlciQzLmlzQnVmZmVyKHRoaXMuYnVmZmVyKSAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IHRoaXMucG9zaXRpb24pIHJldHVybiB0aGlzLmJ1ZmZlcjsgLy8gSWYgaXQncyBhIG5vZGUuanMgYnVmZmVyIG9iamVjdFxuXG4gICAgICBpZiAodHlwZW9mIEJ1ZmZlciQzICE9PSAndW5kZWZpbmVkJyAmJiBCdWZmZXIkMy5pc0J1ZmZlcih0aGlzLmJ1ZmZlcikpIHtcbiAgICAgICAgcmV0dXJuIGFzUmF3ID8gdGhpcy5idWZmZXIuc2xpY2UoMCwgdGhpcy5wb3NpdGlvbikgOiB0aGlzLmJ1ZmZlci50b1N0cmluZygnYmluYXJ5JywgMCwgdGhpcy5wb3NpdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXNSYXcpIHtcbiAgICAgICAgICAvLyB3ZSBzdXBwb3J0IHRoZSBzbGljZSBjb21tYW5kIHVzZSBpdFxuICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlclsnc2xpY2UnXSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UoMCwgdGhpcy5wb3NpdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBidWZmZXIgdG8gY29weSBjb250ZW50IHRvXG4gICAgICAgICAgICB2YXIgbmV3QnVmZmVyID0gaXNVaW50OEFycmF5KHRoaXMuYnVmZmVyKSA/IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0aGlzLnBvc2l0aW9uKSkgOiBuZXcgQXJyYXkodGhpcy5wb3NpdGlvbik7IC8vIENvcHkgY29udGVudFxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9zaXRpb247IGkrKykge1xuICAgICAgICAgICAgICBuZXdCdWZmZXJbaV0gPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICAgICAgICAgIH0gLy8gUmV0dXJuIHRoZSBidWZmZXJcblxuXG4gICAgICAgICAgICByZXR1cm4gbmV3QnVmZmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY29udmVydEFycmF5dG9VdGY4QmluYXJ5U3RyaW5nKHRoaXMuYnVmZmVyLCAwLCB0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMZW5ndGguXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgbGVuZ3RoIG9mIHRoZSBiaW5hcnkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsZW5ndGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVuZ3RoKCkge1xuICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4gdGhpcy5idWZmZXIgIT0gbnVsbCA/IHRoaXMuYnVmZmVyLnRvU3RyaW5nKCdiYXNlNjQnKSA6ICcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZyhmb3JtYXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciAhPSBudWxsID8gdGhpcy5idWZmZXIuc2xpY2UoMCwgdGhpcy5wb3NpdGlvbikudG9TdHJpbmcoZm9ybWF0KSA6ICcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTigpIHtcbiAgICAgIHZhciBiYXNlNjRTdHJpbmcgPSBCdWZmZXIkMy5pc0J1ZmZlcih0aGlzLmJ1ZmZlcikgPyB0aGlzLmJ1ZmZlci50b1N0cmluZygnYmFzZTY0JykgOiBCdWZmZXIkMy5mcm9tKHRoaXMuYnVmZmVyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICB2YXIgc3ViVHlwZSA9IE51bWJlcih0aGlzLnN1Yl90eXBlKS50b1N0cmluZygxNik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkYmluYXJ5OiB7XG4gICAgICAgICAgYmFzZTY0OiBiYXNlNjRTdHJpbmcsXG4gICAgICAgICAgc3ViVHlwZTogc3ViVHlwZS5sZW5ndGggPT09IDEgPyAnMCcgKyBzdWJUeXBlIDogc3ViVHlwZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUV4dGVuZGVkSlNPTihkb2MpIHtcbiAgICAgIHZhciB0eXBlID0gZG9jLiRiaW5hcnkuc3ViVHlwZSA/IHBhcnNlSW50KGRvYy4kYmluYXJ5LnN1YlR5cGUsIDE2KSA6IDA7XG4gICAgICB2YXIgZGF0YSA9IEJ1ZmZlciQzLmZyb20oZG9jLiRiaW5hcnkuYmFzZTY0LCAnYmFzZTY0Jyk7XG4gICAgICByZXR1cm4gbmV3IEJpbmFyeShkYXRhLCB0eXBlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQmluYXJ5O1xufSgpO1xuLyoqXG4gKiBCaW5hcnkgZGVmYXVsdCBzdWJ0eXBlXG4gKiBAaWdub3JlXG4gKi9cblxuXG52YXIgQlNPTl9CSU5BUllfU1VCVFlQRV9ERUZBVUxUID0gMDtcblxuZnVuY3Rpb24gaXNVaW50OEFycmF5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFVpbnQ4QXJyYXldJztcbn1cbi8qKlxuICogQGlnbm9yZVxuICovXG5cblxuZnVuY3Rpb24gd3JpdGVTdHJpbmdUb0FycmF5KGRhdGEpIHtcbiAgLy8gQ3JlYXRlIGEgYnVmZmVyXG4gIHZhciBidWZmZXIkJDEgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoZGF0YS5sZW5ndGgpKSA6IG5ldyBBcnJheShkYXRhLmxlbmd0aCk7IC8vIFdyaXRlIHRoZSBjb250ZW50IHRvIHRoZSBidWZmZXJcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBidWZmZXIkJDFbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gIH0gLy8gV3JpdGUgdGhlIHN0cmluZyB0byB0aGUgYnVmZmVyXG5cblxuICByZXR1cm4gYnVmZmVyJCQxO1xufVxuLyoqXG4gKiBDb252ZXJ0IEFycmF5IG90IFVpbnQ4QXJyYXkgdG8gQmluYXJ5IFN0cmluZ1xuICpcbiAqIEBpZ25vcmVcbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbnZlcnRBcnJheXRvVXRmOEJpbmFyeVN0cmluZyhieXRlQXJyYXksIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICByZXN1bHQgPSByZXN1bHQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVBcnJheVtpXSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5CaW5hcnkuQlVGRkVSX1NJWkUgPSAyNTY7XG4vKipcbiAqIERlZmF1bHQgQlNPTiB0eXBlXG4gKlxuICogQGNsYXNzY29uc3RhbnQgU1VCVFlQRV9ERUZBVUxUXG4gKiovXG5cbkJpbmFyeS5TVUJUWVBFX0RFRkFVTFQgPSAwO1xuLyoqXG4gKiBGdW5jdGlvbiBCU09OIHR5cGVcbiAqXG4gKiBAY2xhc3Njb25zdGFudCBTVUJUWVBFX0RFRkFVTFRcbiAqKi9cblxuQmluYXJ5LlNVQlRZUEVfRlVOQ1RJT04gPSAxO1xuLyoqXG4gKiBCeXRlIEFycmF5IEJTT04gdHlwZVxuICpcbiAqIEBjbGFzc2NvbnN0YW50IFNVQlRZUEVfREVGQVVMVFxuICoqL1xuXG5CaW5hcnkuU1VCVFlQRV9CWVRFX0FSUkFZID0gMjtcbi8qKlxuICogT0xEIFVVSUQgQlNPTiB0eXBlXG4gKlxuICogQGNsYXNzY29uc3RhbnQgU1VCVFlQRV9ERUZBVUxUXG4gKiovXG5cbkJpbmFyeS5TVUJUWVBFX1VVSURfT0xEID0gMztcbi8qKlxuICogVVVJRCBCU09OIHR5cGVcbiAqXG4gKiBAY2xhc3Njb25zdGFudCBTVUJUWVBFX0RFRkFVTFRcbiAqKi9cblxuQmluYXJ5LlNVQlRZUEVfVVVJRCA9IDQ7XG4vKipcbiAqIE1ENSBCU09OIHR5cGVcbiAqXG4gKiBAY2xhc3Njb25zdGFudCBTVUJUWVBFX0RFRkFVTFRcbiAqKi9cblxuQmluYXJ5LlNVQlRZUEVfTUQ1ID0gNTtcbi8qKlxuICogVXNlciBCU09OIHR5cGVcbiAqXG4gKiBAY2xhc3Njb25zdGFudCBTVUJUWVBFX0RFRkFVTFRcbiAqKi9cblxuQmluYXJ5LlNVQlRZUEVfVVNFUl9ERUZJTkVEID0gMTI4O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpbmFyeS5wcm90b3R5cGUsICdfYnNvbnR5cGUnLCB7XG4gIHZhbHVlOiAnQmluYXJ5J1xufSk7XG52YXIgYmluYXJ5ID0gQmluYXJ5O1xuXG52YXIgY29uc3RhbnRzID0ge1xuICAvLyBCU09OIE1BWCBWQUxVRVNcbiAgQlNPTl9JTlQzMl9NQVg6IDB4N2ZmZmZmZmYsXG4gIEJTT05fSU5UMzJfTUlOOiAtMHg4MDAwMDAwMCxcbiAgQlNPTl9JTlQ2NF9NQVg6IE1hdGgucG93KDIsIDYzKSAtIDEsXG4gIEJTT05fSU5UNjRfTUlOOiAtTWF0aC5wb3coMiwgNjMpLFxuICAvLyBKUyBNQVggUFJFQ0lTRSBWQUxVRVNcbiAgSlNfSU5UX01BWDogMHgyMDAwMDAwMDAwMDAwMCxcbiAgLy8gQW55IGludGVnZXIgdXAgdG8gMl41MyBjYW4gYmUgcHJlY2lzZWx5IHJlcHJlc2VudGVkIGJ5IGEgZG91YmxlLlxuICBKU19JTlRfTUlOOiAtMHgyMDAwMDAwMDAwMDAwMCxcbiAgLy8gQW55IGludGVnZXIgZG93biB0byAtMl41MyBjYW4gYmUgcHJlY2lzZWx5IHJlcHJlc2VudGVkIGJ5IGEgZG91YmxlLlxuXG4gIC8qKlxuICAgKiBOdW1iZXIgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9OVU1CRVJcbiAgICoqL1xuICBCU09OX0RBVEFfTlVNQkVSOiAxLFxuXG4gIC8qKlxuICAgKiBTdHJpbmcgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9TVFJJTkdcbiAgICoqL1xuICBCU09OX0RBVEFfU1RSSU5HOiAyLFxuXG4gIC8qKlxuICAgKiBPYmplY3QgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9PQkpFQ1RcbiAgICoqL1xuICBCU09OX0RBVEFfT0JKRUNUOiAzLFxuXG4gIC8qKlxuICAgKiBBcnJheSBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX0FSUkFZXG4gICAqKi9cbiAgQlNPTl9EQVRBX0FSUkFZOiA0LFxuXG4gIC8qKlxuICAgKiBCaW5hcnkgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9CSU5BUllcbiAgICoqL1xuICBCU09OX0RBVEFfQklOQVJZOiA1LFxuXG4gIC8qKlxuICAgKiBCaW5hcnkgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9VTkRFRklORURcbiAgICoqL1xuICBCU09OX0RBVEFfVU5ERUZJTkVEOiA2LFxuXG4gIC8qKlxuICAgKiBPYmplY3RJZCBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX09JRFxuICAgKiovXG4gIEJTT05fREFUQV9PSUQ6IDcsXG5cbiAgLyoqXG4gICAqIEJvb2xlYW4gQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9CT09MRUFOXG4gICAqKi9cbiAgQlNPTl9EQVRBX0JPT0xFQU46IDgsXG5cbiAgLyoqXG4gICAqIERhdGUgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9EQVRFXG4gICAqKi9cbiAgQlNPTl9EQVRBX0RBVEU6IDksXG5cbiAgLyoqXG4gICAqIG51bGwgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9OVUxMXG4gICAqKi9cbiAgQlNPTl9EQVRBX05VTEw6IDEwLFxuXG4gIC8qKlxuICAgKiBSZWdFeHAgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9SRUdFWFBcbiAgICoqL1xuICBCU09OX0RBVEFfUkVHRVhQOiAxMSxcblxuICAvKipcbiAgICogQ29kZSBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX0RCUE9JTlRFUlxuICAgKiovXG4gIEJTT05fREFUQV9EQlBPSU5URVI6IDEyLFxuXG4gIC8qKlxuICAgKiBDb2RlIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfQ09ERVxuICAgKiovXG4gIEJTT05fREFUQV9DT0RFOiAxMyxcblxuICAvKipcbiAgICogU3ltYm9sIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfU1lNQk9MXG4gICAqKi9cbiAgQlNPTl9EQVRBX1NZTUJPTDogMTQsXG5cbiAgLyoqXG4gICAqIENvZGUgd2l0aCBTY29wZSBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX0NPREVfV19TQ09QRVxuICAgKiovXG4gIEJTT05fREFUQV9DT0RFX1dfU0NPUEU6IDE1LFxuXG4gIC8qKlxuICAgKiAzMiBiaXQgSW50ZWdlciBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX0lOVFxuICAgKiovXG4gIEJTT05fREFUQV9JTlQ6IDE2LFxuXG4gIC8qKlxuICAgKiBUaW1lc3RhbXAgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9USU1FU1RBTVBcbiAgICoqL1xuICBCU09OX0RBVEFfVElNRVNUQU1QOiAxNyxcblxuICAvKipcbiAgICogTG9uZyBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX0xPTkdcbiAgICoqL1xuICBCU09OX0RBVEFfTE9ORzogMTgsXG5cbiAgLyoqXG4gICAqIExvbmcgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9ERUNJTUFMMTI4XG4gICAqKi9cbiAgQlNPTl9EQVRBX0RFQ0lNQUwxMjg6IDE5LFxuXG4gIC8qKlxuICAgKiBNaW5LZXkgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9NSU5fS0VZXG4gICAqKi9cbiAgQlNPTl9EQVRBX01JTl9LRVk6IDB4ZmYsXG5cbiAgLyoqXG4gICAqIE1heEtleSBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX01BWF9LRVlcbiAgICoqL1xuICBCU09OX0RBVEFfTUFYX0tFWTogMHg3ZixcblxuICAvKipcbiAgICogQmluYXJ5IERlZmF1bHQgVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0JJTkFSWV9TVUJUWVBFX0RFRkFVTFRcbiAgICoqL1xuICBCU09OX0JJTkFSWV9TVUJUWVBFX0RFRkFVTFQ6IDAsXG5cbiAgLyoqXG4gICAqIEJpbmFyeSBGdW5jdGlvbiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fQklOQVJZX1NVQlRZUEVfRlVOQ1RJT05cbiAgICoqL1xuICBCU09OX0JJTkFSWV9TVUJUWVBFX0ZVTkNUSU9OOiAxLFxuXG4gIC8qKlxuICAgKiBCaW5hcnkgQnl0ZSBBcnJheSBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWVxuICAgKiovXG4gIEJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWTogMixcblxuICAvKipcbiAgICogQmluYXJ5IFVVSUQgVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0JJTkFSWV9TVUJUWVBFX1VVSURcbiAgICoqL1xuICBCU09OX0JJTkFSWV9TVUJUWVBFX1VVSUQ6IDMsXG5cbiAgLyoqXG4gICAqIEJpbmFyeSBNRDUgVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0JJTkFSWV9TVUJUWVBFX01ENVxuICAgKiovXG4gIEJTT05fQklOQVJZX1NVQlRZUEVfTUQ1OiA0LFxuXG4gIC8qKlxuICAgKiBCaW5hcnkgVXNlciBEZWZpbmVkIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9CSU5BUllfU1VCVFlQRV9VU0VSX0RFRklORURcbiAgICoqL1xuICBCU09OX0JJTkFSWV9TVUJUWVBFX1VTRVJfREVGSU5FRDogMTI4XG59O1xuXG5mdW5jdGlvbiBfdHlwZW9mJDIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mJDIgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiQyID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2YkMihvYmopOyB9XG4vLyBjb25zdCBNYXAgPSByZXF1aXJlKCcuL21hcCcpO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgRUpTT05cbiAqL1xuLy8gYWxsIHRoZSB0eXBlcyB3aGVyZSB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueSBzcGVjaWFsIHByb2Nlc3NpbmcgYW5kIGNhbiBqdXN0IHBhc3MgdGhlIEVKU09OXG4vL3N0cmFpZ2h0IHRvIHR5cGUuZnJvbUV4dGVuZGVkSlNPTlxuXG5cbnZhciBrZXlzVG9Db2RlY3MgPSB7XG4gICRvaWQ6IG9iamVjdGlkLFxuICAkYmluYXJ5OiBiaW5hcnksXG4gICRzeW1ib2w6IHN5bWJvbCxcbiAgJG51bWJlckludDogaW50XzMyLFxuICAkbnVtYmVyRGVjaW1hbDogZGVjaW1hbDEyOCxcbiAgJG51bWJlckRvdWJsZTogZG91YmxlXzEsXG4gICRudW1iZXJMb25nOiBsb25nXzEsXG4gICRtaW5LZXk6IG1pbl9rZXksXG4gICRtYXhLZXk6IG1heF9rZXksXG4gICRyZWd1bGFyRXhwcmVzc2lvbjogcmVnZXhwLFxuICAkdGltZXN0YW1wOiB0aW1lc3RhbXBcbn07XG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplVmFsdWUoc2VsZiwga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIGlmIChvcHRpb25zLnJlbGF4ZWQpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IC8vIGlmIGl0J3MgYW4gaW50ZWdlciwgc2hvdWxkIGludGVycHJldCBhcyBzbWFsbGVzdCBCU09OIGludGVnZXJcbiAgICAvLyB0aGF0IGNhbiByZXByZXNlbnQgaXQgZXhhY3RseS4gKGlmIG91dCBvZiByYW5nZSwgaW50ZXJwcmV0IGFzIGRvdWJsZS4pXG5cblxuICAgIGlmIChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA+PSBCU09OX0lOVDMyX01JTiAmJiB2YWx1ZSA8PSBCU09OX0lOVDMyX01BWCkgcmV0dXJuIG5ldyBpbnRfMzIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID49IEJTT05fSU5UNjRfTUlOICYmIHZhbHVlIDw9IEJTT05fSU5UNjRfTUFYKSByZXR1cm4gbmV3IGxvbmdfMS5mcm9tTnVtYmVyKHZhbHVlKTtcbiAgICB9IC8vIElmIHRoZSBudW1iZXIgaXMgYSBub24taW50ZWdlciBvciBvdXQgb2YgaW50ZWdlciByYW5nZSwgc2hvdWxkIGludGVycHJldCBhcyBCU09OIERvdWJsZS5cblxuXG4gICAgcmV0dXJuIG5ldyBkb3VibGVfMSh2YWx1ZSk7XG4gIH0gLy8gZnJvbSBoZXJlIG9uIG91dCB3ZSdyZSBsb29raW5nIGZvciBic29uIHR5cGVzLCBzbyBiYWlsIGlmIGl0cyBub3QgYW4gb2JqZWN0XG5cblxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBfdHlwZW9mJDIodmFsdWUpICE9PSAnb2JqZWN0JykgcmV0dXJuIHZhbHVlOyAvLyB1cGdyYWRlIGRlcHJlY2F0ZWQgdW5kZWZpbmVkIHRvIG51bGxcblxuICBpZiAodmFsdWUuJHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBrLnN0YXJ0c1dpdGgoJyQnKSAmJiB2YWx1ZVtrXSAhPSBudWxsO1xuICB9KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IGtleXNUb0NvZGVjc1trZXlzW2ldXTtcbiAgICBpZiAoYykgcmV0dXJuIGMuZnJvbUV4dGVuZGVkSlNPTih2YWx1ZSwgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAodmFsdWUuJGRhdGUgIT0gbnVsbCkge1xuICAgIHZhciBkID0gdmFsdWUuJGRhdGU7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGlmICh0eXBlb2YgZCA9PT0gJ3N0cmluZycpIGRhdGUuc2V0VGltZShEYXRlLnBhcnNlKGQpKTtlbHNlIGlmIChsb25nXzEuaXNMb25nKGQpKSBkYXRlLnNldFRpbWUoZC50b051bWJlcigpKTtlbHNlIGlmICh0eXBlb2YgZCA9PT0gJ251bWJlcicgJiYgb3B0aW9ucy5yZWxheGVkKSBkYXRlLnNldFRpbWUoZCk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cblxuICBpZiAodmFsdWUuJGNvZGUgIT0gbnVsbCkge1xuICAgIHZhciBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgdmFsdWUpO1xuXG4gICAgaWYgKHZhbHVlLiRzY29wZSkge1xuICAgICAgY29weS4kc2NvcGUgPSBkZXNlcmlhbGl6ZVZhbHVlKHNlbGYsIG51bGwsIHZhbHVlLiRzY29wZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvZGUuZnJvbUV4dGVuZGVkSlNPTih2YWx1ZSk7XG4gIH1cblxuICBpZiAodmFsdWUuJHJlZiAhPSBudWxsIHx8IHZhbHVlLiRkYlBvaW50ZXIgIT0gbnVsbCkge1xuICAgIHZhciB2ID0gdmFsdWUuJHJlZiA/IHZhbHVlIDogdmFsdWUuJGRiUG9pbnRlcjsgLy8gd2UgcnVuIGludG8gdGhpcyBpbiBhIFwiZGVnZW5lcmF0ZSBFSlNPTlwiIGNhc2UgKHdpdGggJGlkIGFuZCAkcmVmIG9yZGVyIGZsaXBwZWQpXG4gICAgLy8gYmVjYXVzZSBvZiB0aGUgb3JkZXIgSlNPTi5wYXJzZSBnb2VzIHRocm91Z2ggdGhlIGRvY3VtZW50XG5cbiAgICBpZiAodiBpbnN0YW5jZW9mIGRiX3JlZikgcmV0dXJuIHY7XG4gICAgdmFyIGRvbGxhcktleXMgPSBPYmplY3Qua2V5cyh2KS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgIHJldHVybiBrLnN0YXJ0c1dpdGgoJyQnKTtcbiAgICB9KTtcbiAgICB2YXIgdmFsaWQgPSB0cnVlO1xuICAgIGRvbGxhcktleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKFsnJHJlZicsICckaWQnLCAnJGRiJ10uaW5kZXhPZihrKSA9PT0gLTEpIHZhbGlkID0gZmFsc2U7XG4gICAgfSk7IC8vIG9ubHkgbWFrZSBEQlJlZiBpZiAkIGtleXMgYXJlIGFsbCB2YWxpZFxuXG4gICAgaWYgKHZhbGlkKSByZXR1cm4gZGJfcmVmLmZyb21FeHRlbmRlZEpTT04odik7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFBhcnNlIGFuIEV4dGVuZGVkIEpTT04gc3RyaW5nLCBjb25zdHJ1Y3RpbmcgdGhlIEphdmFTY3JpcHQgdmFsdWUgb3Igb2JqZWN0IGRlc2NyaWJlZCBieSB0aGF0XG4gKiBzdHJpbmcuXG4gKlxuICogQG1lbWJlcm9mIEVKU09OXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBzZXR0aW5nc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZWxheGVkPXRydWVdIEF0dGVtcHQgdG8gcmV0dXJuIG5hdGl2ZSBKUyB0eXBlcyB3aGVyZSBwb3NzaWJsZSwgcmF0aGVyIHRoYW4gQlNPTiB0eXBlcyAoaWYgdHJ1ZSlcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgeyBFSlNPTiB9ID0gcmVxdWlyZSgnYnNvbicpO1xuICogY29uc3QgdGV4dCA9ICd7IFwiaW50MzJcIjogeyBcIiRudW1iZXJJbnRcIjogXCIxMFwiIH0gfSc7XG4gKlxuICogLy8gcHJpbnRzIHsgaW50MzI6IHsgW1N0cmluZzogJzEwJ10gX2Jzb250eXBlOiAnSW50MzInLCB2YWx1ZTogJzEwJyB9IH1cbiAqIGNvbnNvbGUubG9nKEVKU09OLnBhcnNlKHRleHQsIHsgcmVsYXhlZDogZmFsc2UgfSkpO1xuICpcbiAqIC8vIHByaW50cyB7IGludDMyOiAxMCB9XG4gKiBjb25zb2xlLmxvZyhFSlNPTi5wYXJzZSh0ZXh0KSk7XG4gKi9cblxuXG5mdW5jdGlvbiBwYXJzZSh0ZXh0LCBvcHRpb25zKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICByZWxheGVkOiB0cnVlXG4gIH0sIG9wdGlvbnMpOyAvLyByZWxheGVkIGltcGxpZXMgbm90IHN0cmljdFxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWxheGVkID09PSAnYm9vbGVhbicpIG9wdGlvbnMuc3RyaWN0ID0gIW9wdGlvbnMucmVsYXhlZDtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLnN0cmljdCA9PT0gJ2Jvb2xlYW4nKSBvcHRpb25zLnJlbGF4ZWQgPSAhb3B0aW9ucy5zdHJpY3Q7XG4gIHJldHVybiBKU09OLnBhcnNlKHRleHQsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplVmFsdWUoX3RoaXMsIGtleSwgdmFsdWUsIG9wdGlvbnMpO1xuICB9KTtcbn0gLy9cbi8vIFNlcmlhbGl6ZXJcbi8vXG4vLyBNQVggSU5UMzIgYm91bmRhcmllc1xuXG5cbnZhciBCU09OX0lOVDMyX01BWCA9IDB4N2ZmZmZmZmYsXG4gICAgQlNPTl9JTlQzMl9NSU4gPSAtMHg4MDAwMDAwMCxcbiAgICBCU09OX0lOVDY0X01BWCA9IDB4N2ZmZmZmZmZmZmZmZmZmZixcbiAgICBCU09OX0lOVDY0X01JTiA9IC0weDgwMDAwMDAwMDAwMDAwMDA7XG4vKipcbiAqIENvbnZlcnRzIGEgQlNPTiBkb2N1bWVudCB0byBhbiBFeHRlbmRlZCBKU09OIHN0cmluZywgb3B0aW9uYWxseSByZXBsYWNpbmcgdmFsdWVzIGlmIGEgcmVwbGFjZXJcbiAqIGZ1bmN0aW9uIGlzIHNwZWNpZmllZCBvciBvcHRpb25hbGx5IGluY2x1ZGluZyBvbmx5IHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcyBpZiBhIHJlcGxhY2VyIGFycmF5XG4gKiBpcyBzcGVjaWZpZWQuXG4gKlxuICogQG1lbWJlcm9mIEVKU09OXG4gKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gZXh0ZW5kZWQgSlNPTlxuICogQHBhcmFtIHtmdW5jdGlvbnxhcnJheX0gW3JlcGxhY2VyXSBBIGZ1bmN0aW9uIHRoYXQgYWx0ZXJzIHRoZSBiZWhhdmlvciBvZiB0aGUgc3RyaW5naWZpY2F0aW9uIHByb2Nlc3MsIG9yIGFuIGFycmF5IG9mIFN0cmluZyBhbmQgTnVtYmVyIG9iamVjdHMgdGhhdCBzZXJ2ZSBhcyBhIHdoaXRlbGlzdCBmb3Igc2VsZWN0aW5nL2ZpbHRlcmluZyB0aGUgcHJvcGVydGllcyBvZiB0aGUgdmFsdWUgb2JqZWN0IHRvIGJlIGluY2x1ZGVkIGluIHRoZSBKU09OIHN0cmluZy4gSWYgdGhpcyB2YWx1ZSBpcyBudWxsIG9yIG5vdCBwcm92aWRlZCwgYWxsIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdGluZyBKU09OIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3BhY2VdIEEgU3RyaW5nIG9yIE51bWJlciBvYmplY3QgdGhhdCdzIHVzZWQgdG8gaW5zZXJ0IHdoaXRlIHNwYWNlIGludG8gdGhlIG91dHB1dCBKU09OIHN0cmluZyBmb3IgcmVhZGFiaWxpdHkgcHVycG9zZXMuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIHNldHRpbmdzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlbGF4ZWQ9dHJ1ZV0gRW5hYmxlZCBFeHRlbmRlZCBKU09OJ3MgYHJlbGF4ZWRgIG1vZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHsgRUpTT04gfSA9IHJlcXVpcmUoJ2Jzb24nKTtcbiAqIGNvbnN0IEludDMyID0gcmVxdWlyZSgnbW9uZ29kYicpLkludDMyO1xuICogY29uc3QgZG9jID0geyBpbnQzMjogbmV3IEludDMyKDEwKSB9O1xuICpcbiAqIC8vIHByaW50cyAne1wiaW50MzJcIjp7XCIkbnVtYmVySW50XCI6XCIxMFwifX0nXG4gKiBjb25zb2xlLmxvZyhFSlNPTi5zdHJpbmdpZnkoZG9jLCB7IHJlbGF4ZWQ6IGZhbHNlIH0pKTtcbiAqXG4gKiAvLyBwcmludHMgJ3tcImludDMyXCI6MTB9J1xuICogY29uc29sZS5sb2coRUpTT04uc3RyaW5naWZ5KGRvYykpO1xuICovXG5cbmZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSwgcmVwbGFjZXIsIHNwYWNlLCBvcHRpb25zKSB7XG4gIGlmIChzcGFjZSAhPSBudWxsICYmIF90eXBlb2YkMihzcGFjZSkgPT09ICdvYmplY3QnKSB7XG4gICAgb3B0aW9ucyA9IHNwYWNlO1xuICAgIHNwYWNlID0gMDtcbiAgfVxuXG4gIGlmIChyZXBsYWNlciAhPSBudWxsICYmIF90eXBlb2YkMihyZXBsYWNlcikgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHJlcGxhY2VyKSkge1xuICAgIG9wdGlvbnMgPSByZXBsYWNlcjtcbiAgICByZXBsYWNlciA9IG51bGw7XG4gICAgc3BhY2UgPSAwO1xuICB9XG5cbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICByZWxheGVkOiB0cnVlXG4gIH0sIG9wdGlvbnMpO1xuICB2YXIgZG9jID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBzZXJpYWxpemVBcnJheSh2YWx1ZSwgb3B0aW9ucykgOiBzZXJpYWxpemVEb2N1bWVudCh2YWx1ZSwgb3B0aW9ucyk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShkb2MsIHJlcGxhY2VyLCBzcGFjZSk7XG59XG4vKipcbiAqIFNlcmlhbGl6ZXMgYW4gb2JqZWN0IHRvIGFuIEV4dGVuZGVkIEpTT04gc3RyaW5nLCBhbmQgcmVwYXJzZSBpdCBhcyBhIEphdmFTY3JpcHQgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBFSlNPTlxuICogQHBhcmFtIHtvYmplY3R9IGJzb24gVGhlIG9iamVjdCB0byBzZXJpYWxpemVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgc2V0dGluZ3MgcGFzc2VkIHRvIHRoZSBgc3RyaW5naWZ5YCBmdW5jdGlvblxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5cblxuZnVuY3Rpb24gc2VyaWFsaXplKGJzb24sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHJldHVybiBKU09OLnBhcnNlKHN0cmluZ2lmeShic29uLCBvcHRpb25zKSk7XG59XG4vKipcbiAqIERlc2VyaWFsaXplcyBhbiBFeHRlbmRlZCBKU09OIG9iamVjdCBpbnRvIGEgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCBuYXRpdmUvQlNPTiB0eXBlc1xuICpcbiAqIEBtZW1iZXJvZiBFSlNPTlxuICogQHBhcmFtIHtvYmplY3R9IGVqc29uIFRoZSBFeHRlbmRlZCBKU09OIG9iamVjdCB0byBkZXNlcmlhbGl6ZVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBzZXR0aW5ncyBwYXNzZWQgdG8gdGhlIHBhcnNlIG1ldGhvZFxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5cblxuZnVuY3Rpb24gZGVzZXJpYWxpemUoZWpzb24sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHJldHVybiBwYXJzZShKU09OLnN0cmluZ2lmeShlanNvbiksIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVBcnJheShhcnJheSwgb3B0aW9ucykge1xuICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVZhbHVlKHYsIG9wdGlvbnMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0SVNPU3RyaW5nKGRhdGUpIHtcbiAgdmFyIGlzb1N0ciA9IGRhdGUudG9JU09TdHJpbmcoKTsgLy8gd2Ugc2hvdWxkIG9ubHkgc2hvdyBtaWxsaXNlY29uZHMgaW4gdGltZXN0YW1wIGlmIHRoZXkncmUgbm9uLXplcm9cblxuICByZXR1cm4gZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKSAhPT0gMCA/IGlzb1N0ciA6IGlzb1N0ci5zbGljZSgwLCAtNSkgKyAnWic7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVZhbHVlKHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHNlcmlhbGl6ZUFycmF5KHZhbHVlLCBvcHRpb25zKTtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICB2YXIgZGF0ZU51bSA9IHZhbHVlLmdldFRpbWUoKSxcbiAgICAgICAgLy8gaXMgaXQgaW4geWVhciByYW5nZSAxOTcwLTk5OTk/XG4gICAgaW5SYW5nZSA9IGRhdGVOdW0gPiAtMSAmJiBkYXRlTnVtIDwgMjUzNDAyMzE4ODAwMDAwO1xuICAgIHJldHVybiBvcHRpb25zLnJlbGF4ZWQgJiYgaW5SYW5nZSA/IHtcbiAgICAgICRkYXRlOiBnZXRJU09TdHJpbmcodmFsdWUpXG4gICAgfSA6IHtcbiAgICAgICRkYXRlOiB7XG4gICAgICAgICRudW1iZXJMb25nOiB2YWx1ZS5nZXRUaW1lKCkudG9TdHJpbmcoKVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhb3B0aW9ucy5yZWxheGVkKSB7XG4gICAgLy8gaXQncyBhbiBpbnRlZ2VyXG4gICAgaWYgKE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZSkge1xuICAgICAgdmFyIGludDMyUmFuZ2UgPSB2YWx1ZSA+PSBCU09OX0lOVDMyX01JTiAmJiB2YWx1ZSA8PSBCU09OX0lOVDMyX01BWCxcbiAgICAgICAgICBpbnQ2NFJhbmdlID0gdmFsdWUgPj0gQlNPTl9JTlQ2NF9NSU4gJiYgdmFsdWUgPD0gQlNPTl9JTlQ2NF9NQVg7IC8vIGludGVycHJldCBhcyBiZWluZyBvZiB0aGUgc21hbGxlc3QgQlNPTiBpbnRlZ2VyIHR5cGUgdGhhdCBjYW4gcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseVxuXG4gICAgICBpZiAoaW50MzJSYW5nZSkgcmV0dXJuIHtcbiAgICAgICAgJG51bWJlckludDogdmFsdWUudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICAgIGlmIChpbnQ2NFJhbmdlKSByZXR1cm4ge1xuICAgICAgICAkbnVtYmVyTG9uZzogdmFsdWUudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgJG51bWJlckRvdWJsZTogdmFsdWUudG9TdHJpbmcoKVxuICAgIH07XG4gIH1cblxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICB2YXIgZmxhZ3MgPSB2YWx1ZS5mbGFncztcblxuICAgIGlmIChmbGFncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmbGFncyA9IHZhbHVlLnRvU3RyaW5nKCkubWF0Y2goL1tnaW11eV0qJC8pWzBdO1xuICAgIH1cblxuICAgIHZhciByeCA9IG5ldyByZWdleHAodmFsdWUuc291cmNlLCBmbGFncyk7XG4gICAgcmV0dXJuIHJ4LnRvRXh0ZW5kZWRKU09OKCk7XG4gIH1cblxuICBpZiAodmFsdWUgIT0gbnVsbCAmJiBfdHlwZW9mJDIodmFsdWUpID09PSAnb2JqZWN0JykgcmV0dXJuIHNlcmlhbGl6ZURvY3VtZW50KHZhbHVlLCBvcHRpb25zKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgQlNPTl9UWVBFX01BUFBJTkdTID0ge1xuICBCaW5hcnk6IGZ1bmN0aW9uIEJpbmFyeShvKSB7XG4gICAgcmV0dXJuIG5ldyBiaW5hcnkoby52YWx1ZSgpLCBvLnN1YnR5cGUpO1xuICB9LFxuICBDb2RlOiBmdW5jdGlvbiBDb2RlKG8pIHtcbiAgICByZXR1cm4gbmV3IGNvZGUoby5jb2RlLCBvLnNjb3BlKTtcbiAgfSxcbiAgREJSZWY6IGZ1bmN0aW9uIERCUmVmKG8pIHtcbiAgICByZXR1cm4gbmV3IGRiX3JlZihvLmNvbGxlY3Rpb24gfHwgby5uYW1lc3BhY2UsIG8ub2lkLCBvLmRiLCBvLmZpZWxkcyk7XG4gIH0sXG4gIC8vIFwibmFtZXNwYWNlXCIgZm9yIDEueCBsaWJyYXJ5IGJhY2t3YXJkcyBjb21wYXRcbiAgRGVjaW1hbDEyODogZnVuY3Rpb24gRGVjaW1hbDEyOChvKSB7XG4gICAgcmV0dXJuIG5ldyBkZWNpbWFsMTI4KG8uYnl0ZXMpO1xuICB9LFxuICBEb3VibGU6IGZ1bmN0aW9uIERvdWJsZShvKSB7XG4gICAgcmV0dXJuIG5ldyBkb3VibGVfMShvLnZhbHVlKTtcbiAgfSxcbiAgSW50MzI6IGZ1bmN0aW9uIEludDMyKG8pIHtcbiAgICByZXR1cm4gbmV3IGludF8zMihvLnZhbHVlKTtcbiAgfSxcbiAgTG9uZzogZnVuY3Rpb24gTG9uZyhvKSB7XG4gICAgcmV0dXJuIGxvbmdfMS5mcm9tQml0cyggLy8gdW5kZXJzY29yZSB2YXJpYW50cyBmb3IgMS54IGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgby5sb3cgIT0gbnVsbCA/IG8ubG93IDogby5sb3dfLCBvLmxvdyAhPSBudWxsID8gby5oaWdoIDogby5oaWdoXywgby5sb3cgIT0gbnVsbCA/IG8udW5zaWduZWQgOiBvLnVuc2lnbmVkXyk7XG4gIH0sXG4gIE1heEtleTogZnVuY3Rpb24gTWF4S2V5KCkge1xuICAgIHJldHVybiBuZXcgbWF4X2tleSgpO1xuICB9LFxuICBNaW5LZXk6IGZ1bmN0aW9uIE1pbktleSgpIHtcbiAgICByZXR1cm4gbmV3IG1pbl9rZXkoKTtcbiAgfSxcbiAgT2JqZWN0SUQ6IGZ1bmN0aW9uIE9iamVjdElEKG8pIHtcbiAgICByZXR1cm4gbmV3IG9iamVjdGlkKG8pO1xuICB9LFxuICBPYmplY3RJZDogZnVuY3Rpb24gT2JqZWN0SWQobykge1xuICAgIHJldHVybiBuZXcgb2JqZWN0aWQobyk7XG4gIH0sXG4gIC8vIHN1cHBvcnQgNC4wLjAvNC4wLjEgYmVmb3JlIF9ic29udHlwZSB3YXMgcmV2ZXJ0ZWQgYmFjayB0byBPYmplY3RJRFxuICBCU09OUmVnRXhwOiBmdW5jdGlvbiBCU09OUmVnRXhwKG8pIHtcbiAgICByZXR1cm4gbmV3IHJlZ2V4cChvLnBhdHRlcm4sIG8ub3B0aW9ucyk7XG4gIH0sXG4gIFN5bWJvbDogZnVuY3Rpb24gU3ltYm9sKG8pIHtcbiAgICByZXR1cm4gbmV3IHN5bWJvbChvLnZhbHVlKTtcbiAgfSxcbiAgVGltZXN0YW1wOiBmdW5jdGlvbiBUaW1lc3RhbXAobykge1xuICAgIHJldHVybiB0aW1lc3RhbXAuZnJvbUJpdHMoby5sb3csIG8uaGlnaCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZURvY3VtZW50KGRvYywgb3B0aW9ucykge1xuICBpZiAoZG9jID09IG51bGwgfHwgX3R5cGVvZiQyKGRvYykgIT09ICdvYmplY3QnKSB0aHJvdyBuZXcgRXJyb3IoJ25vdCBhbiBvYmplY3QgaW5zdGFuY2UnKTtcbiAgdmFyIGJzb250eXBlID0gZG9jLl9ic29udHlwZTtcblxuICBpZiAodHlwZW9mIGJzb250eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEl0J3MgYSByZWd1bGFyIG9iamVjdC4gUmVjdXJzaXZlbHkgc2VyaWFsaXplIGl0cyBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgdmFyIF9kb2MgPSB7fTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gZG9jKSB7XG4gICAgICBfZG9jW25hbWVdID0gc2VyaWFsaXplVmFsdWUoZG9jW25hbWVdLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2RvYztcbiAgfSBlbHNlIGlmICh0eXBlb2YgYnNvbnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gdGhlIFwiZG9jdW1lbnRcIiBpcyByZWFsbHkganVzdCBhIEJTT04gdHlwZSBvYmplY3RcbiAgICB2YXIgX2RvYzIgPSBkb2M7XG5cbiAgICBpZiAodHlwZW9mIF9kb2MyLnRvRXh0ZW5kZWRKU09OICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBUaGVyZSdzIG5vIEVKU09OIHNlcmlhbGl6YXRpb24gZnVuY3Rpb24gb24gdGhlIG9iamVjdC4gSXQncyBwcm9iYWJseSBhblxuICAgICAgLy8gb2JqZWN0IGNyZWF0ZWQgYnkgYSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoaXMgbGlicmFyeSAob3IgYW5vdGhlciBsaWJyYXJ5KVxuICAgICAgLy8gdGhhdCdzIGR1Y2stdHlwaW5nIG9iamVjdHMgdG8gbG9vayBsaWtlIHRoZXkgd2VyZSBnZW5lcmF0ZWQgYnkgdGhpcyBsaWJyYXJ5KS5cbiAgICAgIC8vIENvcHkgdGhlIG9iamVjdCBpbnRvIHRoaXMgbGlicmFyeSdzIHZlcnNpb24gb2YgdGhhdCB0eXBlLlxuICAgICAgdmFyIG1hcHBlciA9IEJTT05fVFlQRV9NQVBQSU5HU1tic29udHlwZV07XG5cbiAgICAgIGlmICghbWFwcGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VucmVjb2duaXplZCBvciBpbnZhbGlkIF9ic29udHlwZTogJyArIGJzb250eXBlKTtcbiAgICAgIH1cblxuICAgICAgX2RvYzIgPSBtYXBwZXIoX2RvYzIpO1xuICAgIH0gLy8gVHdvIEJTT04gdHlwZXMgbWF5IGhhdmUgbmVzdGVkIG9iamVjdHMgdGhhdCBtYXkgbmVlZCB0byBiZSBzZXJpYWxpemVkIHRvb1xuXG5cbiAgICBpZiAoYnNvbnR5cGUgPT09ICdDb2RlJyAmJiBfZG9jMi5zY29wZSkge1xuICAgICAgX2RvYzIgPSBuZXcgY29kZShfZG9jMi5jb2RlLCBzZXJpYWxpemVWYWx1ZShfZG9jMi5zY29wZSwgb3B0aW9ucykpO1xuICAgIH0gZWxzZSBpZiAoYnNvbnR5cGUgPT09ICdEQlJlZicgJiYgX2RvYzIub2lkKSB7XG4gICAgICBfZG9jMiA9IG5ldyBkYl9yZWYoX2RvYzIuY29sbGVjdGlvbiwgc2VyaWFsaXplVmFsdWUoX2RvYzIub2lkLCBvcHRpb25zKSwgX2RvYzIuZGIsIF9kb2MyLmZpZWxkcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9kb2MyLnRvRXh0ZW5kZWRKU09OKG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignX2Jzb250eXBlIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCB3YXM6ICcgKyBfdHlwZW9mJDIoYnNvbnR5cGUpKTtcbiAgfVxufVxuXG52YXIgZXh0ZW5kZWRfanNvbiA9IHtcbiAgcGFyc2U6IHBhcnNlLFxuICBkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gIHNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICBzdHJpbmdpZnk6IHN0cmluZ2lmeVxufTtcblxudmFyIEZJUlNUX0JJVCA9IDB4ODA7XG52YXIgRklSU1RfVFdPX0JJVFMgPSAweGMwO1xudmFyIEZJUlNUX1RIUkVFX0JJVFMgPSAweGUwO1xudmFyIEZJUlNUX0ZPVVJfQklUUyA9IDB4ZjA7XG52YXIgRklSU1RfRklWRV9CSVRTID0gMHhmODtcbnZhciBUV09fQklUX0NIQVIgPSAweGMwO1xudmFyIFRIUkVFX0JJVF9DSEFSID0gMHhlMDtcbnZhciBGT1VSX0JJVF9DSEFSID0gMHhmMDtcbnZhciBDT05USU5VSU5HX0NIQVIgPSAweDgwO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBwYXNzZWQgaW4gYnl0ZXMgYXJlIHZhbGlkIHV0ZjhcbiAqIEBwYXJhbSB7QnVmZmVyfFVpbnQ4QXJyYXl9IGJ5dGVzIEFuIGFycmF5IG9mIDgtYml0IGJ5dGVzLiBNdXN0IGJlIGluZGV4YWJsZSBhbmQgaGF2ZSBsZW5ndGggcHJvcGVydHlcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCBUaGUgaW5kZXggdG8gc3RhcnQgdmFsaWRhdGluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBUaGUgaW5kZXggdG8gZW5kIHZhbGlkYXRpbmdcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbGlkIHV0ZjhcbiAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVV0ZjgoYnl0ZXMsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGNvbnRpbnVhdGlvbiA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDEpIHtcbiAgICB2YXIgYnl0ZSA9IGJ5dGVzW2ldO1xuXG4gICAgaWYgKGNvbnRpbnVhdGlvbikge1xuICAgICAgaWYgKChieXRlICYgRklSU1RfVFdPX0JJVFMpICE9PSBDT05USU5VSU5HX0NIQVIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb250aW51YXRpb24gLT0gMTtcbiAgICB9IGVsc2UgaWYgKGJ5dGUgJiBGSVJTVF9CSVQpIHtcbiAgICAgIGlmICgoYnl0ZSAmIEZJUlNUX1RIUkVFX0JJVFMpID09PSBUV09fQklUX0NIQVIpIHtcbiAgICAgICAgY29udGludWF0aW9uID0gMTtcbiAgICAgIH0gZWxzZSBpZiAoKGJ5dGUgJiBGSVJTVF9GT1VSX0JJVFMpID09PSBUSFJFRV9CSVRfQ0hBUikge1xuICAgICAgICBjb250aW51YXRpb24gPSAyO1xuICAgICAgfSBlbHNlIGlmICgoYnl0ZSAmIEZJUlNUX0ZJVkVfQklUUykgPT09IEZPVVJfQklUX0NIQVIpIHtcbiAgICAgICAgY29udGludWF0aW9uID0gMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gIWNvbnRpbnVhdGlvbjtcbn1cblxudmFyIHZhbGlkYXRlVXRmOF8xID0gdmFsaWRhdGVVdGY4O1xudmFyIHZhbGlkYXRlX3V0ZjggPSB7XG4gIHZhbGlkYXRlVXRmODogdmFsaWRhdGVVdGY4XzFcbn07XG5cbnZhciBCdWZmZXIkNCA9IGJ1ZmZlci5CdWZmZXI7XG52YXIgdmFsaWRhdGVVdGY4JDEgPSB2YWxpZGF0ZV91dGY4LnZhbGlkYXRlVXRmODsgLy8gSW50ZXJuYWwgbG9uZyB2ZXJzaW9uc1xuXG52YXIgSlNfSU5UX01BWF9MT05HID0gbG9uZ18xLmZyb21OdW1iZXIoY29uc3RhbnRzLkpTX0lOVF9NQVgpO1xudmFyIEpTX0lOVF9NSU5fTE9ORyA9IGxvbmdfMS5mcm9tTnVtYmVyKGNvbnN0YW50cy5KU19JTlRfTUlOKTtcbnZhciBmdW5jdGlvbkNhY2hlID0ge307XG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplJDEoYnVmZmVyJCQxLCBvcHRpb25zLCBpc0FycmF5KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zID09IG51bGwgPyB7fSA6IG9wdGlvbnM7XG4gIHZhciBpbmRleCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbmRleCA/IG9wdGlvbnMuaW5kZXggOiAwOyAvLyBSZWFkIHRoZSBkb2N1bWVudCBzaXplXG5cbiAgdmFyIHNpemUgPSBidWZmZXIkJDFbaW5kZXhdIHwgYnVmZmVyJCQxW2luZGV4ICsgMV0gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCArIDJdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4ICsgM10gPDwgMjQ7XG5cbiAgaWYgKHNpemUgPCA1KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYnNvbiBzaXplIG11c3QgYmUgPj0gNSwgaXMgXCIuY29uY2F0KHNpemUpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmFsbG93T2JqZWN0U21hbGxlclRoYW5CdWZmZXJTaXplICYmIGJ1ZmZlciQkMS5sZW5ndGggPCBzaXplKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYnVmZmVyIGxlbmd0aCBcIi5jb25jYXQoYnVmZmVyJCQxLmxlbmd0aCwgXCIgbXVzdCBiZSA+PSBic29uIHNpemUgXCIpLmNvbmNhdChzaXplKSk7XG4gIH1cblxuICBpZiAoIW9wdGlvbnMuYWxsb3dPYmplY3RTbWFsbGVyVGhhbkJ1ZmZlclNpemUgJiYgYnVmZmVyJCQxLmxlbmd0aCAhPT0gc2l6ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJ1ZmZlciBsZW5ndGggXCIuY29uY2F0KGJ1ZmZlciQkMS5sZW5ndGgsIFwiIG11c3QgPT09IGJzb24gc2l6ZSBcIikuY29uY2F0KHNpemUpKTtcbiAgfVxuXG4gIGlmIChzaXplICsgaW5kZXggPiBidWZmZXIkJDEubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiKGJzb24gc2l6ZSBcIi5jb25jYXQoc2l6ZSwgXCIgKyBvcHRpb25zLmluZGV4IFwiKS5jb25jYXQoaW5kZXgsIFwiIG11c3QgYmUgPD0gYnVmZmVyIGxlbmd0aCBcIikuY29uY2F0KEJ1ZmZlciQ0LmJ5dGVMZW5ndGgoYnVmZmVyJCQxKSwgXCIpXCIpKTtcbiAgfSAvLyBJbGxlZ2FsIGVuZCB2YWx1ZVxuXG5cbiAgaWYgKGJ1ZmZlciQkMVtpbmRleCArIHNpemUgLSAxXSAhPT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvYmplY3QsIHNpemVkIGNvcnJlY3RseSwgd2l0aCBhIHNwb3QgZm9yIGFuIEVPTywgYnV0IHRoZSBFT08gaXNuJ3QgMHgwMFwiKTtcbiAgfSAvLyBTdGFydCBkZXNlcmlhbGl6dGlvblxuXG5cbiAgcmV0dXJuIGRlc2VyaWFsaXplT2JqZWN0KGJ1ZmZlciQkMSwgaW5kZXgsIG9wdGlvbnMsIGlzQXJyYXkpO1xufVxuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZU9iamVjdChidWZmZXIkJDEsIGluZGV4LCBvcHRpb25zLCBpc0FycmF5KSB7XG4gIHZhciBldmFsRnVuY3Rpb25zID0gb3B0aW9uc1snZXZhbEZ1bmN0aW9ucyddID09IG51bGwgPyBmYWxzZSA6IG9wdGlvbnNbJ2V2YWxGdW5jdGlvbnMnXTtcbiAgdmFyIGNhY2hlRnVuY3Rpb25zID0gb3B0aW9uc1snY2FjaGVGdW5jdGlvbnMnXSA9PSBudWxsID8gZmFsc2UgOiBvcHRpb25zWydjYWNoZUZ1bmN0aW9ucyddO1xuICB2YXIgY2FjaGVGdW5jdGlvbnNDcmMzMiA9IG9wdGlvbnNbJ2NhY2hlRnVuY3Rpb25zQ3JjMzInXSA9PSBudWxsID8gZmFsc2UgOiBvcHRpb25zWydjYWNoZUZ1bmN0aW9uc0NyYzMyJ107XG4gIGlmICghY2FjaGVGdW5jdGlvbnNDcmMzMikgdmFyIGNyYzMyID0gbnVsbDtcbiAgdmFyIGZpZWxkc0FzUmF3ID0gb3B0aW9uc1snZmllbGRzQXNSYXcnXSA9PSBudWxsID8gbnVsbCA6IG9wdGlvbnNbJ2ZpZWxkc0FzUmF3J107IC8vIFJldHVybiByYXcgYnNvbiBidWZmZXIgaW5zdGVhZCBvZiBwYXJzaW5nIGl0XG5cbiAgdmFyIHJhdyA9IG9wdGlvbnNbJ3JhdyddID09IG51bGwgPyBmYWxzZSA6IG9wdGlvbnNbJ3JhdyddOyAvLyBSZXR1cm4gQlNPTlJlZ0V4cCBvYmplY3RzIGluc3RlYWQgb2YgbmF0aXZlIHJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuICB2YXIgYnNvblJlZ0V4cCA9IHR5cGVvZiBvcHRpb25zWydic29uUmVnRXhwJ10gPT09ICdib29sZWFuJyA/IG9wdGlvbnNbJ2Jzb25SZWdFeHAnXSA6IGZhbHNlOyAvLyBDb250cm9scyB0aGUgcHJvbW90aW9uIG9mIHZhbHVlcyB2cyB3cmFwcGVyIGNsYXNzZXNcblxuICB2YXIgcHJvbW90ZUJ1ZmZlcnMgPSBvcHRpb25zWydwcm9tb3RlQnVmZmVycyddID09IG51bGwgPyBmYWxzZSA6IG9wdGlvbnNbJ3Byb21vdGVCdWZmZXJzJ107XG4gIHZhciBwcm9tb3RlTG9uZ3MgPSBvcHRpb25zWydwcm9tb3RlTG9uZ3MnXSA9PSBudWxsID8gdHJ1ZSA6IG9wdGlvbnNbJ3Byb21vdGVMb25ncyddO1xuICB2YXIgcHJvbW90ZVZhbHVlcyA9IG9wdGlvbnNbJ3Byb21vdGVWYWx1ZXMnXSA9PSBudWxsID8gdHJ1ZSA6IG9wdGlvbnNbJ3Byb21vdGVWYWx1ZXMnXTsgLy8gU2V0IHRoZSBzdGFydCBpbmRleFxuXG4gIHZhciBzdGFydEluZGV4ID0gaW5kZXg7IC8vIFZhbGlkYXRlIHRoYXQgd2UgaGF2ZSBhdCBsZWFzdCA0IGJ5dGVzIG9mIGJ1ZmZlclxuXG4gIGlmIChidWZmZXIkJDEubGVuZ3RoIDwgNSkgdGhyb3cgbmV3IEVycm9yKCdjb3JydXB0IGJzb24gbWVzc2FnZSA8IDUgYnl0ZXMgbG9uZycpOyAvLyBSZWFkIHRoZSBkb2N1bWVudCBzaXplXG5cbiAgdmFyIHNpemUgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDsgLy8gRW5zdXJlIGJ1ZmZlciBpcyB2YWxpZCBzaXplXG5cbiAgaWYgKHNpemUgPCA1IHx8IHNpemUgPiBidWZmZXIkJDEubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2NvcnJ1cHQgYnNvbiBtZXNzYWdlJyk7IC8vIENyZWF0ZSBob2xkaW5nIG9iamVjdFxuXG4gIHZhciBvYmplY3QgPSBpc0FycmF5ID8gW10gOiB7fTsgLy8gVXNlZCBmb3IgYXJyYXlzIHRvIHNraXAgaGF2aW5nIHRvIHBlcmZvcm0gdXRmOCBkZWNvZGluZ1xuXG4gIHZhciBhcnJheUluZGV4ID0gMDtcbiAgdmFyIGRvbmUgPSBmYWxzZTsgLy8gV2hpbGUgd2UgaGF2ZSBtb3JlIGxlZnQgZGF0YSBsZWZ0IGtlZXAgcGFyc2luZ1xuXG4gIHdoaWxlICghZG9uZSkge1xuICAgIC8vIFJlYWQgdGhlIHR5cGVcbiAgICB2YXIgZWxlbWVudFR5cGUgPSBidWZmZXIkJDFbaW5kZXgrK107IC8vIElmIHdlIGdldCBhIHplcm8gaXQncyB0aGUgbGFzdCBieXRlLCBleGl0XG5cbiAgICBpZiAoZWxlbWVudFR5cGUgPT09IDApIGJyZWFrOyAvLyBHZXQgdGhlIHN0YXJ0IHNlYXJjaCBpbmRleFxuXG4gICAgdmFyIGkgPSBpbmRleDsgLy8gTG9jYXRlIHRoZSBlbmQgb2YgdGhlIGMgc3RyaW5nXG5cbiAgICB3aGlsZSAoYnVmZmVyJCQxW2ldICE9PSAweDAwICYmIGkgPCBidWZmZXIkJDEubGVuZ3RoKSB7XG4gICAgICBpKys7XG4gICAgfSAvLyBJZiBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBkb2N1bWVudFxuXG5cbiAgICBpZiAoaSA+PSBCdWZmZXIkNC5ieXRlTGVuZ3RoKGJ1ZmZlciQkMSkpIHRocm93IG5ldyBFcnJvcignQmFkIEJTT04gRG9jdW1lbnQ6IGlsbGVnYWwgQ1N0cmluZycpO1xuICAgIHZhciBuYW1lID0gaXNBcnJheSA/IGFycmF5SW5kZXgrKyA6IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpKTtcbiAgICBpbmRleCA9IGkgKyAxO1xuXG4gICAgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX1NUUklORykge1xuICAgICAgdmFyIHN0cmluZ1NpemUgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcbiAgICAgIGlmIChzdHJpbmdTaXplIDw9IDAgfHwgc3RyaW5nU2l6ZSA+IGJ1ZmZlciQkMS5sZW5ndGggLSBpbmRleCB8fCBidWZmZXIkJDFbaW5kZXggKyBzdHJpbmdTaXplIC0gMV0gIT09IDApIHRocm93IG5ldyBFcnJvcignYmFkIHN0cmluZyBsZW5ndGggaW4gYnNvbicpO1xuXG4gICAgICBpZiAoIXZhbGlkYXRlVXRmOCQxKGJ1ZmZlciQkMSwgaW5kZXgsIGluZGV4ICsgc3RyaW5nU2l6ZSAtIDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBVVEYtOCBzdHJpbmcgaW4gQlNPTiBkb2N1bWVudCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcyA9IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpbmRleCArIHN0cmluZ1NpemUgLSAxKTtcbiAgICAgIG9iamVjdFtuYW1lXSA9IHM7XG4gICAgICBpbmRleCA9IGluZGV4ICsgc3RyaW5nU2l6ZTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX09JRCkge1xuICAgICAgdmFyIG9pZCA9IEJ1ZmZlciQ0LmFsbG9jKDEyKTtcbiAgICAgIGJ1ZmZlciQkMS5jb3B5KG9pZCwgMCwgaW5kZXgsIGluZGV4ICsgMTIpO1xuICAgICAgb2JqZWN0W25hbWVdID0gbmV3IG9iamVjdGlkKG9pZCk7XG4gICAgICBpbmRleCA9IGluZGV4ICsgMTI7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9JTlQgJiYgcHJvbW90ZVZhbHVlcyA9PT0gZmFsc2UpIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBpbnRfMzIoYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfSU5UKSB7XG4gICAgICBvYmplY3RbbmFtZV0gPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX05VTUJFUiAmJiBwcm9tb3RlVmFsdWVzID09PSBmYWxzZSkge1xuICAgICAgb2JqZWN0W25hbWVdID0gbmV3IGRvdWJsZV8xKGJ1ZmZlciQkMS5yZWFkRG91YmxlTEUoaW5kZXgpKTtcbiAgICAgIGluZGV4ID0gaW5kZXggKyA4O1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfTlVNQkVSKSB7XG4gICAgICBvYmplY3RbbmFtZV0gPSBidWZmZXIkJDEucmVhZERvdWJsZUxFKGluZGV4KTtcbiAgICAgIGluZGV4ID0gaW5kZXggKyA4O1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfREFURSkge1xuICAgICAgdmFyIGxvd0JpdHMgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcbiAgICAgIHZhciBoaWdoQml0cyA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuICAgICAgb2JqZWN0W25hbWVdID0gbmV3IERhdGUobmV3IGxvbmdfMShsb3dCaXRzLCBoaWdoQml0cykudG9OdW1iZXIoKSk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9CT09MRUFOKSB7XG4gICAgICBpZiAoYnVmZmVyJCQxW2luZGV4XSAhPT0gMCAmJiBidWZmZXIkJDFbaW5kZXhdICE9PSAxKSB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwgYm9vbGVhbiB0eXBlIHZhbHVlJyk7XG4gICAgICBvYmplY3RbbmFtZV0gPSBidWZmZXIkJDFbaW5kZXgrK10gPT09IDE7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9PQkpFQ1QpIHtcbiAgICAgIHZhciBfaW5kZXggPSBpbmRleDtcbiAgICAgIHZhciBvYmplY3RTaXplID0gYnVmZmVyJCQxW2luZGV4XSB8IGJ1ZmZlciQkMVtpbmRleCArIDFdIDw8IDggfCBidWZmZXIkJDFbaW5kZXggKyAyXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCArIDNdIDw8IDI0O1xuICAgICAgaWYgKG9iamVjdFNpemUgPD0gMCB8fCBvYmplY3RTaXplID4gYnVmZmVyJCQxLmxlbmd0aCAtIGluZGV4KSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBlbWJlZGRlZCBkb2N1bWVudCBsZW5ndGggaW4gYnNvbicpOyAvLyBXZSBoYXZlIGEgcmF3IHZhbHVlXG5cbiAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgb2JqZWN0W25hbWVdID0gYnVmZmVyJCQxLnNsaWNlKGluZGV4LCBpbmRleCArIG9iamVjdFNpemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W25hbWVdID0gZGVzZXJpYWxpemVPYmplY3QoYnVmZmVyJCQxLCBfaW5kZXgsIG9wdGlvbnMsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgaW5kZXggPSBpbmRleCArIG9iamVjdFNpemU7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9BUlJBWSkge1xuICAgICAgdmFyIF9pbmRleDIgPSBpbmRleDtcblxuICAgICAgdmFyIF9vYmplY3RTaXplID0gYnVmZmVyJCQxW2luZGV4XSB8IGJ1ZmZlciQkMVtpbmRleCArIDFdIDw8IDggfCBidWZmZXIkJDFbaW5kZXggKyAyXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCArIDNdIDw8IDI0O1xuXG4gICAgICB2YXIgYXJyYXlPcHRpb25zID0gb3B0aW9uczsgLy8gU3RvcCBpbmRleFxuXG4gICAgICB2YXIgc3RvcEluZGV4ID0gaW5kZXggKyBfb2JqZWN0U2l6ZTsgLy8gQWxsIGVsZW1lbnRzIG9mIGFycmF5IHRvIGJlIHJldHVybmVkIGFzIHJhdyBic29uXG5cbiAgICAgIGlmIChmaWVsZHNBc1JhdyAmJiBmaWVsZHNBc1Jhd1tuYW1lXSkge1xuICAgICAgICBhcnJheU9wdGlvbnMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBuIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICBhcnJheU9wdGlvbnNbbl0gPSBvcHRpb25zW25dO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyYXlPcHRpb25zWydyYXcnXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIG9iamVjdFtuYW1lXSA9IGRlc2VyaWFsaXplT2JqZWN0KGJ1ZmZlciQkMSwgX2luZGV4MiwgYXJyYXlPcHRpb25zLCB0cnVlKTtcbiAgICAgIGluZGV4ID0gaW5kZXggKyBfb2JqZWN0U2l6ZTtcbiAgICAgIGlmIChidWZmZXIkJDFbaW5kZXggLSAxXSAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFycmF5IHRlcm1pbmF0b3IgYnl0ZScpO1xuICAgICAgaWYgKGluZGV4ICE9PSBzdG9wSW5kZXgpIHRocm93IG5ldyBFcnJvcignY29ycnVwdGVkIGFycmF5IGJzb24nKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX1VOREVGSU5FRCkge1xuICAgICAgb2JqZWN0W25hbWVdID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfTlVMTCkge1xuICAgICAgb2JqZWN0W25hbWVdID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX0xPTkcpIHtcbiAgICAgIC8vIFVucGFjayB0aGUgbG93IGFuZCBoaWdoIGJpdHNcbiAgICAgIHZhciBfbG93Qml0cyA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuXG4gICAgICB2YXIgX2hpZ2hCaXRzID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG5cbiAgICAgIHZhciBsb25nJCQxID0gbmV3IGxvbmdfMShfbG93Qml0cywgX2hpZ2hCaXRzKTsgLy8gUHJvbW90ZSB0aGUgbG9uZyBpZiBwb3NzaWJsZVxuXG4gICAgICBpZiAocHJvbW90ZUxvbmdzICYmIHByb21vdGVWYWx1ZXMgPT09IHRydWUpIHtcbiAgICAgICAgb2JqZWN0W25hbWVdID0gbG9uZyQkMS5sZXNzVGhhbk9yRXF1YWwoSlNfSU5UX01BWF9MT05HKSAmJiBsb25nJCQxLmdyZWF0ZXJUaGFuT3JFcXVhbChKU19JTlRfTUlOX0xPTkcpID8gbG9uZyQkMS50b051bWJlcigpIDogbG9uZyQkMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtuYW1lXSA9IGxvbmckJDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9ERUNJTUFMMTI4KSB7XG4gICAgICAvLyBCdWZmZXIgdG8gY29udGFpbiB0aGUgZGVjaW1hbCBieXRlc1xuICAgICAgdmFyIGJ5dGVzID0gQnVmZmVyJDQuYWxsb2MoMTYpOyAvLyBDb3B5IHRoZSBuZXh0IDE2IGJ5dGVzIGludG8gdGhlIGJ5dGVzIGJ1ZmZlclxuXG4gICAgICBidWZmZXIkJDEuY29weShieXRlcywgMCwgaW5kZXgsIGluZGV4ICsgMTYpOyAvLyBVcGRhdGUgaW5kZXhcblxuICAgICAgaW5kZXggPSBpbmRleCArIDE2OyAvLyBBc3NpZ24gdGhlIG5ldyBEZWNpbWFsMTI4IHZhbHVlXG5cbiAgICAgIHZhciBkZWNpbWFsMTI4JCQxID0gbmV3IGRlY2ltYWwxMjgoYnl0ZXMpOyAvLyBJZiB3ZSBoYXZlIGFuIGFsdGVybmF0aXZlIG1hcHBlciB1c2UgdGhhdFxuXG4gICAgICBvYmplY3RbbmFtZV0gPSBkZWNpbWFsMTI4JCQxLnRvT2JqZWN0ID8gZGVjaW1hbDEyOCQkMS50b09iamVjdCgpIDogZGVjaW1hbDEyOCQkMTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX0JJTkFSWSkge1xuICAgICAgdmFyIGJpbmFyeVNpemUgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcbiAgICAgIHZhciB0b3RhbEJpbmFyeVNpemUgPSBiaW5hcnlTaXplO1xuICAgICAgdmFyIHN1YlR5cGUgPSBidWZmZXIkJDFbaW5kZXgrK107IC8vIERpZCB3ZSBoYXZlIGEgbmVnYXRpdmUgYmluYXJ5IHNpemUsIHRocm93XG5cbiAgICAgIGlmIChiaW5hcnlTaXplIDwgMCkgdGhyb3cgbmV3IEVycm9yKCdOZWdhdGl2ZSBiaW5hcnkgdHlwZSBlbGVtZW50IHNpemUgZm91bmQnKTsgLy8gSXMgdGhlIGxlbmd0aCBsb25nZXIgdGhhbiB0aGUgZG9jdW1lbnRcblxuICAgICAgaWYgKGJpbmFyeVNpemUgPiBCdWZmZXIkNC5ieXRlTGVuZ3RoKGJ1ZmZlciQkMSkpIHRocm93IG5ldyBFcnJvcignQmluYXJ5IHR5cGUgc2l6ZSBsYXJnZXIgdGhhbiBkb2N1bWVudCBzaXplJyk7IC8vIERlY29kZSBhcyByYXcgQnVmZmVyIG9iamVjdCBpZiBvcHRpb25zIHNwZWNpZmllcyBpdFxuXG4gICAgICBpZiAoYnVmZmVyJCQxWydzbGljZSddICE9IG51bGwpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBzdWJ0eXBlIDIgc2tpcCB0aGUgNCBieXRlcyBmb3IgdGhlIHNpemVcbiAgICAgICAgaWYgKHN1YlR5cGUgPT09IGJpbmFyeS5TVUJUWVBFX0JZVEVfQVJSQVkpIHtcbiAgICAgICAgICBiaW5hcnlTaXplID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG4gICAgICAgICAgaWYgKGJpbmFyeVNpemUgPCAwKSB0aHJvdyBuZXcgRXJyb3IoJ05lZ2F0aXZlIGJpbmFyeSB0eXBlIGVsZW1lbnQgc2l6ZSBmb3VuZCBmb3Igc3VidHlwZSAweDAyJyk7XG4gICAgICAgICAgaWYgKGJpbmFyeVNpemUgPiB0b3RhbEJpbmFyeVNpemUgLSA0KSB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSB0eXBlIHdpdGggc3VidHlwZSAweDAyIGNvbnRhaW5zIHRvIGxvbmcgYmluYXJ5IHNpemUnKTtcbiAgICAgICAgICBpZiAoYmluYXJ5U2l6ZSA8IHRvdGFsQmluYXJ5U2l6ZSAtIDQpIHRocm93IG5ldyBFcnJvcignQmluYXJ5IHR5cGUgd2l0aCBzdWJ0eXBlIDB4MDIgY29udGFpbnMgdG8gc2hvcnQgYmluYXJ5IHNpemUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9tb3RlQnVmZmVycyAmJiBwcm9tb3RlVmFsdWVzKSB7XG4gICAgICAgICAgb2JqZWN0W25hbWVdID0gYnVmZmVyJCQxLnNsaWNlKGluZGV4LCBpbmRleCArIGJpbmFyeVNpemUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBiaW5hcnkoYnVmZmVyJCQxLnNsaWNlKGluZGV4LCBpbmRleCArIGJpbmFyeVNpemUpLCBzdWJUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9idWZmZXIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoYmluYXJ5U2l6ZSkpIDogbmV3IEFycmF5KGJpbmFyeVNpemUpOyAvLyBJZiB3ZSBoYXZlIHN1YnR5cGUgMiBza2lwIHRoZSA0IGJ5dGVzIGZvciB0aGUgc2l6ZVxuXG5cbiAgICAgICAgaWYgKHN1YlR5cGUgPT09IGJpbmFyeS5TVUJUWVBFX0JZVEVfQVJSQVkpIHtcbiAgICAgICAgICBiaW5hcnlTaXplID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG4gICAgICAgICAgaWYgKGJpbmFyeVNpemUgPCAwKSB0aHJvdyBuZXcgRXJyb3IoJ05lZ2F0aXZlIGJpbmFyeSB0eXBlIGVsZW1lbnQgc2l6ZSBmb3VuZCBmb3Igc3VidHlwZSAweDAyJyk7XG4gICAgICAgICAgaWYgKGJpbmFyeVNpemUgPiB0b3RhbEJpbmFyeVNpemUgLSA0KSB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSB0eXBlIHdpdGggc3VidHlwZSAweDAyIGNvbnRhaW5zIHRvIGxvbmcgYmluYXJ5IHNpemUnKTtcbiAgICAgICAgICBpZiAoYmluYXJ5U2l6ZSA8IHRvdGFsQmluYXJ5U2l6ZSAtIDQpIHRocm93IG5ldyBFcnJvcignQmluYXJ5IHR5cGUgd2l0aCBzdWJ0eXBlIDB4MDIgY29udGFpbnMgdG8gc2hvcnQgYmluYXJ5IHNpemUnKTtcbiAgICAgICAgfSAvLyBDb3B5IHRoZSBkYXRhXG5cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmluYXJ5U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgX2J1ZmZlcltpXSA9IGJ1ZmZlciQkMVtpbmRleCArIGldO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb21vdGVCdWZmZXJzICYmIHByb21vdGVWYWx1ZXMpIHtcbiAgICAgICAgICBvYmplY3RbbmFtZV0gPSBfYnVmZmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBiaW5hcnkoX2J1ZmZlciwgc3ViVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gVXBkYXRlIHRoZSBpbmRleFxuXG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBiaW5hcnlTaXplO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfUkVHRVhQICYmIGJzb25SZWdFeHAgPT09IGZhbHNlKSB7XG4gICAgICAvLyBHZXQgdGhlIHN0YXJ0IHNlYXJjaCBpbmRleFxuICAgICAgaSA9IGluZGV4OyAvLyBMb2NhdGUgdGhlIGVuZCBvZiB0aGUgYyBzdHJpbmdcblxuICAgICAgd2hpbGUgKGJ1ZmZlciQkMVtpXSAhPT0gMHgwMCAmJiBpIDwgYnVmZmVyJCQxLmxlbmd0aCkge1xuICAgICAgICBpKys7XG4gICAgICB9IC8vIElmIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXIgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggdGhlIGRvY3VtZW50XG5cblxuICAgICAgaWYgKGkgPj0gYnVmZmVyJCQxLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdCYWQgQlNPTiBEb2N1bWVudDogaWxsZWdhbCBDU3RyaW5nJyk7IC8vIFJldHVybiB0aGUgQyBzdHJpbmdcblxuICAgICAgdmFyIHNvdXJjZSA9IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpKTsgLy8gQ3JlYXRlIHRoZSByZWdleHBcblxuICAgICAgaW5kZXggPSBpICsgMTsgLy8gR2V0IHRoZSBzdGFydCBzZWFyY2ggaW5kZXhcblxuICAgICAgaSA9IGluZGV4OyAvLyBMb2NhdGUgdGhlIGVuZCBvZiB0aGUgYyBzdHJpbmdcblxuICAgICAgd2hpbGUgKGJ1ZmZlciQkMVtpXSAhPT0gMHgwMCAmJiBpIDwgYnVmZmVyJCQxLmxlbmd0aCkge1xuICAgICAgICBpKys7XG4gICAgICB9IC8vIElmIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXIgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggdGhlIGRvY3VtZW50XG5cblxuICAgICAgaWYgKGkgPj0gYnVmZmVyJCQxLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdCYWQgQlNPTiBEb2N1bWVudDogaWxsZWdhbCBDU3RyaW5nJyk7IC8vIFJldHVybiB0aGUgQyBzdHJpbmdcblxuICAgICAgdmFyIHJlZ0V4cE9wdGlvbnMgPSBidWZmZXIkJDEudG9TdHJpbmcoJ3V0ZjgnLCBpbmRleCwgaSk7XG4gICAgICBpbmRleCA9IGkgKyAxOyAvLyBGb3IgZWFjaCBvcHRpb24gYWRkIHRoZSBjb3JyZXNwb25kaW5nIG9uZSBmb3IgamF2YXNjcmlwdFxuXG4gICAgICB2YXIgb3B0aW9uc0FycmF5ID0gbmV3IEFycmF5KHJlZ0V4cE9wdGlvbnMubGVuZ3RoKTsgLy8gUGFyc2Ugb3B0aW9uc1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcmVnRXhwT3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzd2l0Y2ggKHJlZ0V4cE9wdGlvbnNbaV0pIHtcbiAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgIG9wdGlvbnNBcnJheVtpXSA9ICdtJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICBvcHRpb25zQXJyYXlbaV0gPSAnZyc7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2knOlxuICAgICAgICAgICAgb3B0aW9uc0FycmF5W2ldID0gJ2knO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgb2JqZWN0W25hbWVdID0gbmV3IFJlZ0V4cChzb3VyY2UsIG9wdGlvbnNBcnJheS5qb2luKCcnKSk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9SRUdFWFAgJiYgYnNvblJlZ0V4cCA9PT0gdHJ1ZSkge1xuICAgICAgLy8gR2V0IHRoZSBzdGFydCBzZWFyY2ggaW5kZXhcbiAgICAgIGkgPSBpbmRleDsgLy8gTG9jYXRlIHRoZSBlbmQgb2YgdGhlIGMgc3RyaW5nXG5cbiAgICAgIHdoaWxlIChidWZmZXIkJDFbaV0gIT09IDB4MDAgJiYgaSA8IGJ1ZmZlciQkMS5sZW5ndGgpIHtcbiAgICAgICAgaSsrO1xuICAgICAgfSAvLyBJZiBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBkb2N1bWVudFxuXG5cbiAgICAgIGlmIChpID49IGJ1ZmZlciQkMS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQmFkIEJTT04gRG9jdW1lbnQ6IGlsbGVnYWwgQ1N0cmluZycpOyAvLyBSZXR1cm4gdGhlIEMgc3RyaW5nXG5cbiAgICAgIHZhciBfc291cmNlID0gYnVmZmVyJCQxLnRvU3RyaW5nKCd1dGY4JywgaW5kZXgsIGkpO1xuXG4gICAgICBpbmRleCA9IGkgKyAxOyAvLyBHZXQgdGhlIHN0YXJ0IHNlYXJjaCBpbmRleFxuXG4gICAgICBpID0gaW5kZXg7IC8vIExvY2F0ZSB0aGUgZW5kIG9mIHRoZSBjIHN0cmluZ1xuXG4gICAgICB3aGlsZSAoYnVmZmVyJCQxW2ldICE9PSAweDAwICYmIGkgPCBidWZmZXIkJDEubGVuZ3RoKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH0gLy8gSWYgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciB0aGVyZSBpcyBhIHByb2JsZW0gd2l0aCB0aGUgZG9jdW1lbnRcblxuXG4gICAgICBpZiAoaSA+PSBidWZmZXIkJDEubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBCU09OIERvY3VtZW50OiBpbGxlZ2FsIENTdHJpbmcnKTsgLy8gUmV0dXJuIHRoZSBDIHN0cmluZ1xuXG4gICAgICB2YXIgX3JlZ0V4cE9wdGlvbnMgPSBidWZmZXIkJDEudG9TdHJpbmcoJ3V0ZjgnLCBpbmRleCwgaSk7XG5cbiAgICAgIGluZGV4ID0gaSArIDE7IC8vIFNldCB0aGUgb2JqZWN0XG5cbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyByZWdleHAoX3NvdXJjZSwgX3JlZ0V4cE9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfU1lNQk9MKSB7XG4gICAgICB2YXIgX3N0cmluZ1NpemUgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcblxuICAgICAgaWYgKF9zdHJpbmdTaXplIDw9IDAgfHwgX3N0cmluZ1NpemUgPiBidWZmZXIkJDEubGVuZ3RoIC0gaW5kZXggfHwgYnVmZmVyJCQxW2luZGV4ICsgX3N0cmluZ1NpemUgLSAxXSAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKCdiYWQgc3RyaW5nIGxlbmd0aCBpbiBic29uJyk7IC8vIHN5bWJvbCBpcyBkZXByZWNhdGVkIC0gdXBncmFkZSB0byBzdHJpbmcuXG5cbiAgICAgIG9iamVjdFtuYW1lXSA9IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpbmRleCArIF9zdHJpbmdTaXplIC0gMSk7XG4gICAgICBpbmRleCA9IGluZGV4ICsgX3N0cmluZ1NpemU7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9USU1FU1RBTVApIHtcbiAgICAgIHZhciBfbG93Qml0czIgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcblxuICAgICAgdmFyIF9oaWdoQml0czIgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcblxuICAgICAgb2JqZWN0W25hbWVdID0gbmV3IHRpbWVzdGFtcChfbG93Qml0czIsIF9oaWdoQml0czIpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfTUlOX0tFWSkge1xuICAgICAgb2JqZWN0W25hbWVdID0gbmV3IG1pbl9rZXkoKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX01BWF9LRVkpIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBtYXhfa2V5KCk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9DT0RFKSB7XG4gICAgICB2YXIgX3N0cmluZ1NpemUyID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG5cbiAgICAgIGlmIChfc3RyaW5nU2l6ZTIgPD0gMCB8fCBfc3RyaW5nU2l6ZTIgPiBidWZmZXIkJDEubGVuZ3RoIC0gaW5kZXggfHwgYnVmZmVyJCQxW2luZGV4ICsgX3N0cmluZ1NpemUyIC0gMV0gIT09IDApIHRocm93IG5ldyBFcnJvcignYmFkIHN0cmluZyBsZW5ndGggaW4gYnNvbicpO1xuICAgICAgdmFyIGZ1bmN0aW9uU3RyaW5nID0gYnVmZmVyJCQxLnRvU3RyaW5nKCd1dGY4JywgaW5kZXgsIGluZGV4ICsgX3N0cmluZ1NpemUyIC0gMSk7IC8vIElmIHdlIGFyZSBldmFsdWF0aW5nIHRoZSBmdW5jdGlvbnNcblxuICAgICAgaWYgKGV2YWxGdW5jdGlvbnMpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBjYWNoZSBlbmFibGVkIGxldCdzIGxvb2sgZm9yIHRoZSBtZDUgb2YgdGhlIGZ1bmN0aW9uIGluIHRoZSBjYWNoZVxuICAgICAgICBpZiAoY2FjaGVGdW5jdGlvbnMpIHtcbiAgICAgICAgICB2YXIgaGFzaCA9IGNhY2hlRnVuY3Rpb25zQ3JjMzIgPyBjcmMzMihmdW5jdGlvblN0cmluZykgOiBmdW5jdGlvblN0cmluZzsgLy8gR290IHRvIGRvIHRoaXMgdG8gYXZvaWQgVjggZGVvcHRpbWl6aW5nIHRoZSBjYWxsIGR1ZSB0byBmaW5kaW5nIGV2YWxcblxuICAgICAgICAgIG9iamVjdFtuYW1lXSA9IGlzb2xhdGVFdmFsV2l0aEhhc2goZnVuY3Rpb25DYWNoZSwgaGFzaCwgZnVuY3Rpb25TdHJpbmcsIG9iamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqZWN0W25hbWVdID0gaXNvbGF0ZUV2YWwoZnVuY3Rpb25TdHJpbmcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3RbbmFtZV0gPSBuZXcgY29kZShmdW5jdGlvblN0cmluZyk7XG4gICAgICB9IC8vIFVwZGF0ZSBwYXJzZSBpbmRleCBwb3NpdGlvblxuXG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBfc3RyaW5nU2l6ZTI7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9DT0RFX1dfU0NPUEUpIHtcbiAgICAgIHZhciB0b3RhbFNpemUgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDsgLy8gRWxlbWVudCBjYW5ub3QgYmUgc2hvcnRlciB0aGFuIHRvdGFsU2l6ZSArIHN0cmluZ1NpemUgKyBkb2N1bWVudFNpemUgKyB0ZXJtaW5hdG9yXG5cbiAgICAgIGlmICh0b3RhbFNpemUgPCA0ICsgNCArIDQgKyAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY29kZV93X3Njb3BlIHRvdGFsIHNpemUgc2hvcnRlciBtaW5pbXVtIGV4cGVjdGVkIGxlbmd0aCcpO1xuICAgICAgfSAvLyBHZXQgdGhlIGNvZGUgc3RyaW5nIHNpemVcblxuXG4gICAgICB2YXIgX3N0cmluZ1NpemUzID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7IC8vIENoZWNrIGlmIHdlIGhhdmUgYSB2YWxpZCBzdHJpbmdcblxuXG4gICAgICBpZiAoX3N0cmluZ1NpemUzIDw9IDAgfHwgX3N0cmluZ1NpemUzID4gYnVmZmVyJCQxLmxlbmd0aCAtIGluZGV4IHx8IGJ1ZmZlciQkMVtpbmRleCArIF9zdHJpbmdTaXplMyAtIDFdICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBzdHJpbmcgbGVuZ3RoIGluIGJzb24nKTsgLy8gSmF2YXNjcmlwdCBmdW5jdGlvblxuXG4gICAgICB2YXIgX2Z1bmN0aW9uU3RyaW5nID0gYnVmZmVyJCQxLnRvU3RyaW5nKCd1dGY4JywgaW5kZXgsIGluZGV4ICsgX3N0cmluZ1NpemUzIC0gMSk7IC8vIFVwZGF0ZSBwYXJzZSBpbmRleCBwb3NpdGlvblxuXG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBfc3RyaW5nU2l6ZTM7IC8vIFBhcnNlIHRoZSBlbGVtZW50XG5cbiAgICAgIHZhciBfaW5kZXgzID0gaW5kZXg7IC8vIERlY29kZSB0aGUgc2l6ZSBvZiB0aGUgb2JqZWN0IGRvY3VtZW50XG5cbiAgICAgIHZhciBfb2JqZWN0U2l6ZTIgPSBidWZmZXIkJDFbaW5kZXhdIHwgYnVmZmVyJCQxW2luZGV4ICsgMV0gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCArIDJdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4ICsgM10gPDwgMjQ7IC8vIERlY29kZSB0aGUgc2NvcGUgb2JqZWN0XG5cblxuICAgICAgdmFyIHNjb3BlT2JqZWN0ID0gZGVzZXJpYWxpemVPYmplY3QoYnVmZmVyJCQxLCBfaW5kZXgzLCBvcHRpb25zLCBmYWxzZSk7IC8vIEFkanVzdCB0aGUgaW5kZXhcblxuICAgICAgaW5kZXggPSBpbmRleCArIF9vYmplY3RTaXplMjsgLy8gQ2hlY2sgaWYgZmllbGQgbGVuZ3RoIGlzIHRvIHNob3J0XG5cbiAgICAgIGlmICh0b3RhbFNpemUgPCA0ICsgNCArIF9vYmplY3RTaXplMiArIF9zdHJpbmdTaXplMykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvZGVfd19zY29wZSB0b3RhbCBzaXplIGlzIHRvIHNob3J0LCB0cnVuY2F0aW5nIHNjb3BlJyk7XG4gICAgICB9IC8vIENoZWNrIGlmIHRvdGFsU2l6ZSBmaWVsZCBpcyB0byBsb25nXG5cblxuICAgICAgaWYgKHRvdGFsU2l6ZSA+IDQgKyA0ICsgX29iamVjdFNpemUyICsgX3N0cmluZ1NpemUzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY29kZV93X3Njb3BlIHRvdGFsIHNpemUgaXMgdG8gbG9uZywgY2xpcHMgb3V0ZXIgZG9jdW1lbnQnKTtcbiAgICAgIH0gLy8gSWYgd2UgYXJlIGV2YWx1YXRpbmcgdGhlIGZ1bmN0aW9uc1xuXG5cbiAgICAgIGlmIChldmFsRnVuY3Rpb25zKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgY2FjaGUgZW5hYmxlZCBsZXQncyBsb29rIGZvciB0aGUgbWQ1IG9mIHRoZSBmdW5jdGlvbiBpbiB0aGUgY2FjaGVcbiAgICAgICAgaWYgKGNhY2hlRnVuY3Rpb25zKSB7XG4gICAgICAgICAgdmFyIF9oYXNoID0gY2FjaGVGdW5jdGlvbnNDcmMzMiA/IGNyYzMyKF9mdW5jdGlvblN0cmluZykgOiBfZnVuY3Rpb25TdHJpbmc7IC8vIEdvdCB0byBkbyB0aGlzIHRvIGF2b2lkIFY4IGRlb3B0aW1pemluZyB0aGUgY2FsbCBkdWUgdG8gZmluZGluZyBldmFsXG5cblxuICAgICAgICAgIG9iamVjdFtuYW1lXSA9IGlzb2xhdGVFdmFsV2l0aEhhc2goZnVuY3Rpb25DYWNoZSwgX2hhc2gsIF9mdW5jdGlvblN0cmluZywgb2JqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmplY3RbbmFtZV0gPSBpc29sYXRlRXZhbChfZnVuY3Rpb25TdHJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqZWN0W25hbWVdLnNjb3BlID0gc2NvcGVPYmplY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3RbbmFtZV0gPSBuZXcgY29kZShfZnVuY3Rpb25TdHJpbmcsIHNjb3BlT2JqZWN0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX0RCUE9JTlRFUikge1xuICAgICAgLy8gR2V0IHRoZSBjb2RlIHN0cmluZyBzaXplXG4gICAgICB2YXIgX3N0cmluZ1NpemU0ID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7IC8vIENoZWNrIGlmIHdlIGhhdmUgYSB2YWxpZCBzdHJpbmdcblxuXG4gICAgICBpZiAoX3N0cmluZ1NpemU0IDw9IDAgfHwgX3N0cmluZ1NpemU0ID4gYnVmZmVyJCQxLmxlbmd0aCAtIGluZGV4IHx8IGJ1ZmZlciQkMVtpbmRleCArIF9zdHJpbmdTaXplNCAtIDFdICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBzdHJpbmcgbGVuZ3RoIGluIGJzb24nKTsgLy8gTmFtZXNwYWNlXG5cbiAgICAgIGlmICghdmFsaWRhdGVVdGY4JDEoYnVmZmVyJCQxLCBpbmRleCwgaW5kZXggKyBfc3RyaW5nU2l6ZTQgLSAxKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVVRGLTggc3RyaW5nIGluIEJTT04gZG9jdW1lbnQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5hbWVzcGFjZSA9IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpbmRleCArIF9zdHJpbmdTaXplNCAtIDEpOyAvLyBVcGRhdGUgcGFyc2UgaW5kZXggcG9zaXRpb25cblxuICAgICAgaW5kZXggPSBpbmRleCArIF9zdHJpbmdTaXplNDsgLy8gUmVhZCB0aGUgb2lkXG5cbiAgICAgIHZhciBvaWRCdWZmZXIgPSBCdWZmZXIkNC5hbGxvYygxMik7XG4gICAgICBidWZmZXIkJDEuY29weShvaWRCdWZmZXIsIDAsIGluZGV4LCBpbmRleCArIDEyKTtcblxuICAgICAgdmFyIF9vaWQgPSBuZXcgb2JqZWN0aWQob2lkQnVmZmVyKTsgLy8gVXBkYXRlIHRoZSBpbmRleFxuXG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyAxMjsgLy8gVXBncmFkZSB0byBEQlJlZiB0eXBlXG5cbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBkYl9yZWYobmFtZXNwYWNlLCBfb2lkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZXRlY3RlZCB1bmtub3duIEJTT04gdHlwZSAnICsgZWxlbWVudFR5cGUudG9TdHJpbmcoMTYpICsgJyBmb3IgZmllbGRuYW1lIFwiJyArIG5hbWUgKyAnXCIsIGFyZSB5b3UgdXNpbmcgdGhlIGxhdGVzdCBCU09OIHBhcnNlcj8nKTtcbiAgICB9XG4gIH0gLy8gQ2hlY2sgaWYgdGhlIGRlc2VyaWFsaXphdGlvbiB3YXMgYWdhaW5zdCBhIHZhbGlkIGFycmF5L29iamVjdFxuXG5cbiAgaWYgKHNpemUgIT09IGluZGV4IC0gc3RhcnRJbmRleCkge1xuICAgIGlmIChpc0FycmF5KSB0aHJvdyBuZXcgRXJyb3IoJ2NvcnJ1cHQgYXJyYXkgYnNvbicpO1xuICAgIHRocm93IG5ldyBFcnJvcignY29ycnVwdCBvYmplY3QgYnNvbicpO1xuICB9IC8vIGNoZWNrIGlmIG9iamVjdCdzICQga2V5cyBhcmUgdGhvc2Ugb2YgYSBEQlJlZlxuXG5cbiAgdmFyIGRvbGxhcktleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBrLnN0YXJ0c1dpdGgoJyQnKTtcbiAgfSk7XG4gIHZhciB2YWxpZCA9IHRydWU7XG4gIGRvbGxhcktleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGlmIChbJyRyZWYnLCAnJGlkJywgJyRkYiddLmluZGV4T2YoaykgPT09IC0xKSB2YWxpZCA9IGZhbHNlO1xuICB9KTsgLy8gaWYgYSAka2V5IG5vdCBpbiBcIiRyZWZcIiwgXCIkaWRcIiwgXCIkZGJcIiwgZG9uJ3QgbWFrZSBhIERCUmVmXG5cbiAgaWYgKCF2YWxpZCkgcmV0dXJuIG9iamVjdDtcblxuICBpZiAob2JqZWN0WyckaWQnXSAhPSBudWxsICYmIG9iamVjdFsnJHJlZiddICE9IG51bGwpIHtcbiAgICB2YXIgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIG9iamVjdCk7XG4gICAgZGVsZXRlIGNvcHkuJHJlZjtcbiAgICBkZWxldGUgY29weS4kaWQ7XG4gICAgZGVsZXRlIGNvcHkuJGRiO1xuICAgIHJldHVybiBuZXcgZGJfcmVmKG9iamVjdC4kcmVmLCBvYmplY3QuJGlkLCBvYmplY3QuJGRiIHx8IG51bGwsIGNvcHkpO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cbi8qKlxuICogRW5zdXJlIGV2YWwgaXMgaXNvbGF0ZWQuXG4gKlxuICogQGlnbm9yZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBpc29sYXRlRXZhbFdpdGhIYXNoKGZ1bmN0aW9uQ2FjaGUsIGhhc2gsIGZ1bmN0aW9uU3RyaW5nLCBvYmplY3QpIHtcbiAgLy8gQ29udGFpbnMgdGhlIHZhbHVlIHdlIGFyZSBnb2luZyB0byBzZXRcbiAgdmFyIHZhbHVlID0gbnVsbDsgLy8gQ2hlY2sgZm9yIGNhY2hlIGhpdCwgZXZhbCBpZiBtaXNzaW5nIGFuZCByZXR1cm4gY2FjaGVkIGZ1bmN0aW9uXG5cbiAgaWYgKGZ1bmN0aW9uQ2FjaGVbaGFzaF0gPT0gbnVsbCkge1xuICAgIGV2YWwoJ3ZhbHVlID0gJyArIGZ1bmN0aW9uU3RyaW5nKTtcbiAgICBmdW5jdGlvbkNhY2hlW2hhc2hdID0gdmFsdWU7XG4gIH0gLy8gU2V0IHRoZSBvYmplY3RcblxuXG4gIHJldHVybiBmdW5jdGlvbkNhY2hlW2hhc2hdLmJpbmQob2JqZWN0KTtcbn1cbi8qKlxuICogRW5zdXJlIGV2YWwgaXMgaXNvbGF0ZWQuXG4gKlxuICogQGlnbm9yZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBpc29sYXRlRXZhbChmdW5jdGlvblN0cmluZykge1xuICAvLyBDb250YWlucyB0aGUgdmFsdWUgd2UgYXJlIGdvaW5nIHRvIHNldFxuICB2YXIgdmFsdWUgPSBudWxsOyAvLyBFdmFsIHRoZSBmdW5jdGlvblxuXG4gIGV2YWwoJ3ZhbHVlID0gJyArIGZ1bmN0aW9uU3RyaW5nKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgZGVzZXJpYWxpemVyID0gZGVzZXJpYWxpemUkMTtcblxuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuLy9cbi8vICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbi8vICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vL1xuLy8gICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuLy8gICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuLy8gICAgYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4vL1xuLy8gICogTmVpdGhlciB0aGUgbmFtZSBvZiBGYWlyIE9ha3MgTGFicywgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnNcbi8vICAgIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuLy8gICAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbi8vIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbi8vIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4vLyBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4vLyBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4vLyBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuLy8gU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4vLyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuLy8gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbi8vIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4vLyBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbi8vXG4vL1xuLy8gTW9kaWZpY2F0aW9ucyB0byB3cml0ZUlFRUU3NTQgdG8gc3VwcG9ydCBuZWdhdGl2ZSB6ZXJvZXMgbWFkZSBieSBCcmlhbiBXaGl0ZVxuXG5mdW5jdGlvbiByZWFkSUVFRTc1NChidWZmZXIkJDEsIG9mZnNldCwgZW5kaWFuLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsXG4gICAgICBtLFxuICAgICAgYkJFID0gZW5kaWFuID09PSAnYmlnJyxcbiAgICAgIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDEsXG4gICAgICBlTWF4ID0gKDEgPDwgZUxlbikgLSAxLFxuICAgICAgZUJpYXMgPSBlTWF4ID4+IDEsXG4gICAgICBuQml0cyA9IC03LFxuICAgICAgaSA9IGJCRSA/IDAgOiBuQnl0ZXMgLSAxLFxuICAgICAgZCA9IGJCRSA/IDEgOiAtMSxcbiAgICAgIHMgPSBidWZmZXIkJDFbb2Zmc2V0ICsgaV07XG4gIGkgKz0gZDtcbiAgZSA9IHMgJiAoMSA8PCAtbkJpdHMpIC0gMTtcbiAgcyA+Pj0gLW5CaXRzO1xuICBuQml0cyArPSBlTGVuO1xuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyJCQxW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHtcbiAgfVxuXG4gIG0gPSBlICYgKDEgPDwgLW5CaXRzKSAtIDE7XG4gIGUgPj49IC1uQml0cztcbiAgbkJpdHMgKz0gbUxlbjtcblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gbSAqIDI1NiArIGJ1ZmZlciQkMVtvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7XG4gIH1cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXM7XG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKHMgPyAtMSA6IDEpICogSW5maW5pdHk7XG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKTtcbiAgICBlID0gZSAtIGVCaWFzO1xuICB9XG5cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbik7XG59XG5cbmZ1bmN0aW9uIHdyaXRlSUVFRTc1NChidWZmZXIkJDEsIHZhbHVlLCBvZmZzZXQsIGVuZGlhbiwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLFxuICAgICAgbSxcbiAgICAgIGMsXG4gICAgICBiQkUgPSBlbmRpYW4gPT09ICdiaWcnLFxuICAgICAgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMSxcbiAgICAgIGVNYXggPSAoMSA8PCBlTGVuKSAtIDEsXG4gICAgICBlQmlhcyA9IGVNYXggPj4gMSxcbiAgICAgIHJ0ID0gbUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDAsXG4gICAgICBpID0gYkJFID8gbkJ5dGVzIC0gMSA6IDAsXG4gICAgICBkID0gYkJFID8gLTEgOiAxLFxuICAgICAgcyA9IHZhbHVlIDwgMCB8fCB2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwID8gMSA6IDA7XG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwO1xuICAgIGUgPSBlTWF4O1xuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKTtcblxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLTtcbiAgICAgIGMgKj0gMjtcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gYztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrO1xuICAgICAgYyAvPSAyO1xuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDA7XG4gICAgICBlID0gZU1heDtcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogTWF0aC5wb3coMiwgbUxlbik7XG4gICAgICBlID0gZSArIGVCaWFzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbik7XG4gICAgICBlID0gMDtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNOYU4odmFsdWUpKSBtID0gMDtcblxuICB3aGlsZSAobUxlbiA+PSA4KSB7XG4gICAgYnVmZmVyJCQxW29mZnNldCArIGldID0gbSAmIDB4ZmY7XG4gICAgaSArPSBkO1xuICAgIG0gLz0gMjU2O1xuICAgIG1MZW4gLT0gODtcbiAgfVxuXG4gIGUgPSBlIDw8IG1MZW4gfCBtO1xuICBpZiAoaXNOYU4odmFsdWUpKSBlICs9IDg7XG4gIGVMZW4gKz0gbUxlbjtcblxuICB3aGlsZSAoZUxlbiA+IDApIHtcbiAgICBidWZmZXIkJDFbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZjtcbiAgICBpICs9IGQ7XG4gICAgZSAvPSAyNTY7XG4gICAgZUxlbiAtPSA4O1xuICB9XG5cbiAgYnVmZmVyJCQxW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4O1xufVxuXG52YXIgZmxvYXRfcGFyc2VyID0ge1xuICByZWFkSUVFRTc1NDogcmVhZElFRUU3NTQsXG4gIHdyaXRlSUVFRTc1NDogd3JpdGVJRUVFNzU0XG59O1xuXG5mdW5jdGlvbiBfdHlwZW9mJDMob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mJDMgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiQzID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2YkMyhvYmopOyB9XG5cbnZhciBCdWZmZXIkNSA9IGJ1ZmZlci5CdWZmZXI7XG52YXIgd3JpdGVJRUVFNzU0JDEgPSBmbG9hdF9wYXJzZXIud3JpdGVJRUVFNzU0O1xudmFyIG5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyQxID0gdXRpbHMubm9ybWFsaXplZEZ1bmN0aW9uU3RyaW5nO1xudmFyIHJlZ2V4cCQxID0gL1xceDAwLzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb250cm9sLXJlZ2V4XG5cbnZhciBpZ25vcmVLZXlzID0gbmV3IFNldChbJyRkYicsICckcmVmJywgJyRpZCcsICckY2x1c3RlclRpbWUnXSk7IC8vIFRvIGVuc3VyZSB0aGF0IDAuNCBvZiBub2RlIHdvcmtzIGNvcnJlY3RseVxuXG52YXIgaXNEYXRlJDEgPSBmdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gX3R5cGVvZiQzKGQpID09PSAnb2JqZWN0JyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn07XG5cbnZhciBpc1JlZ0V4cCQxID0gZnVuY3Rpb24gaXNSZWdFeHAoZCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGQpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn07XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVN0cmluZyhidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIEVuY29kZSBTdHJpbmcgdHlwZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX1NUUklORzsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgKyAxO1xuICBidWZmZXIkJDFbaW5kZXggLSAxXSA9IDA7IC8vIFdyaXRlIHRoZSBzdHJpbmdcblxuICB2YXIgc2l6ZSA9IGJ1ZmZlciQkMS53cml0ZSh2YWx1ZSwgaW5kZXggKyA0LCAndXRmOCcpOyAvLyBXcml0ZSB0aGUgc2l6ZSBvZiB0aGUgc3RyaW5nIHRvIGJ1ZmZlclxuXG4gIGJ1ZmZlciQkMVtpbmRleCArIDNdID0gc2l6ZSArIDEgPj4gMjQgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXggKyAyXSA9IHNpemUgKyAxID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4ICsgMV0gPSBzaXplICsgMSA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4XSA9IHNpemUgKyAxICYgMHhmZjsgLy8gVXBkYXRlIGluZGV4XG5cbiAgaW5kZXggPSBpbmRleCArIDQgKyBzaXplOyAvLyBXcml0ZSB6ZXJvXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVOdW1iZXIoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBXZSBoYXZlIGFuIGludGVnZXIgdmFsdWVcbiAgaWYgKE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZSAmJiB2YWx1ZSA+PSBjb25zdGFudHMuSlNfSU5UX01JTiAmJiB2YWx1ZSA8PSBjb25zdGFudHMuSlNfSU5UX01BWCkge1xuICAgIC8vIElmIHRoZSB2YWx1ZSBmaXRzIGluIDMyIGJpdHMgZW5jb2RlIGFzIGludCwgaWYgaXQgZml0cyBpbiBhIGRvdWJsZVxuICAgIC8vIGVuY29kZSBpdCBhcyBhIGRvdWJsZSwgb3RoZXJ3aXNlIGxvbmdcbiAgICBpZiAodmFsdWUgPj0gY29uc3RhbnRzLkJTT05fSU5UMzJfTUlOICYmIHZhbHVlIDw9IGNvbnN0YW50cy5CU09OX0lOVDMyX01BWCkge1xuICAgICAgLy8gU2V0IGludCB0eXBlIDMyIGJpdHMgb3IgbGVzc1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9JTlQ7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgICAgIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gICAgICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSB0aGUgaW50IHZhbHVlXG5cbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHZhbHVlICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHZhbHVlID4+IDggJiAweGZmO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUgPj4gMTYgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUgPj4gMjQgJiAweGZmO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPj0gY29uc3RhbnRzLkpTX0lOVF9NSU4gJiYgdmFsdWUgPD0gY29uc3RhbnRzLkpTX0lOVF9NQVgpIHtcbiAgICAgIC8vIEVuY29kZSBhcyBkb3VibGVcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfTlVNQkVSOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gICAgICB2YXIgX251bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cblxuICAgICAgaW5kZXggPSBpbmRleCArIF9udW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIFdyaXRlIGZsb2F0XG5cbiAgICAgIHdyaXRlSUVFRTc1NCQxKGJ1ZmZlciQkMSwgdmFsdWUsIGluZGV4LCAnbGl0dGxlJywgNTIsIDgpOyAvLyBBanVzdCBpbmRleFxuXG4gICAgICBpbmRleCA9IGluZGV4ICsgODtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0IGxvbmcgdHlwZVxuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9MT05HOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gICAgICB2YXIgX251bWJlck9mV3JpdHRlbkJ5dGVzMiA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBfbnVtYmVyT2ZXcml0dGVuQnl0ZXMyO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgICAgIHZhciBsb25nVmFsID0gbG9uZ18xLmZyb21OdW1iZXIodmFsdWUpO1xuICAgICAgdmFyIGxvd0JpdHMgPSBsb25nVmFsLmdldExvd0JpdHMoKTtcbiAgICAgIHZhciBoaWdoQml0cyA9IGxvbmdWYWwuZ2V0SGlnaEJpdHMoKTsgLy8gRW5jb2RlIGxvdyBiaXRzXG5cbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyA+PiA4ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgPj4gMTYgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyA+PiAyNCAmIDB4ZmY7IC8vIEVuY29kZSBoaWdoIGJpdHNcblxuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgPj4gOCAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyA+PiAxNiAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyA+PiAyNCAmIDB4ZmY7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEVuY29kZSBhcyBkb3VibGVcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX05VTUJFUjsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICAgIHZhciBfbnVtYmVyT2ZXcml0dGVuQnl0ZXMzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cblxuICAgIGluZGV4ID0gaW5kZXggKyBfbnVtYmVyT2ZXcml0dGVuQnl0ZXMzO1xuICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIFdyaXRlIGZsb2F0XG5cbiAgICB3cml0ZUlFRUU3NTQkMShidWZmZXIkJDEsIHZhbHVlLCBpbmRleCwgJ2xpdHRsZScsIDUyLCA4KTsgLy8gQWp1c3QgaW5kZXhcblxuICAgIGluZGV4ID0gaW5kZXggKyA4O1xuICB9XG5cbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVOdWxsKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gU2V0IGxvbmcgdHlwZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX05VTEw7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUJvb2xlYW4oYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBXcml0ZSB0aGUgdHlwZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX0JPT0xFQU47IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBFbmNvZGUgdGhlIGJvb2xlYW4gdmFsdWVcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSB2YWx1ZSA/IDEgOiAwO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBXcml0ZSB0aGUgdHlwZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX0RBVEU7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSB0aGUgZGF0ZVxuXG4gIHZhciBkYXRlSW5NaWxpcyA9IGxvbmdfMS5mcm9tTnVtYmVyKHZhbHVlLmdldFRpbWUoKSk7XG4gIHZhciBsb3dCaXRzID0gZGF0ZUluTWlsaXMuZ2V0TG93Qml0cygpO1xuICB2YXIgaGlnaEJpdHMgPSBkYXRlSW5NaWxpcy5nZXRIaWdoQml0cygpOyAvLyBFbmNvZGUgbG93IGJpdHNcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBsb3dCaXRzICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgPj4gMjQgJiAweGZmOyAvLyBFbmNvZGUgaGlnaCBiaXRzXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyA+PiAyNCAmIDB4ZmY7XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplUmVnRXhwKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9SRUdFWFA7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwO1xuXG4gIGlmICh2YWx1ZS5zb3VyY2UgJiYgdmFsdWUuc291cmNlLm1hdGNoKHJlZ2V4cCQxKSAhPSBudWxsKSB7XG4gICAgdGhyb3cgRXJyb3IoJ3ZhbHVlICcgKyB2YWx1ZS5zb3VyY2UgKyAnIG11c3Qgbm90IGNvbnRhaW4gbnVsbCBieXRlcycpO1xuICB9IC8vIEFkanVzdCB0aGUgaW5kZXhcblxuXG4gIGluZGV4ID0gaW5kZXggKyBidWZmZXIkJDEud3JpdGUodmFsdWUuc291cmNlLCBpbmRleCwgJ3V0ZjgnKTsgLy8gV3JpdGUgemVyb1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDB4MDA7IC8vIFdyaXRlIHRoZSBwYXJhbWV0ZXJzXG5cbiAgaWYgKHZhbHVlLmlnbm9yZUNhc2UpIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDB4Njk7IC8vIGlcblxuICBpZiAodmFsdWUuZ2xvYmFsKSBidWZmZXIkJDFbaW5kZXgrK10gPSAweDczOyAvLyBzXG5cbiAgaWYgKHZhbHVlLm11bHRpbGluZSkgYnVmZmVyJCQxW2luZGV4KytdID0gMHg2ZDsgLy8gbVxuICAvLyBBZGQgZW5kaW5nIHplcm9cblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSAweDAwO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUJTT05SZWdFeHAoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBXcml0ZSB0aGUgdHlwZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX1JFR0VYUDsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIENoZWNrIHRoZSBwYXR0ZXJuIGZvciAwIGJ5dGVzXG5cbiAgaWYgKHZhbHVlLnBhdHRlcm4ubWF0Y2gocmVnZXhwJDEpICE9IG51bGwpIHtcbiAgICAvLyBUaGUgQlNPTiBzcGVjIGRvZXNuJ3QgYWxsb3cga2V5cyB3aXRoIG51bGwgYnl0ZXMgYmVjYXVzZSBrZXlzIGFyZVxuICAgIC8vIG51bGwtdGVybWluYXRlZC5cbiAgICB0aHJvdyBFcnJvcigncGF0dGVybiAnICsgdmFsdWUucGF0dGVybiArICcgbXVzdCBub3QgY29udGFpbiBudWxsIGJ5dGVzJyk7XG4gIH0gLy8gQWRqdXN0IHRoZSBpbmRleFxuXG5cbiAgaW5kZXggPSBpbmRleCArIGJ1ZmZlciQkMS53cml0ZSh2YWx1ZS5wYXR0ZXJuLCBpbmRleCwgJ3V0ZjgnKTsgLy8gV3JpdGUgemVyb1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDB4MDA7IC8vIFdyaXRlIHRoZSBvcHRpb25zXG5cbiAgaW5kZXggPSBpbmRleCArIGJ1ZmZlciQkMS53cml0ZSh2YWx1ZS5vcHRpb25zLnNwbGl0KCcnKS5zb3J0KCkuam9pbignJyksIGluZGV4LCAndXRmOCcpOyAvLyBBZGQgZW5kaW5nIHplcm9cblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSAweDAwO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZU1pbk1heChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlIG9mIGVpdGhlciBtaW4gb3IgbWF4IGtleVxuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX05VTEw7XG4gIH0gZWxzZSBpZiAodmFsdWUuX2Jzb250eXBlID09PSAnTWluS2V5Jykge1xuICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfTUlOX0tFWTtcbiAgfSBlbHNlIHtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX01BWF9LRVk7XG4gIH0gLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3RJZChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfT0lEOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gV3JpdGUgdGhlIG9iamVjdElkIGludG8gdGhlIHNoYXJlZCBidWZmZXJcblxuICBpZiAodHlwZW9mIHZhbHVlLmlkID09PSAnc3RyaW5nJykge1xuICAgIGJ1ZmZlciQkMS53cml0ZSh2YWx1ZS5pZCwgaW5kZXgsICdiaW5hcnknKTtcbiAgfSBlbHNlIGlmICh2YWx1ZS5pZCAmJiB2YWx1ZS5pZC5jb3B5KSB7XG4gICAgdmFsdWUuaWQuY29weShidWZmZXIkJDEsIGluZGV4LCAwLCAxMik7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb2JqZWN0IFsnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ10gaXMgbm90IGEgdmFsaWQgT2JqZWN0SWQnKTtcbiAgfSAvLyBBanVzdCBpbmRleFxuXG5cbiAgcmV0dXJuIGluZGV4ICsgMTI7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUJ1ZmZlcihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfQklOQVJZOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gR2V0IHNpemUgb2YgdGhlIGJ1ZmZlciAoY3VycmVudCB3cml0ZSBwb2ludClcblxuICB2YXIgc2l6ZSA9IHZhbHVlLmxlbmd0aDsgLy8gV3JpdGUgdGhlIHNpemUgb2YgdGhlIHN0cmluZyB0byBidWZmZXJcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHNpemUgPj4gMjQgJiAweGZmOyAvLyBXcml0ZSB0aGUgZGVmYXVsdCBzdWJ0eXBlXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fQklOQVJZX1NVQlRZUEVfREVGQVVMVDsgLy8gQ29weSB0aGUgY29udGVudCBmb3JtIHRoZSBiaW5hcnkgZmllbGQgdG8gdGhlIGJ1ZmZlclxuXG4gIHZhbHVlLmNvcHkoYnVmZmVyJCQxLCBpbmRleCwgMCwgc2l6ZSk7IC8vIEFkanVzdCB0aGUgaW5kZXhcblxuICBpbmRleCA9IGluZGV4ICsgc2l6ZTtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3QoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgY2hlY2tLZXlzLCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQsIGlzQXJyYXksIHBhdGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHBhdGhbaV0gPT09IHZhbHVlKSB0aHJvdyBuZXcgRXJyb3IoJ2N5Y2xpYyBkZXBlbmRlbmN5IGRldGVjdGVkJyk7XG4gIH0gLy8gUHVzaCB2YWx1ZSB0byBzdGFja1xuXG5cbiAgcGF0aC5wdXNoKHZhbHVlKTsgLy8gV3JpdGUgdGhlIHR5cGVcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IGNvbnN0YW50cy5CU09OX0RBVEFfQVJSQVkgOiBjb25zdGFudHMuQlNPTl9EQVRBX09CSkVDVDsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7XG4gIHZhciBlbmRJbmRleCA9IHNlcmlhbGl6ZUludG8oYnVmZmVyJCQxLCB2YWx1ZSwgY2hlY2tLZXlzLCBpbmRleCwgZGVwdGggKyAxLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCwgcGF0aCk7IC8vIFBvcCBzdGFja1xuXG4gIHBhdGgucG9wKCk7XG4gIHJldHVybiBlbmRJbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplRGVjaW1hbDEyOChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfREVDSU1BTDEyODsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIFdyaXRlIHRoZSBkYXRhIGZyb20gdGhlIHZhbHVlXG5cbiAgdmFsdWUuYnl0ZXMuY29weShidWZmZXIkJDEsIGluZGV4LCAwLCAxNik7XG4gIHJldHVybiBpbmRleCArIDE2O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVMb25nKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUuX2Jzb250eXBlID09PSAnTG9uZycgPyBjb25zdGFudHMuQlNPTl9EQVRBX0xPTkcgOiBjb25zdGFudHMuQlNPTl9EQVRBX1RJTUVTVEFNUDsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIFdyaXRlIHRoZSBkYXRlXG5cbiAgdmFyIGxvd0JpdHMgPSB2YWx1ZS5nZXRMb3dCaXRzKCk7XG4gIHZhciBoaWdoQml0cyA9IHZhbHVlLmdldEhpZ2hCaXRzKCk7IC8vIEVuY29kZSBsb3cgYml0c1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBsb3dCaXRzID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBsb3dCaXRzID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyA+PiAyNCAmIDB4ZmY7IC8vIEVuY29kZSBoaWdoIGJpdHNcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGhpZ2hCaXRzID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGhpZ2hCaXRzID4+IDI0ICYgMHhmZjtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVJbnQzMihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFNldCBpbnQgdHlwZSAzMiBiaXRzIG9yIGxlc3NcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9JTlQ7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSB0aGUgaW50IHZhbHVlXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSB2YWx1ZSA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSB2YWx1ZSA+PiAyNCAmIDB4ZmY7XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplRG91YmxlKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gRW5jb2RlIGFzIGRvdWJsZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX05VTUJFUjsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIFdyaXRlIGZsb2F0XG5cbiAgd3JpdGVJRUVFNzU0JDEoYnVmZmVyJCQxLCB2YWx1ZS52YWx1ZSwgaW5kZXgsICdsaXR0bGUnLCA1MiwgOCk7IC8vIEFkanVzdCBpbmRleFxuXG4gIGluZGV4ID0gaW5kZXggKyA4O1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUZ1bmN0aW9uKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIGlzQXJyYXkpIHtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9DT0RFOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gRnVuY3Rpb24gc3RyaW5nXG5cbiAgdmFyIGZ1bmN0aW9uU3RyaW5nID0gbm9ybWFsaXplZEZ1bmN0aW9uU3RyaW5nJDEodmFsdWUpOyAvLyBXcml0ZSB0aGUgc3RyaW5nXG5cbiAgdmFyIHNpemUgPSBidWZmZXIkJDEud3JpdGUoZnVuY3Rpb25TdHJpbmcsIGluZGV4ICsgNCwgJ3V0ZjgnKSArIDE7IC8vIFdyaXRlIHRoZSBzaXplIG9mIHRoZSBzdHJpbmcgdG8gYnVmZmVyXG5cbiAgYnVmZmVyJCQxW2luZGV4XSA9IHNpemUgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXggKyAxXSA9IHNpemUgPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCArIDJdID0gc2l6ZSA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCArIDNdID0gc2l6ZSA+PiAyNCAmIDB4ZmY7IC8vIFVwZGF0ZSBpbmRleFxuXG4gIGluZGV4ID0gaW5kZXggKyA0ICsgc2l6ZSAtIDE7IC8vIFdyaXRlIHplcm9cblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNvZGUoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgY2hlY2tLZXlzLCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQsIGlzQXJyYXkpIHtcbiAgaWYgKHZhbHVlLnNjb3BlICYmIF90eXBlb2YkMyh2YWx1ZS5zY29wZSkgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX0NPREVfV19TQ09QRTsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICAgIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gICAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIFN0YXJ0aW5nIGluZGV4XG5cbiAgICB2YXIgc3RhcnRJbmRleCA9IGluZGV4OyAvLyBTZXJpYWxpemUgdGhlIGZ1bmN0aW9uXG4gICAgLy8gR2V0IHRoZSBmdW5jdGlvbiBzdHJpbmdcblxuICAgIHZhciBmdW5jdGlvblN0cmluZyA9IHR5cGVvZiB2YWx1ZS5jb2RlID09PSAnc3RyaW5nJyA/IHZhbHVlLmNvZGUgOiB2YWx1ZS5jb2RlLnRvU3RyaW5nKCk7IC8vIEluZGV4IGFkanVzdG1lbnRcblxuICAgIGluZGV4ID0gaW5kZXggKyA0OyAvLyBXcml0ZSBzdHJpbmcgaW50byBidWZmZXJcblxuICAgIHZhciBjb2RlU2l6ZSA9IGJ1ZmZlciQkMS53cml0ZShmdW5jdGlvblN0cmluZywgaW5kZXggKyA0LCAndXRmOCcpICsgMTsgLy8gV3JpdGUgdGhlIHNpemUgb2YgdGhlIHN0cmluZyB0byBidWZmZXJcblxuICAgIGJ1ZmZlciQkMVtpbmRleF0gPSBjb2RlU2l6ZSAmIDB4ZmY7XG4gICAgYnVmZmVyJCQxW2luZGV4ICsgMV0gPSBjb2RlU2l6ZSA+PiA4ICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXggKyAyXSA9IGNvZGVTaXplID4+IDE2ICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXggKyAzXSA9IGNvZGVTaXplID4+IDI0ICYgMHhmZjsgLy8gV3JpdGUgZW5kIDBcblxuICAgIGJ1ZmZlciQkMVtpbmRleCArIDQgKyBjb2RlU2l6ZSAtIDFdID0gMDsgLy8gV3JpdGUgdGhlXG5cbiAgICBpbmRleCA9IGluZGV4ICsgY29kZVNpemUgKyA0OyAvL1xuICAgIC8vIFNlcmlhbGl6ZSB0aGUgc2NvcGUgdmFsdWVcblxuICAgIHZhciBlbmRJbmRleCA9IHNlcmlhbGl6ZUludG8oYnVmZmVyJCQxLCB2YWx1ZS5zY29wZSwgY2hlY2tLZXlzLCBpbmRleCwgZGVwdGggKyAxLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCk7XG4gICAgaW5kZXggPSBlbmRJbmRleCAtIDE7IC8vIFdyaXQgdGhlIHRvdGFsXG5cbiAgICB2YXIgdG90YWxTaXplID0gZW5kSW5kZXggLSBzdGFydEluZGV4OyAvLyBXcml0ZSB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgb2JqZWN0XG5cbiAgICBidWZmZXIkJDFbc3RhcnRJbmRleCsrXSA9IHRvdGFsU2l6ZSAmIDB4ZmY7XG4gICAgYnVmZmVyJCQxW3N0YXJ0SW5kZXgrK10gPSB0b3RhbFNpemUgPj4gOCAmIDB4ZmY7XG4gICAgYnVmZmVyJCQxW3N0YXJ0SW5kZXgrK10gPSB0b3RhbFNpemUgPj4gMTYgJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtzdGFydEluZGV4KytdID0gdG90YWxTaXplID4+IDI0ICYgMHhmZjsgLy8gV3JpdGUgdHJhaWxpbmcgemVyb1xuXG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgfSBlbHNlIHtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX0NPREU7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgICB2YXIgX251bWJlck9mV3JpdHRlbkJ5dGVzNCA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG5cbiAgICBpbmRleCA9IGluZGV4ICsgX251bWJlck9mV3JpdHRlbkJ5dGVzNDtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBGdW5jdGlvbiBzdHJpbmdcblxuICAgIHZhciBfZnVuY3Rpb25TdHJpbmcgPSB2YWx1ZS5jb2RlLnRvU3RyaW5nKCk7IC8vIFdyaXRlIHRoZSBzdHJpbmdcblxuXG4gICAgdmFyIHNpemUgPSBidWZmZXIkJDEud3JpdGUoX2Z1bmN0aW9uU3RyaW5nLCBpbmRleCArIDQsICd1dGY4JykgKyAxOyAvLyBXcml0ZSB0aGUgc2l6ZSBvZiB0aGUgc3RyaW5nIHRvIGJ1ZmZlclxuXG4gICAgYnVmZmVyJCQxW2luZGV4XSA9IHNpemUgJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtpbmRleCArIDFdID0gc2l6ZSA+PiA4ICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXggKyAyXSA9IHNpemUgPj4gMTYgJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtpbmRleCArIDNdID0gc2l6ZSA+PiAyNCAmIDB4ZmY7IC8vIFVwZGF0ZSBpbmRleFxuXG4gICAgaW5kZXggPSBpbmRleCArIDQgKyBzaXplIC0gMTsgLy8gV3JpdGUgemVyb1xuXG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgfVxuXG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQmluYXJ5KGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9CSU5BUlk7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBFeHRyYWN0IHRoZSBidWZmZXJcblxuICB2YXIgZGF0YSA9IHZhbHVlLnZhbHVlKHRydWUpOyAvLyBDYWxjdWxhdGUgc2l6ZVxuXG4gIHZhciBzaXplID0gdmFsdWUucG9zaXRpb247IC8vIEFkZCB0aGUgZGVwcmVjYXRlZCAwMiB0eXBlIDQgYnl0ZXMgb2Ygc2l6ZSB0byB0b3RhbFxuXG4gIGlmICh2YWx1ZS5zdWJfdHlwZSA9PT0gYmluYXJ5LlNVQlRZUEVfQllURV9BUlJBWSkgc2l6ZSA9IHNpemUgKyA0OyAvLyBXcml0ZSB0aGUgc2l6ZSBvZiB0aGUgc3RyaW5nIHRvIGJ1ZmZlclxuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHNpemUgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSA+PiAyNCAmIDB4ZmY7IC8vIFdyaXRlIHRoZSBzdWJ0eXBlIHRvIHRoZSBidWZmZXJcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSB2YWx1ZS5zdWJfdHlwZTsgLy8gSWYgd2UgaGF2ZSBiaW5hcnkgdHlwZSAyIHRoZSA0IGZpcnN0IGJ5dGVzIGFyZSB0aGUgc2l6ZVxuXG4gIGlmICh2YWx1ZS5zdWJfdHlwZSA9PT0gYmluYXJ5LlNVQlRZUEVfQllURV9BUlJBWSkge1xuICAgIHNpemUgPSBzaXplIC0gNDtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplID4+IDggJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHNpemUgPj4gMTYgJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHNpemUgPj4gMjQgJiAweGZmO1xuICB9IC8vIFdyaXRlIHRoZSBkYXRhIHRvIHRoZSBvYmplY3RcblxuXG4gIGRhdGEuY29weShidWZmZXIkJDEsIGluZGV4LCAwLCB2YWx1ZS5wb3NpdGlvbik7IC8vIEFkanVzdCB0aGUgaW5kZXhcblxuICBpbmRleCA9IGluZGV4ICsgdmFsdWUucG9zaXRpb247XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplU3ltYm9sKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9TWU1CT0w7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSB0aGUgc3RyaW5nXG5cbiAgdmFyIHNpemUgPSBidWZmZXIkJDEud3JpdGUodmFsdWUudmFsdWUsIGluZGV4ICsgNCwgJ3V0ZjgnKSArIDE7IC8vIFdyaXRlIHRoZSBzaXplIG9mIHRoZSBzdHJpbmcgdG8gYnVmZmVyXG5cbiAgYnVmZmVyJCQxW2luZGV4XSA9IHNpemUgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXggKyAxXSA9IHNpemUgPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCArIDJdID0gc2l6ZSA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCArIDNdID0gc2l6ZSA+PiAyNCAmIDB4ZmY7IC8vIFVwZGF0ZSBpbmRleFxuXG4gIGluZGV4ID0gaW5kZXggKyA0ICsgc2l6ZSAtIDE7IC8vIFdyaXRlIHplcm9cblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSAweDAwO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZURCUmVmKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9PQkpFQ1Q7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwO1xuICB2YXIgc3RhcnRJbmRleCA9IGluZGV4O1xuICB2YXIgZW5kSW5kZXg7XG4gIHZhciBvdXRwdXQgPSB7XG4gICAgJHJlZjogdmFsdWUuY29sbGVjdGlvbiB8fCB2YWx1ZS5uYW1lc3BhY2UsXG4gICAgLy8gXCJuYW1lc3BhY2VcIiB3YXMgd2hhdCBsaWJyYXJ5IDEueCBjYWxsZWQgXCJjb2xsZWN0aW9uXCJcbiAgICAkaWQ6IHZhbHVlLm9pZFxuICB9O1xuICBpZiAodmFsdWUuZGIgIT0gbnVsbCkgb3V0cHV0LiRkYiA9IHZhbHVlLmRiO1xuICBvdXRwdXQgPSBPYmplY3QuYXNzaWduKG91dHB1dCwgdmFsdWUuZmllbGRzKTtcbiAgZW5kSW5kZXggPSBzZXJpYWxpemVJbnRvKGJ1ZmZlciQkMSwgb3V0cHV0LCBmYWxzZSwgaW5kZXgsIGRlcHRoICsgMSwgc2VyaWFsaXplRnVuY3Rpb25zKTsgLy8gQ2FsY3VsYXRlIG9iamVjdCBzaXplXG5cbiAgdmFyIHNpemUgPSBlbmRJbmRleCAtIHN0YXJ0SW5kZXg7IC8vIFdyaXRlIHRoZSBzaXplXG5cbiAgYnVmZmVyJCQxW3N0YXJ0SW5kZXgrK10gPSBzaXplICYgMHhmZjtcbiAgYnVmZmVyJCQxW3N0YXJ0SW5kZXgrK10gPSBzaXplID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbc3RhcnRJbmRleCsrXSA9IHNpemUgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbc3RhcnRJbmRleCsrXSA9IHNpemUgPj4gMjQgJiAweGZmOyAvLyBTZXQgaW5kZXhcblxuICByZXR1cm4gZW5kSW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUludG8oYnVmZmVyJCQxLCBvYmplY3QsIGNoZWNrS2V5cywgc3RhcnRpbmdJbmRleCwgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkLCBwYXRoKSB7XG4gIHN0YXJ0aW5nSW5kZXggPSBzdGFydGluZ0luZGV4IHx8IDA7XG4gIHBhdGggPSBwYXRoIHx8IFtdOyAvLyBQdXNoIHRoZSBvYmplY3QgdG8gdGhlIHBhdGhcblxuICBwYXRoLnB1c2gob2JqZWN0KTsgLy8gU3RhcnQgcGxhY2UgdG8gc2VyaWFsaXplIGludG9cblxuICB2YXIgaW5kZXggPSBzdGFydGluZ0luZGV4ICsgNDsgLy8gU3BlY2lhbCBjYXNlIGlzQXJyYXlcblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgLy8gR2V0IG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSAnJyArIGk7XG4gICAgICB2YXIgdmFsdWUgPSBvYmplY3RbaV07IC8vIElzIHRoZXJlIGFuIG92ZXJyaWRlIHZhbHVlXG5cbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS50b0JTT04pIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS50b0JTT04gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RvQlNPTiBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvQlNPTigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHlwZSA9IF90eXBlb2YkMyh2YWx1ZSk7XG5cbiAgICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZVN0cmluZyhidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVOdW1iZXIoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJvb2xlYW4oYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSB8fCBpc0RhdGUkMSh2YWx1ZSkpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEYXRlKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTnVsbChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVOdWxsKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdPYmplY3RJZCcgfHwgdmFsdWVbJ19ic29udHlwZSddID09PSAnT2JqZWN0SUQnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplT2JqZWN0SWQoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKEJ1ZmZlciQ1LmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJ1ZmZlcihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHAgfHwgaXNSZWdFeHAkMSh2YWx1ZSkpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVSZWdFeHAoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmIHZhbHVlWydfYnNvbnR5cGUnXSA9PSBudWxsKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplT2JqZWN0KGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkLCB0cnVlLCBwYXRoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcgJiYgdmFsdWVbJ19ic29udHlwZSddID09PSAnRGVjaW1hbDEyOCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEZWNpbWFsMTI4KGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdMb25nJyB8fCB2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdUaW1lc3RhbXAnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTG9uZyhidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnRG91YmxlJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZURvdWJsZShidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nICYmIHNlcmlhbGl6ZUZ1bmN0aW9ucykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUZ1bmN0aW9uKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0NvZGUnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQ29kZShidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0JpbmFyeScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCaW5hcnkoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVTeW1ib2woYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0RCUmVmJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZURCUmVmKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdCU09OUmVnRXhwJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJTT05SZWdFeHAoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0ludDMyJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUludDMyKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdNaW5LZXknIHx8IHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ01heEtleScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVNaW5NYXgoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVsnX2Jzb250eXBlJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VucmVjb2duaXplZCBvciBpbnZhbGlkIF9ic29udHlwZTogJyArIHZhbHVlWydfYnNvbnR5cGUnXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIG1hcCkge1xuICAgIHZhciBpdGVyYXRvciA9IG9iamVjdC5lbnRyaWVzKCk7XG4gICAgdmFyIGRvbmUgPSBmYWxzZTtcblxuICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgLy8gVW5wYWNrIHRoZSBuZXh0IGVudHJ5XG4gICAgICB2YXIgZW50cnkgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICBkb25lID0gZW50cnkuZG9uZTsgLy8gQXJlIHdlIGRvbmUsIHRoZW4gc2tpcCBhbmQgdGVybWluYXRlXG5cbiAgICAgIGlmIChkb25lKSBjb250aW51ZTsgLy8gR2V0IHRoZSBlbnRyeSB2YWx1ZXNcblxuICAgICAgdmFyIF9rZXkgPSBlbnRyeS52YWx1ZVswXTtcbiAgICAgIHZhciBfdmFsdWUgPSBlbnRyeS52YWx1ZVsxXTsgLy8gQ2hlY2sgdGhlIHR5cGUgb2YgdGhlIHZhbHVlXG5cbiAgICAgIHZhciBfdHlwZSA9IF90eXBlb2YkMyhfdmFsdWUpOyAvLyBDaGVjayB0aGUga2V5IGFuZCB0aHJvdyBlcnJvciBpZiBpdCdzIGlsbGVnYWxcblxuXG4gICAgICBpZiAodHlwZW9mIF9rZXkgPT09ICdzdHJpbmcnICYmICFpZ25vcmVLZXlzLmhhcyhfa2V5KSkge1xuICAgICAgICBpZiAoX2tleS5tYXRjaChyZWdleHAkMSkgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRoZSBCU09OIHNwZWMgZG9lc24ndCBhbGxvdyBrZXlzIHdpdGggbnVsbCBieXRlcyBiZWNhdXNlIGtleXMgYXJlXG4gICAgICAgICAgLy8gbnVsbC10ZXJtaW5hdGVkLlxuICAgICAgICAgIHRocm93IEVycm9yKCdrZXkgJyArIF9rZXkgKyAnIG11c3Qgbm90IGNvbnRhaW4gbnVsbCBieXRlcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoZWNrS2V5cykge1xuICAgICAgICAgIGlmICgnJCcgPT09IF9rZXlbMF0pIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdrZXkgJyArIF9rZXkgKyBcIiBtdXN0IG5vdCBzdGFydCB3aXRoICckJ1wiKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKH5fa2V5LmluZGV4T2YoJy4nKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2tleSAnICsgX2tleSArIFwiIG11c3Qgbm90IGNvbnRhaW4gJy4nXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoX3R5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplU3RyaW5nKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF90eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU51bWJlcihidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQm9vbGVhbihidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUgaW5zdGFuY2VvZiBEYXRlIHx8IGlzRGF0ZSQxKF92YWx1ZSkpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEYXRlKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZSA9PT0gbnVsbCB8fCBfdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBpZ25vcmVVbmRlZmluZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTnVsbChidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnT2JqZWN0SWQnIHx8IF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdPYmplY3RJRCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVPYmplY3RJZChidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChCdWZmZXIkNS5pc0J1ZmZlcihfdmFsdWUpKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQnVmZmVyKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCB8fCBpc1JlZ0V4cCQxKF92YWx1ZSkpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVSZWdFeHAoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3R5cGUgPT09ICdvYmplY3QnICYmIF92YWx1ZVsnX2Jzb250eXBlJ10gPT0gbnVsbCkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU9iamVjdChidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkLCBmYWxzZSwgcGF0aCk7XG4gICAgICB9IGVsc2UgaWYgKF90eXBlID09PSAnb2JqZWN0JyAmJiBfdmFsdWVbJ19ic29udHlwZSddID09PSAnRGVjaW1hbDEyOCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEZWNpbWFsMTI4KGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdMb25nJyB8fCBfdmFsdWVbJ19ic29udHlwZSddID09PSAnVGltZXN0YW1wJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUxvbmcoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0RvdWJsZScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEb3VibGUoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0NvZGUnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQ29kZShidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF92YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzZXJpYWxpemVGdW5jdGlvbnMpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVGdW5jdGlvbihidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucyk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdCaW5hcnknKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQmluYXJ5KGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdTeW1ib2wnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplU3ltYm9sKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdEQlJlZicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEQlJlZihidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnQlNPTlJlZ0V4cCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCU09OUmVnRXhwKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdJbnQzMicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVJbnQzMihidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnTWluS2V5JyB8fCBfdmFsdWVbJ19ic29udHlwZSddID09PSAnTWF4S2V5Jykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU1pbk1heChidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3ZhbHVlWydfYnNvbnR5cGUnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5yZWNvZ25pemVkIG9yIGludmFsaWQgX2Jzb250eXBlOiAnICsgX3ZhbHVlWydfYnNvbnR5cGUnXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIERpZCB3ZSBwcm92aWRlIGEgY3VzdG9tIHNlcmlhbGl6YXRpb24gbWV0aG9kXG4gICAgaWYgKG9iamVjdC50b0JTT04pIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LnRvQlNPTiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcigndG9CU09OIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICBvYmplY3QgPSBvYmplY3QudG9CU09OKCk7XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwgJiYgX3R5cGVvZiQzKG9iamVjdCkgIT09ICdvYmplY3QnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCd0b0JTT04gZnVuY3Rpb24gZGlkIG5vdCByZXR1cm4gYW4gb2JqZWN0Jyk7XG4gICAgfSAvLyBJdGVyYXRlIG92ZXIgYWxsIHRoZSBrZXlzXG5cblxuICAgIGZvciAodmFyIF9rZXkyIGluIG9iamVjdCkge1xuICAgICAgdmFyIF92YWx1ZTIgPSBvYmplY3RbX2tleTJdOyAvLyBJcyB0aGVyZSBhbiBvdmVycmlkZSB2YWx1ZVxuXG4gICAgICBpZiAoX3ZhbHVlMiAmJiBfdmFsdWUyLnRvQlNPTikge1xuICAgICAgICBpZiAodHlwZW9mIF92YWx1ZTIudG9CU09OICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCd0b0JTT04gaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgX3ZhbHVlMiA9IF92YWx1ZTIudG9CU09OKCk7XG4gICAgICB9IC8vIENoZWNrIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZVxuXG5cbiAgICAgIHZhciBfdHlwZTIgPSBfdHlwZW9mJDMoX3ZhbHVlMik7IC8vIENoZWNrIHRoZSBrZXkgYW5kIHRocm93IGVycm9yIGlmIGl0J3MgaWxsZWdhbFxuXG5cbiAgICAgIGlmICh0eXBlb2YgX2tleTIgPT09ICdzdHJpbmcnICYmICFpZ25vcmVLZXlzLmhhcyhfa2V5MikpIHtcbiAgICAgICAgaWYgKF9rZXkyLm1hdGNoKHJlZ2V4cCQxKSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gVGhlIEJTT04gc3BlYyBkb2Vzbid0IGFsbG93IGtleXMgd2l0aCBudWxsIGJ5dGVzIGJlY2F1c2Uga2V5cyBhcmVcbiAgICAgICAgICAvLyBudWxsLXRlcm1pbmF0ZWQuXG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ2tleSAnICsgX2tleTIgKyAnIG11c3Qgbm90IGNvbnRhaW4gbnVsbCBieXRlcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoZWNrS2V5cykge1xuICAgICAgICAgIGlmICgnJCcgPT09IF9rZXkyWzBdKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcigna2V5ICcgKyBfa2V5MiArIFwiIG11c3Qgbm90IHN0YXJ0IHdpdGggJyQnXCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAofl9rZXkyLmluZGV4T2YoJy4nKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2tleSAnICsgX2tleTIgKyBcIiBtdXN0IG5vdCBjb250YWluICcuJ1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKF90eXBlMiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVTdHJpbmcoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdHlwZTIgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTnVtYmVyKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3R5cGUyID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCb29sZWFuKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMiBpbnN0YW5jZW9mIERhdGUgfHwgaXNEYXRlJDEoX3ZhbHVlMikpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEYXRlKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChpZ25vcmVVbmRlZmluZWQgPT09IGZhbHNlKSBpbmRleCA9IHNlcmlhbGl6ZU51bGwoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyID09PSBudWxsKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTnVsbChidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnT2JqZWN0SWQnIHx8IF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnT2JqZWN0SUQnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplT2JqZWN0SWQoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChCdWZmZXIkNS5pc0J1ZmZlcihfdmFsdWUyKSkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJ1ZmZlcihidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTIgaW5zdGFuY2VvZiBSZWdFeHAgfHwgaXNSZWdFeHAkMShfdmFsdWUyKSkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZVJlZ0V4cChidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF90eXBlMiA9PT0gJ29iamVjdCcgJiYgX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT0gbnVsbCkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU9iamVjdChidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCwgY2hlY2tLZXlzLCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQsIGZhbHNlLCBwYXRoKTtcbiAgICAgIH0gZWxzZSBpZiAoX3R5cGUyID09PSAnb2JqZWN0JyAmJiBfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ0RlY2ltYWwxMjgnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRGVjaW1hbDEyOChidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnTG9uZycgfHwgX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdUaW1lc3RhbXAnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTG9uZyhidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnRG91YmxlJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZURvdWJsZShidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnQ29kZScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVDb2RlKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdmFsdWUyID09PSAnZnVuY3Rpb24nICYmIHNlcmlhbGl6ZUZ1bmN0aW9ucykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUZ1bmN0aW9uKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ0JpbmFyeScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCaW5hcnkoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVTeW1ib2woYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ0RCUmVmJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZURCUmVmKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4LCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdCU09OUmVnRXhwJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJTT05SZWdFeHAoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ0ludDMyJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUludDMyKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdNaW5LZXknIHx8IF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnTWF4S2V5Jykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU1pbk1heChidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdmFsdWUyWydfYnNvbnR5cGUnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5yZWNvZ25pemVkIG9yIGludmFsaWQgX2Jzb250eXBlOiAnICsgX3ZhbHVlMlsnX2Jzb250eXBlJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBSZW1vdmUgdGhlIHBhdGhcblxuXG4gIHBhdGgucG9wKCk7IC8vIEZpbmFsIHBhZGRpbmcgYnl0ZSBmb3Igb2JqZWN0XG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMHgwMDsgLy8gRmluYWwgc2l6ZVxuXG4gIHZhciBzaXplID0gaW5kZXggLSBzdGFydGluZ0luZGV4OyAvLyBXcml0ZSB0aGUgc2l6ZSBvZiB0aGUgb2JqZWN0XG5cbiAgYnVmZmVyJCQxW3N0YXJ0aW5nSW5kZXgrK10gPSBzaXplICYgMHhmZjtcbiAgYnVmZmVyJCQxW3N0YXJ0aW5nSW5kZXgrK10gPSBzaXplID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbc3RhcnRpbmdJbmRleCsrXSA9IHNpemUgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbc3RhcnRpbmdJbmRleCsrXSA9IHNpemUgPj4gMjQgJiAweGZmO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbnZhciBzZXJpYWxpemVyID0gc2VyaWFsaXplSW50bztcblxuZnVuY3Rpb24gX3R5cGVvZiQ0KG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiQ0ID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YkNCA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mJDQob2JqKTsgfVxuXG52YXIgQnVmZmVyJDYgPSBidWZmZXIuQnVmZmVyO1xudmFyIG5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyQyID0gdXRpbHMubm9ybWFsaXplZEZ1bmN0aW9uU3RyaW5nOyAvLyBUbyBlbnN1cmUgdGhhdCAwLjQgb2Ygbm9kZSB3b3JrcyBjb3JyZWN0bHlcblxuZnVuY3Rpb24gaXNEYXRlJDIoZCkge1xuICByZXR1cm4gX3R5cGVvZiQ0KGQpID09PSAnb2JqZWN0JyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlT2JqZWN0U2l6ZShvYmplY3QsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkKSB7XG4gIHZhciB0b3RhbExlbmd0aCA9IDQgKyAxO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgdG90YWxMZW5ndGggKz0gY2FsY3VsYXRlRWxlbWVudChpLnRvU3RyaW5nKCksIG9iamVjdFtpXSwgc2VyaWFsaXplRnVuY3Rpb25zLCB0cnVlLCBpZ25vcmVVbmRlZmluZWQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJZiB3ZSBoYXZlIHRvQlNPTiBkZWZpbmVkLCBvdmVycmlkZSB0aGUgY3VycmVudCBvYmplY3RcbiAgICBpZiAob2JqZWN0LnRvQlNPTikge1xuICAgICAgb2JqZWN0ID0gb2JqZWN0LnRvQlNPTigpO1xuICAgIH0gLy8gQ2FsY3VsYXRlIHNpemVcblxuXG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgdG90YWxMZW5ndGggKz0gY2FsY3VsYXRlRWxlbWVudChrZXksIG9iamVjdFtrZXldLCBzZXJpYWxpemVGdW5jdGlvbnMsIGZhbHNlLCBpZ25vcmVVbmRlZmluZWQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b3RhbExlbmd0aDtcbn1cbi8qKlxuICogQGlnbm9yZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBjYWxjdWxhdGVFbGVtZW50KG5hbWUsIHZhbHVlLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlzQXJyYXksIGlnbm9yZVVuZGVmaW5lZCkge1xuICAvLyBJZiB3ZSBoYXZlIHRvQlNPTiBkZWZpbmVkLCBvdmVycmlkZSB0aGUgY3VycmVudCBvYmplY3RcbiAgaWYgKHZhbHVlICYmIHZhbHVlLnRvQlNPTikge1xuICAgIHZhbHVlID0gdmFsdWUudG9CU09OKCk7XG4gIH1cblxuICBzd2l0Y2ggKF90eXBlb2YkNCh2YWx1ZSkpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIDEgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxICsgNCArIEJ1ZmZlciQ2LmJ5dGVMZW5ndGgodmFsdWUsICd1dGY4JykgKyAxO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmIChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUgJiYgdmFsdWUgPj0gY29uc3RhbnRzLkpTX0lOVF9NSU4gJiYgdmFsdWUgPD0gY29uc3RhbnRzLkpTX0lOVF9NQVgpIHtcbiAgICAgICAgaWYgKHZhbHVlID49IGNvbnN0YW50cy5CU09OX0lOVDMyX01JTiAmJiB2YWx1ZSA8PSBjb25zdGFudHMuQlNPTl9JTlQzMl9NQVgpIHtcbiAgICAgICAgICAvLyAzMiBiaXRcbiAgICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArICg0ICsgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAoOCArIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyA2NCBiaXRcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAoOCArIDEpO1xuICAgICAgfVxuXG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIGlmIChpc0FycmF5IHx8ICFpZ25vcmVVbmRlZmluZWQpIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMTtcbiAgICAgIHJldHVybiAwO1xuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArICgxICsgMSk7XG5cbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWVbJ19ic29udHlwZSddID09PSAnTWluS2V5JyB8fCB2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdNYXhLZXknKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnT2JqZWN0SWQnIHx8IHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ09iamVjdElEJykge1xuICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArICgxMiArIDEpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUgfHwgaXNEYXRlJDIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKDggKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEJ1ZmZlciQ2ICE9PSAndW5kZWZpbmVkJyAmJiBCdWZmZXIkNi5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAoMSArIDQgKyAxKSArIHZhbHVlLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnTG9uZycgfHwgdmFsdWVbJ19ic29udHlwZSddID09PSAnRG91YmxlJyB8fCB2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdUaW1lc3RhbXAnKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKDggKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnRGVjaW1hbDEyOCcpIHtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAoMTYgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnQ29kZScpIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNpemUgZGVwZW5kaW5nIG9uIHRoZSBhdmFpbGFiaWxpdHkgb2YgYSBzY29wZVxuICAgICAgICBpZiAodmFsdWUuc2NvcGUgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyh2YWx1ZS5zY29wZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMSArIDQgKyA0ICsgQnVmZmVyJDYuYnl0ZUxlbmd0aCh2YWx1ZS5jb2RlLnRvU3RyaW5nKCksICd1dGY4JykgKyAxICsgY2FsY3VsYXRlT2JqZWN0U2l6ZSh2YWx1ZS5zY29wZSwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMSArIDQgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKHZhbHVlLmNvZGUudG9TdHJpbmcoKSwgJ3V0ZjgnKSArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnQmluYXJ5Jykge1xuICAgICAgICAvLyBDaGVjayB3aGF0IGtpbmQgb2Ygc3VidHlwZSB3ZSBoYXZlXG4gICAgICAgIGlmICh2YWx1ZS5zdWJfdHlwZSA9PT0gYmluYXJ5LlNVQlRZUEVfQllURV9BUlJBWSkge1xuICAgICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKHZhbHVlLnBvc2l0aW9uICsgMSArIDQgKyAxICsgNCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAodmFsdWUucG9zaXRpb24gKyAxICsgNCArIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKHZhbHVlLnZhbHVlLCAndXRmOCcpICsgNCArIDEgKyAxO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdEQlJlZicpIHtcbiAgICAgICAgLy8gU2V0IHVwIGNvcnJlY3Qgb2JqZWN0IGZvciBzZXJpYWxpemF0aW9uXG4gICAgICAgIHZhciBvcmRlcmVkX3ZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICRyZWY6IHZhbHVlLmNvbGxlY3Rpb24sXG4gICAgICAgICAgJGlkOiB2YWx1ZS5vaWRcbiAgICAgICAgfSwgdmFsdWUuZmllbGRzKTsgLy8gQWRkIGRiIHJlZmVyZW5jZSBpZiBpdCBleGlzdHNcblxuICAgICAgICBpZiAodmFsdWUuZGIgIT0gbnVsbCkge1xuICAgICAgICAgIG9yZGVyZWRfdmFsdWVzWyckZGInXSA9IHZhbHVlLmRiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAxICsgY2FsY3VsYXRlT2JqZWN0U2l6ZShvcmRlcmVkX3ZhbHVlcywgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArIDEgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKHZhbHVlLnNvdXJjZSwgJ3V0ZjgnKSArIDEgKyAodmFsdWUuZ2xvYmFsID8gMSA6IDApICsgKHZhbHVlLmlnbm9yZUNhc2UgPyAxIDogMCkgKyAodmFsdWUubXVsdGlsaW5lID8gMSA6IDApICsgMTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnQlNPTlJlZ0V4cCcpIHtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAxICsgQnVmZmVyJDYuYnl0ZUxlbmd0aCh2YWx1ZS5wYXR0ZXJuLCAndXRmOCcpICsgMSArIEJ1ZmZlciQ2LmJ5dGVMZW5ndGgodmFsdWUub3B0aW9ucywgJ3V0ZjgnKSArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArIGNhbGN1bGF0ZU9iamVjdFNpemUodmFsdWUsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkKSArIDE7XG4gICAgICB9XG5cbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAvLyBXVEYgZm9yIDAuNC5YIHdoZXJlIHR5cGVvZiAvc29tZXJlZ2V4cC8gPT09ICdmdW5jdGlvbidcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJyB8fCBTdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMSArIEJ1ZmZlciQ2LmJ5dGVMZW5ndGgodmFsdWUuc291cmNlLCAndXRmOCcpICsgMSArICh2YWx1ZS5nbG9iYWwgPyAxIDogMCkgKyAodmFsdWUuaWdub3JlQ2FzZSA/IDEgOiAwKSArICh2YWx1ZS5tdWx0aWxpbmUgPyAxIDogMCkgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNlcmlhbGl6ZUZ1bmN0aW9ucyAmJiB2YWx1ZS5zY29wZSAhPSBudWxsICYmIE9iamVjdC5rZXlzKHZhbHVlLnNjb3BlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAxICsgNCArIDQgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyQyKHZhbHVlKSwgJ3V0ZjgnKSArIDEgKyBjYWxjdWxhdGVPYmplY3RTaXplKHZhbHVlLnNjb3BlLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VyaWFsaXplRnVuY3Rpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAxICsgNCArIEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobm9ybWFsaXplZEZ1bmN0aW9uU3RyaW5nJDIodmFsdWUpLCAndXRmOCcpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxudmFyIGNhbGN1bGF0ZV9zaXplID0gY2FsY3VsYXRlT2JqZWN0U2l6ZTtcblxudmFyIEJ1ZmZlciQ3ID0gYnVmZmVyLkJ1ZmZlcjtcbi8qKlxuICogTWFrZXMgc3VyZSB0aGF0LCBpZiBhIFVpbnQ4QXJyYXkgaXMgcGFzc2VkIGluLCBpdCBpcyB3cmFwcGVkIGluIGEgQnVmZmVyLlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfFVpbnQ4QXJyYXl9IHBvdGVudGlhbEJ1ZmZlciBUaGUgcG90ZW50aWFsIGJ1ZmZlclxuICogQHJldHVybnMge0J1ZmZlcn0gdGhlIGlucHV0IGlmIHBvdGVudGlhbEJ1ZmZlciBpcyBhIGJ1ZmZlciwgb3IgYSBidWZmZXIgdGhhdFxuICogd3JhcHMgYSBwYXNzZWQgaW4gVWludDhBcnJheVxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBhbnl0aGluZyBvdGhlciB0aGFuIGEgQnVmZmVyIG9yIFVpbnQ4QXJyYXkgaXMgcGFzc2VkIGluXG4gKi9cblxudmFyIGVuc3VyZV9idWZmZXIgPSBmdW5jdGlvbiBlbnN1cmVCdWZmZXIocG90ZW50aWFsQnVmZmVyKSB7XG4gIGlmIChwb3RlbnRpYWxCdWZmZXIgaW5zdGFuY2VvZiBCdWZmZXIkNykge1xuICAgIHJldHVybiBwb3RlbnRpYWxCdWZmZXI7XG4gIH1cblxuICBpZiAocG90ZW50aWFsQnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHJldHVybiBCdWZmZXIkNy5mcm9tKHBvdGVudGlhbEJ1ZmZlci5idWZmZXIpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignTXVzdCB1c2UgZWl0aGVyIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7XG59O1xuXG52YXIgQnVmZmVyJDggPSBidWZmZXIuQnVmZmVyOyAvLyBQYXJ0cyBvZiB0aGUgcGFyc2VyXG5cbi8qKlxuICogQGlnbm9yZVxuICovXG4vLyBEZWZhdWx0IE1heCBTaXplXG5cbnZhciBNQVhTSVpFID0gMTAyNCAqIDEwMjQgKiAxNzsgLy8gQ3VycmVudCBJbnRlcm5hbCBUZW1wb3JhcnkgU2VyaWFsaXphdGlvbiBCdWZmZXJcblxudmFyIGJ1ZmZlciQxID0gQnVmZmVyJDguYWxsb2MoTUFYU0laRSk7XG4vKipcbiAqIFNldHMgdGhlIHNpemUgb2YgdGhlIGludGVybmFsIHNlcmlhbGl6YXRpb24gYnVmZmVyLlxuICpcbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIFRoZSBkZXNpcmVkIHNpemUgZm9yIHRoZSBpbnRlcm5hbCBzZXJpYWxpemF0aW9uIGJ1ZmZlclxuICovXG5cbmZ1bmN0aW9uIHNldEludGVybmFsQnVmZmVyU2l6ZShzaXplKSB7XG4gIC8vIFJlc2l6ZSB0aGUgaW50ZXJuYWwgc2VyaWFsaXphdGlvbiBidWZmZXIgaWYgbmVlZGVkXG4gIGlmIChidWZmZXIkMS5sZW5ndGggPCBzaXplKSB7XG4gICAgYnVmZmVyJDEgPSBCdWZmZXIkOC5hbGxvYyhzaXplKTtcbiAgfVxufVxuLyoqXG4gKiBTZXJpYWxpemUgYSBKYXZhc2NyaXB0IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IHRoZSBKYXZhc2NyaXB0IG9iamVjdCB0byBzZXJpYWxpemUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNoZWNrS2V5c10gdGhlIHNlcmlhbGl6ZXIgd2lsbCBjaGVjayBpZiBrZXlzIGFyZSB2YWxpZC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2VyaWFsaXplRnVuY3Rpb25zPWZhbHNlXSBzZXJpYWxpemUgdGhlIGphdmFzY3JpcHQgZnVuY3Rpb25zICoqKGRlZmF1bHQ6ZmFsc2UpKiouXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmlnbm9yZVVuZGVmaW5lZD10cnVlXSBpZ25vcmUgdW5kZWZpbmVkIGZpZWxkcyAqKihkZWZhdWx0OnRydWUpKiouXG4gKiBAcmV0dXJuIHtCdWZmZXJ9IHJldHVybnMgdGhlIEJ1ZmZlciBvYmplY3QgY29udGFpbmluZyB0aGUgc2VyaWFsaXplZCBvYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiBzZXJpYWxpemUkMShvYmplY3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIFVucGFjayB0aGUgb3B0aW9uc1xuXG4gIHZhciBjaGVja0tleXMgPSB0eXBlb2Ygb3B0aW9ucy5jaGVja0tleXMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuY2hlY2tLZXlzIDogZmFsc2U7XG4gIHZhciBzZXJpYWxpemVGdW5jdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucy5zZXJpYWxpemVGdW5jdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc2VyaWFsaXplRnVuY3Rpb25zIDogZmFsc2U7XG4gIHZhciBpZ25vcmVVbmRlZmluZWQgPSB0eXBlb2Ygb3B0aW9ucy5pZ25vcmVVbmRlZmluZWQgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuaWdub3JlVW5kZWZpbmVkIDogdHJ1ZTtcbiAgdmFyIG1pbkludGVybmFsQnVmZmVyU2l6ZSA9IHR5cGVvZiBvcHRpb25zLm1pbkludGVybmFsQnVmZmVyU2l6ZSA9PT0gJ251bWJlcicgPyBvcHRpb25zLm1pbkludGVybmFsQnVmZmVyU2l6ZSA6IE1BWFNJWkU7IC8vIFJlc2l6ZSB0aGUgaW50ZXJuYWwgc2VyaWFsaXphdGlvbiBidWZmZXIgaWYgbmVlZGVkXG5cbiAgaWYgKGJ1ZmZlciQxLmxlbmd0aCA8IG1pbkludGVybmFsQnVmZmVyU2l6ZSkge1xuICAgIGJ1ZmZlciQxID0gQnVmZmVyJDguYWxsb2MobWluSW50ZXJuYWxCdWZmZXJTaXplKTtcbiAgfSAvLyBBdHRlbXB0IHRvIHNlcmlhbGl6ZVxuXG5cbiAgdmFyIHNlcmlhbGl6YXRpb25JbmRleCA9IHNlcmlhbGl6ZXIoYnVmZmVyJDEsIG9iamVjdCwgY2hlY2tLZXlzLCAwLCAwLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCwgW10pOyAvLyBDcmVhdGUgdGhlIGZpbmFsIGJ1ZmZlclxuXG4gIHZhciBmaW5pc2hlZEJ1ZmZlciA9IEJ1ZmZlciQ4LmFsbG9jKHNlcmlhbGl6YXRpb25JbmRleCk7IC8vIENvcHkgaW50byB0aGUgZmluaXNoZWQgYnVmZmVyXG5cbiAgYnVmZmVyJDEuY29weShmaW5pc2hlZEJ1ZmZlciwgMCwgMCwgZmluaXNoZWRCdWZmZXIubGVuZ3RoKTsgLy8gUmV0dXJuIHRoZSBidWZmZXJcblxuICByZXR1cm4gZmluaXNoZWRCdWZmZXI7XG59XG4vKipcbiAqIFNlcmlhbGl6ZSBhIEphdmFzY3JpcHQgb2JqZWN0IHVzaW5nIGEgcHJlZGVmaW5lZCBCdWZmZXIgYW5kIGluZGV4IGludG8gdGhlIGJ1ZmZlciwgdXNlZnVsIHdoZW4gcHJlLWFsbG9jYXRpbmcgdGhlIHNwYWNlIGZvciBzZXJpYWxpemF0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgdGhlIEphdmFzY3JpcHQgb2JqZWN0IHRvIHNlcmlhbGl6ZS5cbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgdGhlIEJ1ZmZlciB5b3UgcHJlLWFsbG9jYXRlZCB0byBzdG9yZSB0aGUgc2VyaWFsaXplZCBCU09OIG9iamVjdC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2hlY2tLZXlzXSB0aGUgc2VyaWFsaXplciB3aWxsIGNoZWNrIGlmIGtleXMgYXJlIHZhbGlkLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zZXJpYWxpemVGdW5jdGlvbnM9ZmFsc2VdIHNlcmlhbGl6ZSB0aGUgamF2YXNjcmlwdCBmdW5jdGlvbnMgKiooZGVmYXVsdDpmYWxzZSkqKi5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaWdub3JlVW5kZWZpbmVkPXRydWVdIGlnbm9yZSB1bmRlZmluZWQgZmllbGRzICoqKGRlZmF1bHQ6dHJ1ZSkqKi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5pbmRleF0gdGhlIGluZGV4IGluIHRoZSBidWZmZXIgd2hlcmUgd2Ugd2lzaCB0byBzdGFydCBzZXJpYWxpemluZyBpbnRvLlxuICogQHJldHVybiB7TnVtYmVyfSByZXR1cm5zIHRoZSBpbmRleCBwb2ludGluZyB0byB0aGUgbGFzdCB3cml0dGVuIGJ5dGUgaW4gdGhlIGJ1ZmZlci5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVdpdGhCdWZmZXJBbmRJbmRleChvYmplY3QsIGZpbmFsQnVmZmVyLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBVbnBhY2sgdGhlIG9wdGlvbnNcblxuICB2YXIgY2hlY2tLZXlzID0gdHlwZW9mIG9wdGlvbnMuY2hlY2tLZXlzID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNoZWNrS2V5cyA6IGZhbHNlO1xuICB2YXIgc2VyaWFsaXplRnVuY3Rpb25zID0gdHlwZW9mIG9wdGlvbnMuc2VyaWFsaXplRnVuY3Rpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnNlcmlhbGl6ZUZ1bmN0aW9ucyA6IGZhbHNlO1xuICB2YXIgaWdub3JlVW5kZWZpbmVkID0gdHlwZW9mIG9wdGlvbnMuaWdub3JlVW5kZWZpbmVkID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmlnbm9yZVVuZGVmaW5lZCA6IHRydWU7XG4gIHZhciBzdGFydEluZGV4ID0gdHlwZW9mIG9wdGlvbnMuaW5kZXggPT09ICdudW1iZXInID8gb3B0aW9ucy5pbmRleCA6IDA7IC8vIEF0dGVtcHQgdG8gc2VyaWFsaXplXG5cbiAgdmFyIHNlcmlhbGl6YXRpb25JbmRleCA9IHNlcmlhbGl6ZXIoYnVmZmVyJDEsIG9iamVjdCwgY2hlY2tLZXlzLCAwLCAwLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCk7XG4gIGJ1ZmZlciQxLmNvcHkoZmluYWxCdWZmZXIsIHN0YXJ0SW5kZXgsIDAsIHNlcmlhbGl6YXRpb25JbmRleCk7IC8vIFJldHVybiB0aGUgaW5kZXhcblxuICByZXR1cm4gc3RhcnRJbmRleCArIHNlcmlhbGl6YXRpb25JbmRleCAtIDE7XG59XG4vKipcbiAqIERlc2VyaWFsaXplIGRhdGEgYXMgQlNPTi5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIHRoZSBidWZmZXIgY29udGFpbmluZyB0aGUgc2VyaWFsaXplZCBzZXQgb2YgQlNPTiBkb2N1bWVudHMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZXZhbEZ1bmN0aW9ucz1mYWxzZV0gZXZhbHVhdGUgZnVuY3Rpb25zIGluIHRoZSBCU09OIGRvY3VtZW50IHNjb3BlZCB0byB0aGUgb2JqZWN0IGRlc2VyaWFsaXplZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5jYWNoZUZ1bmN0aW9ucz1mYWxzZV0gY2FjaGUgZXZhbHVhdGVkIGZ1bmN0aW9ucyBmb3IgcmV1c2UuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuY2FjaGVGdW5jdGlvbnNDcmMzMj1mYWxzZV0gdXNlIGEgY3JjMzIgY29kZSBmb3IgY2FjaGluZywgb3RoZXJ3aXNlIHVzZSB0aGUgc3RyaW5nIG9mIHRoZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcm9tb3RlTG9uZ3M9dHJ1ZV0gd2hlbiBkZXNlcmlhbGl6aW5nIGEgTG9uZyB3aWxsIGZpdCBpdCBpbnRvIGEgTnVtYmVyIGlmIGl0J3Mgc21hbGxlciB0aGFuIDUzIGJpdHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcm9tb3RlQnVmZmVycz1mYWxzZV0gd2hlbiBkZXNlcmlhbGl6aW5nIGEgQmluYXJ5IHdpbGwgcmV0dXJuIGl0IGFzIGEgbm9kZS5qcyBCdWZmZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvbW90ZVZhbHVlcz1mYWxzZV0gd2hlbiBkZXNlcmlhbGl6aW5nIHdpbGwgcHJvbW90ZSBCU09OIHZhbHVlcyB0byB0aGVpciBOb2RlLmpzIGNsb3Nlc3QgZXF1aXZhbGVudCB0eXBlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5maWVsZHNBc1Jhdz1udWxsXSBhbGxvdyB0byBzcGVjaWZ5IGlmIHRoZXJlIHdoYXQgZmllbGRzIHdlIHdpc2ggdG8gcmV0dXJuIGFzIHVuc2VyaWFsaXplZCByYXcgYnVmZmVyLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmJzb25SZWdFeHA9ZmFsc2VdIHJldHVybiBCU09OIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXMgQlNPTlJlZ0V4cCBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFsbG93T2JqZWN0U21hbGxlclRoYW5CdWZmZXJTaXplPWZhbHNlXSBhbGxvd3MgdGhlIGJ1ZmZlciB0byBiZSBsYXJnZXIgdGhhbiB0aGUgcGFyc2VkIEJTT04gb2JqZWN0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHJldHVybnMgdGhlIGRlc2VyaWFsaXplZCBKYXZhc2NyaXB0IE9iamVjdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplJDIoYnVmZmVyJCQxLCBvcHRpb25zKSB7XG4gIGJ1ZmZlciQkMSA9IGVuc3VyZV9idWZmZXIoYnVmZmVyJCQxKTtcbiAgcmV0dXJuIGRlc2VyaWFsaXplcihidWZmZXIkJDEsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGJzb24gc2l6ZSBmb3IgYSBwYXNzZWQgaW4gSmF2YXNjcmlwdCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0aGUgSmF2YXNjcmlwdCBvYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBCU09OIGJ5dGUgc2l6ZSBmb3IuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNlcmlhbGl6ZUZ1bmN0aW9ucz1mYWxzZV0gc2VyaWFsaXplIHRoZSBqYXZhc2NyaXB0IGZ1bmN0aW9ucyAqKihkZWZhdWx0OmZhbHNlKSoqLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5pZ25vcmVVbmRlZmluZWQ9dHJ1ZV0gaWdub3JlIHVuZGVmaW5lZCBmaWVsZHMgKiooZGVmYXVsdDp0cnVlKSoqLlxuICogQHJldHVybiB7TnVtYmVyfSByZXR1cm5zIHRoZSBudW1iZXIgb2YgYnl0ZXMgdGhlIEJTT04gb2JqZWN0IHdpbGwgdGFrZSB1cC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU9iamVjdFNpemUkMShvYmplY3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBzZXJpYWxpemVGdW5jdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucy5zZXJpYWxpemVGdW5jdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc2VyaWFsaXplRnVuY3Rpb25zIDogZmFsc2U7XG4gIHZhciBpZ25vcmVVbmRlZmluZWQgPSB0eXBlb2Ygb3B0aW9ucy5pZ25vcmVVbmRlZmluZWQgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuaWdub3JlVW5kZWZpbmVkIDogdHJ1ZTtcbiAgcmV0dXJuIGNhbGN1bGF0ZV9zaXplKG9iamVjdCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQpO1xufVxuLyoqXG4gKiBEZXNlcmlhbGl6ZSBzdHJlYW0gZGF0YSBhcyBCU09OIGRvY3VtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSB0aGUgYnVmZmVyIGNvbnRhaW5pbmcgdGhlIHNlcmlhbGl6ZWQgc2V0IG9mIEJTT04gZG9jdW1lbnRzLlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0SW5kZXggdGhlIHN0YXJ0IGluZGV4IGluIHRoZSBkYXRhIEJ1ZmZlciB3aGVyZSB0aGUgZGVzZXJpYWxpemF0aW9uIGlzIHRvIHN0YXJ0LlxuICogQHBhcmFtIHtOdW1iZXJ9IG51bWJlck9mRG9jdW1lbnRzIG51bWJlciBvZiBkb2N1bWVudHMgdG8gZGVzZXJpYWxpemUuXG4gKiBAcGFyYW0ge0FycmF5fSBkb2N1bWVudHMgYW4gYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIGRlc2VyaWFsaXplZCBkb2N1bWVudHMuXG4gKiBAcGFyYW0ge051bWJlcn0gZG9jU3RhcnRJbmRleCB0aGUgaW5kZXggaW4gdGhlIGRvY3VtZW50cyBhcnJheSBmcm9tIHdoZXJlIHRvIHN0YXJ0IGluc2VydGluZyBkb2N1bWVudHMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIGFkZGl0aW9uYWwgb3B0aW9ucyB1c2VkIGZvciB0aGUgZGVzZXJpYWxpemF0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmV2YWxGdW5jdGlvbnM9ZmFsc2VdIGV2YWx1YXRlIGZ1bmN0aW9ucyBpbiB0aGUgQlNPTiBkb2N1bWVudCBzY29wZWQgdG8gdGhlIG9iamVjdCBkZXNlcmlhbGl6ZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuY2FjaGVGdW5jdGlvbnM9ZmFsc2VdIGNhY2hlIGV2YWx1YXRlZCBmdW5jdGlvbnMgZm9yIHJldXNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmNhY2hlRnVuY3Rpb25zQ3JjMzI9ZmFsc2VdIHVzZSBhIGNyYzMyIGNvZGUgZm9yIGNhY2hpbmcsIG90aGVyd2lzZSB1c2UgdGhlIHN0cmluZyBvZiB0aGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvbW90ZUxvbmdzPXRydWVdIHdoZW4gZGVzZXJpYWxpemluZyBhIExvbmcgd2lsbCBmaXQgaXQgaW50byBhIE51bWJlciBpZiBpdCdzIHNtYWxsZXIgdGhhbiA1MyBiaXRzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvbW90ZUJ1ZmZlcnM9ZmFsc2VdIHdoZW4gZGVzZXJpYWxpemluZyBhIEJpbmFyeSB3aWxsIHJldHVybiBpdCBhcyBhIG5vZGUuanMgQnVmZmVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb21vdGVWYWx1ZXM9ZmFsc2VdIHdoZW4gZGVzZXJpYWxpemluZyB3aWxsIHByb21vdGUgQlNPTiB2YWx1ZXMgdG8gdGhlaXIgTm9kZS5qcyBjbG9zZXN0IGVxdWl2YWxlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZmllbGRzQXNSYXc9bnVsbF0gYWxsb3cgdG8gc3BlY2lmeSBpZiB0aGVyZSB3aGF0IGZpZWxkcyB3ZSB3aXNoIHRvIHJldHVybiBhcyB1bnNlcmlhbGl6ZWQgcmF3IGJ1ZmZlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5ic29uUmVnRXhwPWZhbHNlXSByZXR1cm4gQlNPTiByZWd1bGFyIGV4cHJlc3Npb25zIGFzIEJTT05SZWdFeHAgaW5zdGFuY2VzLlxuICogQHJldHVybiB7TnVtYmVyfSByZXR1cm5zIHRoZSBuZXh0IGluZGV4IGluIHRoZSBidWZmZXIgYWZ0ZXIgZGVzZXJpYWxpemF0aW9uICoqeCoqIG51bWJlcnMgb2YgZG9jdW1lbnRzLlxuICovXG5cblxuZnVuY3Rpb24gZGVzZXJpYWxpemVTdHJlYW0oZGF0YSwgc3RhcnRJbmRleCwgbnVtYmVyT2ZEb2N1bWVudHMsIGRvY3VtZW50cywgZG9jU3RhcnRJbmRleCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgYWxsb3dPYmplY3RTbWFsbGVyVGhhbkJ1ZmZlclNpemU6IHRydWVcbiAgfSwgb3B0aW9ucyk7XG4gIGRhdGEgPSBlbnN1cmVfYnVmZmVyKGRhdGEpO1xuICB2YXIgaW5kZXggPSBzdGFydEluZGV4OyAvLyBMb29wIG92ZXIgYWxsIGRvY3VtZW50c1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZEb2N1bWVudHM7IGkrKykge1xuICAgIC8vIEZpbmQgc2l6ZSBvZiB0aGUgZG9jdW1lbnRcbiAgICB2YXIgc2l6ZSA9IGRhdGFbaW5kZXhdIHwgZGF0YVtpbmRleCArIDFdIDw8IDggfCBkYXRhW2luZGV4ICsgMl0gPDwgMTYgfCBkYXRhW2luZGV4ICsgM10gPDwgMjQ7IC8vIFVwZGF0ZSBvcHRpb25zIHdpdGggaW5kZXhcblxuICAgIG9wdGlvbnMuaW5kZXggPSBpbmRleDsgLy8gUGFyc2UgdGhlIGRvY3VtZW50IGF0IHRoaXMgcG9pbnRcblxuICAgIGRvY3VtZW50c1tkb2NTdGFydEluZGV4ICsgaV0gPSBkZXNlcmlhbGl6ZXIoZGF0YSwgb3B0aW9ucyk7IC8vIEFkanVzdCBpbmRleCBieSB0aGUgZG9jdW1lbnQgc2l6ZVxuXG4gICAgaW5kZXggPSBpbmRleCArIHNpemU7XG4gIH0gLy8gUmV0dXJuIG9iamVjdCBjb250YWluaW5nIGVuZCBpbmRleCBvZiBwYXJzaW5nIGFuZCBsaXN0IG9mIGRvY3VtZW50c1xuXG5cbiAgcmV0dXJuIGluZGV4O1xufVxuXG52YXIgYnNvbiA9IHtcbiAgLy8gY29uc3RhbnRzXG4gIC8vIE5PVEU6IHRoaXMgaXMgZG9uZSB0aGlzIHdheSBiZWNhdXNlIHJvbGx1cCBjYW4ndCByZXNvbHZlIGFuIGBPYmplY3QuYXNzaWduYGVkIGV4cG9ydFxuICBCU09OX0lOVDMyX01BWDogY29uc3RhbnRzLkJTT05fSU5UMzJfTUFYLFxuICBCU09OX0lOVDMyX01JTjogY29uc3RhbnRzLkJTT05fSU5UMzJfTUlOLFxuICBCU09OX0lOVDY0X01BWDogY29uc3RhbnRzLkJTT05fSU5UNjRfTUFYLFxuICBCU09OX0lOVDY0X01JTjogY29uc3RhbnRzLkJTT05fSU5UNjRfTUlOLFxuICBKU19JTlRfTUFYOiBjb25zdGFudHMuSlNfSU5UX01BWCxcbiAgSlNfSU5UX01JTjogY29uc3RhbnRzLkpTX0lOVF9NSU4sXG4gIEJTT05fREFUQV9OVU1CRVI6IGNvbnN0YW50cy5CU09OX0RBVEFfTlVNQkVSLFxuICBCU09OX0RBVEFfU1RSSU5HOiBjb25zdGFudHMuQlNPTl9EQVRBX1NUUklORyxcbiAgQlNPTl9EQVRBX09CSkVDVDogY29uc3RhbnRzLkJTT05fREFUQV9PQkpFQ1QsXG4gIEJTT05fREFUQV9BUlJBWTogY29uc3RhbnRzLkJTT05fREFUQV9BUlJBWSxcbiAgQlNPTl9EQVRBX0JJTkFSWTogY29uc3RhbnRzLkJTT05fREFUQV9CSU5BUlksXG4gIEJTT05fREFUQV9VTkRFRklORUQ6IGNvbnN0YW50cy5CU09OX0RBVEFfVU5ERUZJTkVELFxuICBCU09OX0RBVEFfT0lEOiBjb25zdGFudHMuQlNPTl9EQVRBX09JRCxcbiAgQlNPTl9EQVRBX0JPT0xFQU46IGNvbnN0YW50cy5CU09OX0RBVEFfQk9PTEVBTixcbiAgQlNPTl9EQVRBX0RBVEU6IGNvbnN0YW50cy5CU09OX0RBVEFfREFURSxcbiAgQlNPTl9EQVRBX05VTEw6IGNvbnN0YW50cy5CU09OX0RBVEFfTlVMTCxcbiAgQlNPTl9EQVRBX1JFR0VYUDogY29uc3RhbnRzLkJTT05fREFUQV9SRUdFWFAsXG4gIEJTT05fREFUQV9EQlBPSU5URVI6IGNvbnN0YW50cy5CU09OX0RBVEFfREJQT0lOVEVSLFxuICBCU09OX0RBVEFfQ09ERTogY29uc3RhbnRzLkJTT05fREFUQV9DT0RFLFxuICBCU09OX0RBVEFfU1lNQk9MOiBjb25zdGFudHMuQlNPTl9EQVRBX1NZTUJPTCxcbiAgQlNPTl9EQVRBX0NPREVfV19TQ09QRTogY29uc3RhbnRzLkJTT05fREFUQV9DT0RFX1dfU0NPUEUsXG4gIEJTT05fREFUQV9JTlQ6IGNvbnN0YW50cy5CU09OX0RBVEFfSU5ULFxuICBCU09OX0RBVEFfVElNRVNUQU1QOiBjb25zdGFudHMuQlNPTl9EQVRBX1RJTUVTVEFNUCxcbiAgQlNPTl9EQVRBX0xPTkc6IGNvbnN0YW50cy5CU09OX0RBVEFfTE9ORyxcbiAgQlNPTl9EQVRBX0RFQ0lNQUwxMjg6IGNvbnN0YW50cy5CU09OX0RBVEFfREVDSU1BTDEyOCxcbiAgQlNPTl9EQVRBX01JTl9LRVk6IGNvbnN0YW50cy5CU09OX0RBVEFfTUlOX0tFWSxcbiAgQlNPTl9EQVRBX01BWF9LRVk6IGNvbnN0YW50cy5CU09OX0RBVEFfTUFYX0tFWSxcbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9ERUZBVUxUOiBjb25zdGFudHMuQlNPTl9CSU5BUllfU1VCVFlQRV9ERUZBVUxULFxuICBCU09OX0JJTkFSWV9TVUJUWVBFX0ZVTkNUSU9OOiBjb25zdGFudHMuQlNPTl9CSU5BUllfU1VCVFlQRV9GVU5DVElPTixcbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9CWVRFX0FSUkFZOiBjb25zdGFudHMuQlNPTl9CSU5BUllfU1VCVFlQRV9CWVRFX0FSUkFZLFxuICBCU09OX0JJTkFSWV9TVUJUWVBFX1VVSUQ6IGNvbnN0YW50cy5CU09OX0JJTkFSWV9TVUJUWVBFX1VVSUQsXG4gIEJTT05fQklOQVJZX1NVQlRZUEVfTUQ1OiBjb25zdGFudHMuQlNPTl9CSU5BUllfU1VCVFlQRV9NRDUsXG4gIEJTT05fQklOQVJZX1NVQlRZUEVfVVNFUl9ERUZJTkVEOiBjb25zdGFudHMuQlNPTl9CSU5BUllfU1VCVFlQRV9VU0VSX0RFRklORUQsXG4gIC8vIHdyYXBwZWQgdHlwZXNcbiAgQ29kZTogY29kZSxcbiAgTWFwOiBtYXAsXG4gIEJTT05TeW1ib2w6IHN5bWJvbCxcbiAgREJSZWY6IGRiX3JlZixcbiAgQmluYXJ5OiBiaW5hcnksXG4gIE9iamVjdElkOiBvYmplY3RpZCxcbiAgTG9uZzogbG9uZ18xLFxuICBUaW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgRG91YmxlOiBkb3VibGVfMSxcbiAgSW50MzI6IGludF8zMixcbiAgTWluS2V5OiBtaW5fa2V5LFxuICBNYXhLZXk6IG1heF9rZXksXG4gIEJTT05SZWdFeHA6IHJlZ2V4cCxcbiAgRGVjaW1hbDEyODogZGVjaW1hbDEyOCxcbiAgLy8gbWV0aG9kc1xuICBzZXJpYWxpemU6IHNlcmlhbGl6ZSQxLFxuICBzZXJpYWxpemVXaXRoQnVmZmVyQW5kSW5kZXg6IHNlcmlhbGl6ZVdpdGhCdWZmZXJBbmRJbmRleCxcbiAgZGVzZXJpYWxpemU6IGRlc2VyaWFsaXplJDIsXG4gIGNhbGN1bGF0ZU9iamVjdFNpemU6IGNhbGN1bGF0ZU9iamVjdFNpemUkMSxcbiAgZGVzZXJpYWxpemVTdHJlYW06IGRlc2VyaWFsaXplU3RyZWFtLFxuICBzZXRJbnRlcm5hbEJ1ZmZlclNpemU6IHNldEludGVybmFsQnVmZmVyU2l6ZSxcbiAgLy8gbGVnYWN5IHN1cHBvcnRcbiAgT2JqZWN0SUQ6IG9iamVjdGlkLFxuICAvLyBFeHRlbmRlZCBKU09OXG4gIEVKU09OOiBleHRlbmRlZF9qc29uXG59O1xudmFyIGJzb25fMSA9IGJzb24uQlNPTl9JTlQzMl9NQVg7XG52YXIgYnNvbl8yID0gYnNvbi5CU09OX0lOVDMyX01JTjtcbnZhciBic29uXzMgPSBic29uLkJTT05fSU5UNjRfTUFYO1xudmFyIGJzb25fNCA9IGJzb24uQlNPTl9JTlQ2NF9NSU47XG52YXIgYnNvbl81ID0gYnNvbi5KU19JTlRfTUFYO1xudmFyIGJzb25fNiA9IGJzb24uSlNfSU5UX01JTjtcbnZhciBic29uXzcgPSBic29uLkJTT05fREFUQV9OVU1CRVI7XG52YXIgYnNvbl84ID0gYnNvbi5CU09OX0RBVEFfU1RSSU5HO1xudmFyIGJzb25fOSA9IGJzb24uQlNPTl9EQVRBX09CSkVDVDtcbnZhciBic29uXzEwID0gYnNvbi5CU09OX0RBVEFfQVJSQVk7XG52YXIgYnNvbl8xMSA9IGJzb24uQlNPTl9EQVRBX0JJTkFSWTtcbnZhciBic29uXzEyID0gYnNvbi5CU09OX0RBVEFfVU5ERUZJTkVEO1xudmFyIGJzb25fMTMgPSBic29uLkJTT05fREFUQV9PSUQ7XG52YXIgYnNvbl8xNCA9IGJzb24uQlNPTl9EQVRBX0JPT0xFQU47XG52YXIgYnNvbl8xNSA9IGJzb24uQlNPTl9EQVRBX0RBVEU7XG52YXIgYnNvbl8xNiA9IGJzb24uQlNPTl9EQVRBX05VTEw7XG52YXIgYnNvbl8xNyA9IGJzb24uQlNPTl9EQVRBX1JFR0VYUDtcbnZhciBic29uXzE4ID0gYnNvbi5CU09OX0RBVEFfREJQT0lOVEVSO1xudmFyIGJzb25fMTkgPSBic29uLkJTT05fREFUQV9DT0RFO1xudmFyIGJzb25fMjAgPSBic29uLkJTT05fREFUQV9TWU1CT0w7XG52YXIgYnNvbl8yMSA9IGJzb24uQlNPTl9EQVRBX0NPREVfV19TQ09QRTtcbnZhciBic29uXzIyID0gYnNvbi5CU09OX0RBVEFfSU5UO1xudmFyIGJzb25fMjMgPSBic29uLkJTT05fREFUQV9USU1FU1RBTVA7XG52YXIgYnNvbl8yNCA9IGJzb24uQlNPTl9EQVRBX0xPTkc7XG52YXIgYnNvbl8yNSA9IGJzb24uQlNPTl9EQVRBX0RFQ0lNQUwxMjg7XG52YXIgYnNvbl8yNiA9IGJzb24uQlNPTl9EQVRBX01JTl9LRVk7XG52YXIgYnNvbl8yNyA9IGJzb24uQlNPTl9EQVRBX01BWF9LRVk7XG52YXIgYnNvbl8yOCA9IGJzb24uQlNPTl9CSU5BUllfU1VCVFlQRV9ERUZBVUxUO1xudmFyIGJzb25fMjkgPSBic29uLkJTT05fQklOQVJZX1NVQlRZUEVfRlVOQ1RJT047XG52YXIgYnNvbl8zMCA9IGJzb24uQlNPTl9CSU5BUllfU1VCVFlQRV9CWVRFX0FSUkFZO1xudmFyIGJzb25fMzEgPSBic29uLkJTT05fQklOQVJZX1NVQlRZUEVfVVVJRDtcbnZhciBic29uXzMyID0gYnNvbi5CU09OX0JJTkFSWV9TVUJUWVBFX01ENTtcbnZhciBic29uXzMzID0gYnNvbi5CU09OX0JJTkFSWV9TVUJUWVBFX1VTRVJfREVGSU5FRDtcbnZhciBic29uXzM0ID0gYnNvbi5Db2RlO1xudmFyIGJzb25fMzUgPSBic29uLkJTT05TeW1ib2w7XG52YXIgYnNvbl8zNiA9IGJzb24uREJSZWY7XG52YXIgYnNvbl8zNyA9IGJzb24uQmluYXJ5O1xudmFyIGJzb25fMzggPSBic29uLk9iamVjdElkO1xudmFyIGJzb25fMzkgPSBic29uLkxvbmc7XG52YXIgYnNvbl80MCA9IGJzb24uVGltZXN0YW1wO1xudmFyIGJzb25fNDEgPSBic29uLkRvdWJsZTtcbnZhciBic29uXzQyID0gYnNvbi5JbnQzMjtcbnZhciBic29uXzQzID0gYnNvbi5NaW5LZXk7XG52YXIgYnNvbl80NCA9IGJzb24uTWF4S2V5O1xudmFyIGJzb25fNDUgPSBic29uLkJTT05SZWdFeHA7XG52YXIgYnNvbl80NiA9IGJzb24uRGVjaW1hbDEyODtcbnZhciBic29uXzQ3ID0gYnNvbi5zZXJpYWxpemU7XG52YXIgYnNvbl80OCA9IGJzb24uc2VyaWFsaXplV2l0aEJ1ZmZlckFuZEluZGV4O1xudmFyIGJzb25fNDkgPSBic29uLmRlc2VyaWFsaXplO1xudmFyIGJzb25fNTAgPSBic29uLmNhbGN1bGF0ZU9iamVjdFNpemU7XG52YXIgYnNvbl81MSA9IGJzb24uZGVzZXJpYWxpemVTdHJlYW07XG52YXIgYnNvbl81MiA9IGJzb24uc2V0SW50ZXJuYWxCdWZmZXJTaXplO1xudmFyIGJzb25fNTMgPSBic29uLk9iamVjdElEO1xudmFyIGJzb25fNTQgPSBic29uLkVKU09OO1xuXG5leHBvcnQgZGVmYXVsdCBic29uO1xuZXhwb3J0IHsgYnNvbl8xIGFzIEJTT05fSU5UMzJfTUFYLCBic29uXzIgYXMgQlNPTl9JTlQzMl9NSU4sIGJzb25fMyBhcyBCU09OX0lOVDY0X01BWCwgYnNvbl80IGFzIEJTT05fSU5UNjRfTUlOLCBic29uXzUgYXMgSlNfSU5UX01BWCwgYnNvbl82IGFzIEpTX0lOVF9NSU4sIGJzb25fNyBhcyBCU09OX0RBVEFfTlVNQkVSLCBic29uXzggYXMgQlNPTl9EQVRBX1NUUklORywgYnNvbl85IGFzIEJTT05fREFUQV9PQkpFQ1QsIGJzb25fMTAgYXMgQlNPTl9EQVRBX0FSUkFZLCBic29uXzExIGFzIEJTT05fREFUQV9CSU5BUlksIGJzb25fMTIgYXMgQlNPTl9EQVRBX1VOREVGSU5FRCwgYnNvbl8xMyBhcyBCU09OX0RBVEFfT0lELCBic29uXzE0IGFzIEJTT05fREFUQV9CT09MRUFOLCBic29uXzE1IGFzIEJTT05fREFUQV9EQVRFLCBic29uXzE2IGFzIEJTT05fREFUQV9OVUxMLCBic29uXzE3IGFzIEJTT05fREFUQV9SRUdFWFAsIGJzb25fMTggYXMgQlNPTl9EQVRBX0RCUE9JTlRFUiwgYnNvbl8xOSBhcyBCU09OX0RBVEFfQ09ERSwgYnNvbl8yMCBhcyBCU09OX0RBVEFfU1lNQk9MLCBic29uXzIxIGFzIEJTT05fREFUQV9DT0RFX1dfU0NPUEUsIGJzb25fMjIgYXMgQlNPTl9EQVRBX0lOVCwgYnNvbl8yMyBhcyBCU09OX0RBVEFfVElNRVNUQU1QLCBic29uXzI0IGFzIEJTT05fREFUQV9MT05HLCBic29uXzI1IGFzIEJTT05fREFUQV9ERUNJTUFMMTI4LCBic29uXzI2IGFzIEJTT05fREFUQV9NSU5fS0VZLCBic29uXzI3IGFzIEJTT05fREFUQV9NQVhfS0VZLCBic29uXzI4IGFzIEJTT05fQklOQVJZX1NVQlRZUEVfREVGQVVMVCwgYnNvbl8yOSBhcyBCU09OX0JJTkFSWV9TVUJUWVBFX0ZVTkNUSU9OLCBic29uXzMwIGFzIEJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWSwgYnNvbl8zMSBhcyBCU09OX0JJTkFSWV9TVUJUWVBFX1VVSUQsIGJzb25fMzIgYXMgQlNPTl9CSU5BUllfU1VCVFlQRV9NRDUsIGJzb25fMzMgYXMgQlNPTl9CSU5BUllfU1VCVFlQRV9VU0VSX0RFRklORUQsIGJzb25fMzQgYXMgQ29kZSwgYnNvbl8zNSBhcyBCU09OU3ltYm9sLCBic29uXzM2IGFzIERCUmVmLCBic29uXzM3IGFzIEJpbmFyeSwgYnNvbl8zOCBhcyBPYmplY3RJZCwgYnNvbl8zOSBhcyBMb25nLCBic29uXzQwIGFzIFRpbWVzdGFtcCwgYnNvbl80MSBhcyBEb3VibGUsIGJzb25fNDIgYXMgSW50MzIsIGJzb25fNDMgYXMgTWluS2V5LCBic29uXzQ0IGFzIE1heEtleSwgYnNvbl80NSBhcyBCU09OUmVnRXhwLCBic29uXzQ2IGFzIERlY2ltYWwxMjgsIGJzb25fNDcgYXMgc2VyaWFsaXplLCBic29uXzQ4IGFzIHNlcmlhbGl6ZVdpdGhCdWZmZXJBbmRJbmRleCwgYnNvbl80OSBhcyBkZXNlcmlhbGl6ZSwgYnNvbl81MCBhcyBjYWxjdWxhdGVPYmplY3RTaXplLCBic29uXzUxIGFzIGRlc2VyaWFsaXplU3RyZWFtLCBic29uXzUyIGFzIHNldEludGVybmFsQnVmZmVyU2l6ZSwgYnNvbl81MyBhcyBPYmplY3RJRCwgYnNvbl81NCBhcyBFSlNPTiB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/bson/dist/bson.browser.esm.js\n");

/***/ }),

/***/ "./node_modules/detect-browser/index.js":
/*!**********************************************!*\
  !*** ./node_modules/detect-browser/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process) {function detect() {\n  if (typeof navigator !== 'undefined') {\n    return parseUserAgent(navigator.userAgent);\n  }\n\n  return getNodeVersion();\n}\n\nfunction detectOS(userAgentString) {\n  var rules = getOperatingSystemRules();\n  var detected = rules.filter(function (os) {\n    return os.rule && os.rule.test(userAgentString);\n  })[0];\n\n  return detected ? detected.name : null;\n}\n\nfunction getNodeVersion() {\n  var isNode = typeof process !== 'undefined' && process.version;\n  return isNode && {\n    name: 'node',\n    version: process.version.slice(1),\n    os: process.platform\n  };\n}\n\nfunction parseUserAgent(userAgentString) {\n  var browsers = getBrowserRules();\n  if (!userAgentString) {\n    return null;\n  }\n\n  var detected = browsers.map(function(browser) {\n    var match = browser.rule.exec(userAgentString);\n    var version = match && match[1].split(/[._]/).slice(0,3);\n\n    if (version && version.length < 3) {\n      version = version.concat(version.length == 1 ? [0, 0] : [0]);\n    }\n\n    return match && {\n      name: browser.name,\n      version: version.join('.')\n    };\n  }).filter(Boolean)[0] || null;\n\n  if (detected) {\n    detected.os = detectOS(userAgentString);\n  }\n\n  if (/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(userAgentString)) {\n    detected = detected || {};\n    detected.bot = true;\n  }\n\n  return detected;\n}\n\nfunction getBrowserRules() {\n  return buildRules([\n    [ 'aol', /AOLShield\\/([0-9\\._]+)/ ],\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'samsung', /SamsungBrowser\\/([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ],\n    [ 'facebook', /FBAV\\/([0-9\\.]+)/],\n    [ 'instagram', /Instagram\\s([0-9\\.]+)/],\n    [ 'ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/]\n  ]);\n}\n\nfunction getOperatingSystemRules() {\n  return buildRules([\n    [ 'iOS', /iP(hone|od|ad)/ ],\n    [ 'Android OS', /Android/ ],\n    [ 'BlackBerry OS', /BlackBerry|BB10/ ],\n    [ 'Windows Mobile', /IEMobile/ ],\n    [ 'Amazon OS', /Kindle/ ],\n    [ 'Windows 3.11', /Win16/ ],\n    [ 'Windows 95', /(Windows 95)|(Win95)|(Windows_95)/ ],\n    [ 'Windows 98', /(Windows 98)|(Win98)/ ],\n    [ 'Windows 2000', /(Windows NT 5.0)|(Windows 2000)/ ],\n    [ 'Windows XP', /(Windows NT 5.1)|(Windows XP)/ ],\n    [ 'Windows Server 2003', /(Windows NT 5.2)/ ],\n    [ 'Windows Vista', /(Windows NT 6.0)/ ],\n    [ 'Windows 7', /(Windows NT 6.1)/ ],\n    [ 'Windows 8', /(Windows NT 6.2)/ ],\n    [ 'Windows 8.1', /(Windows NT 6.3)/ ],\n    [ 'Windows 10', /(Windows NT 10.0)/ ],\n    [ 'Windows ME', /Windows ME/ ],\n    [ 'Open BSD', /OpenBSD/ ],\n    [ 'Sun OS', /SunOS/ ],\n    [ 'Linux', /(Linux)|(X11)/ ],\n    [ 'Mac OS', /(Mac_PowerPC)|(Macintosh)/ ],\n    [ 'QNX', /QNX/ ],\n    [ 'BeOS', /BeOS/ ],\n    [ 'OS/2', /OS\\/2/ ],\n    [ 'Search Bot', /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/ ]\n  ]);\n}\n\nfunction buildRules(ruleTuples) {\n  return ruleTuples.map(function(tuple) {\n    return {\n      name: tuple[0],\n      rule: tuple[1]\n    };\n  });\n}\n\nmodule.exports = {\n  detect: detect,\n  detectOS: detectOS,\n  getNodeVersion: getNodeVersion,\n  parseUserAgent: parseUserAgent\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2RldGVjdC1icm93c2VyL2luZGV4LmpzPzRhMzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGV0ZWN0LWJyb3dzZXIvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBkZXRlY3QoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBwYXJzZVVzZXJBZ2VudChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgfVxuXG4gIHJldHVybiBnZXROb2RlVmVyc2lvbigpO1xufVxuXG5mdW5jdGlvbiBkZXRlY3RPUyh1c2VyQWdlbnRTdHJpbmcpIHtcbiAgdmFyIHJ1bGVzID0gZ2V0T3BlcmF0aW5nU3lzdGVtUnVsZXMoKTtcbiAgdmFyIGRldGVjdGVkID0gcnVsZXMuZmlsdGVyKGZ1bmN0aW9uIChvcykge1xuICAgIHJldHVybiBvcy5ydWxlICYmIG9zLnJ1bGUudGVzdCh1c2VyQWdlbnRTdHJpbmcpO1xuICB9KVswXTtcblxuICByZXR1cm4gZGV0ZWN0ZWQgPyBkZXRlY3RlZC5uYW1lIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKSB7XG4gIHZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy52ZXJzaW9uO1xuICByZXR1cm4gaXNOb2RlICYmIHtcbiAgICBuYW1lOiAnbm9kZScsXG4gICAgdmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDEpLFxuICAgIG9zOiBwcm9jZXNzLnBsYXRmb3JtXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVzZXJBZ2VudFN0cmluZykge1xuICB2YXIgYnJvd3NlcnMgPSBnZXRCcm93c2VyUnVsZXMoKTtcbiAgaWYgKCF1c2VyQWdlbnRTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBkZXRlY3RlZCA9IGJyb3dzZXJzLm1hcChmdW5jdGlvbihicm93c2VyKSB7XG4gICAgdmFyIG1hdGNoID0gYnJvd3Nlci5ydWxlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICB2YXIgdmVyc2lvbiA9IG1hdGNoICYmIG1hdGNoWzFdLnNwbGl0KC9bLl9dLykuc2xpY2UoMCwzKTtcblxuICAgIGlmICh2ZXJzaW9uICYmIHZlcnNpb24ubGVuZ3RoIDwgMykge1xuICAgICAgdmVyc2lvbiA9IHZlcnNpb24uY29uY2F0KHZlcnNpb24ubGVuZ3RoID09IDEgPyBbMCwgMF0gOiBbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaCAmJiB7XG4gICAgICBuYW1lOiBicm93c2VyLm5hbWUsXG4gICAgICB2ZXJzaW9uOiB2ZXJzaW9uLmpvaW4oJy4nKVxuICAgIH07XG4gIH0pLmZpbHRlcihCb29sZWFuKVswXSB8fCBudWxsO1xuXG4gIGlmIChkZXRlY3RlZCkge1xuICAgIGRldGVjdGVkLm9zID0gZGV0ZWN0T1ModXNlckFnZW50U3RyaW5nKTtcbiAgfVxuXG4gIGlmICgvYWxleGF8Ym90fGNyYXdsKGVyfGluZyl8ZmFjZWJvb2tleHRlcm5hbGhpdHxmZWVkYnVybmVyfGdvb2dsZSB3ZWIgcHJldmlld3xuYWdpb3N8cG9zdHJhbmt8cGluZ2RvbXxzbHVycHxzcGlkZXJ8eWFob28hfHlhbmRleC9pLnRlc3QodXNlckFnZW50U3RyaW5nKSkge1xuICAgIGRldGVjdGVkID0gZGV0ZWN0ZWQgfHwge307XG4gICAgZGV0ZWN0ZWQuYm90ID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBkZXRlY3RlZDtcbn1cblxuZnVuY3Rpb24gZ2V0QnJvd3NlclJ1bGVzKCkge1xuICByZXR1cm4gYnVpbGRSdWxlcyhbXG4gICAgWyAnYW9sJywgL0FPTFNoaWVsZFxcLyhbMC05XFwuX10rKS8gXSxcbiAgICBbICdlZGdlJywgL0VkZ2VcXC8oWzAtOVxcLl9dKykvIF0sXG4gICAgWyAneWFuZGV4YnJvd3NlcicsIC9ZYUJyb3dzZXJcXC8oWzAtOVxcLl9dKykvIF0sXG4gICAgWyAndml2YWxkaScsIC9WaXZhbGRpXFwvKFswLTlcXC5dKykvIF0sXG4gICAgWyAna2FrYW90YWxrJywgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspLyBdLFxuICAgIFsgJ3NhbXN1bmcnLCAvU2Ftc3VuZ0Jyb3dzZXJcXC8oWzAtOVxcLl0rKS8gXSxcbiAgICBbICdjaHJvbWUnLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpLyBdLFxuICAgIFsgJ3BoYW50b21qcycsIC9QaGFudG9tSlNcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS8gXSxcbiAgICBbICdjcmlvcycsIC9DcmlPU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpLyBdLFxuICAgIFsgJ2ZpcmVmb3gnLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpLyBdLFxuICAgIFsgJ2Z4aW9zJywgL0Z4aU9TXFwvKFswLTlcXC5dKykvIF0sXG4gICAgWyAnb3BlcmEnLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS8gXSxcbiAgICBbICdvcGVyYScsIC9PUFJcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKSQvIF0sXG4gICAgWyAnaWUnLCAvVHJpZGVudFxcLzdcXC4wLipydlxcOihbMC05XFwuXSspLipcXCkuKkdlY2tvJC8gXSxcbiAgICBbICdpZScsIC9NU0lFXFxzKFswLTlcXC5dKyk7LipUcmlkZW50XFwvWzQtN10uMC8gXSxcbiAgICBbICdpZScsIC9NU0lFXFxzKDdcXC4wKS8gXSxcbiAgICBbICdiYjEwJywgL0JCMTA7XFxzVG91Y2guKlZlcnNpb25cXC8oWzAtOVxcLl0rKS8gXSxcbiAgICBbICdhbmRyb2lkJywgL0FuZHJvaWRcXHMoWzAtOVxcLl0rKS8gXSxcbiAgICBbICdpb3MnLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi8gXSxcbiAgICBbICdzYWZhcmknLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qU2FmYXJpLyBdLFxuICAgIFsgJ2ZhY2Vib29rJywgL0ZCQVZcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsgJ2luc3RhZ3JhbScsIC9JbnN0YWdyYW1cXHMoWzAtOVxcLl0rKS9dLFxuICAgIFsgJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dXG4gIF0pO1xufVxuXG5mdW5jdGlvbiBnZXRPcGVyYXRpbmdTeXN0ZW1SdWxlcygpIHtcbiAgcmV0dXJuIGJ1aWxkUnVsZXMoW1xuICAgIFsgJ2lPUycsIC9pUChob25lfG9kfGFkKS8gXSxcbiAgICBbICdBbmRyb2lkIE9TJywgL0FuZHJvaWQvIF0sXG4gICAgWyAnQmxhY2tCZXJyeSBPUycsIC9CbGFja0JlcnJ5fEJCMTAvIF0sXG4gICAgWyAnV2luZG93cyBNb2JpbGUnLCAvSUVNb2JpbGUvIF0sXG4gICAgWyAnQW1hem9uIE9TJywgL0tpbmRsZS8gXSxcbiAgICBbICdXaW5kb3dzIDMuMTEnLCAvV2luMTYvIF0sXG4gICAgWyAnV2luZG93cyA5NScsIC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvIF0sXG4gICAgWyAnV2luZG93cyA5OCcsIC8oV2luZG93cyA5OCl8KFdpbjk4KS8gXSxcbiAgICBbICdXaW5kb3dzIDIwMDAnLCAvKFdpbmRvd3MgTlQgNS4wKXwoV2luZG93cyAyMDAwKS8gXSxcbiAgICBbICdXaW5kb3dzIFhQJywgLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApLyBdLFxuICAgIFsgJ1dpbmRvd3MgU2VydmVyIDIwMDMnLCAvKFdpbmRvd3MgTlQgNS4yKS8gXSxcbiAgICBbICdXaW5kb3dzIFZpc3RhJywgLyhXaW5kb3dzIE5UIDYuMCkvIF0sXG4gICAgWyAnV2luZG93cyA3JywgLyhXaW5kb3dzIE5UIDYuMSkvIF0sXG4gICAgWyAnV2luZG93cyA4JywgLyhXaW5kb3dzIE5UIDYuMikvIF0sXG4gICAgWyAnV2luZG93cyA4LjEnLCAvKFdpbmRvd3MgTlQgNi4zKS8gXSxcbiAgICBbICdXaW5kb3dzIDEwJywgLyhXaW5kb3dzIE5UIDEwLjApLyBdLFxuICAgIFsgJ1dpbmRvd3MgTUUnLCAvV2luZG93cyBNRS8gXSxcbiAgICBbICdPcGVuIEJTRCcsIC9PcGVuQlNELyBdLFxuICAgIFsgJ1N1biBPUycsIC9TdW5PUy8gXSxcbiAgICBbICdMaW51eCcsIC8oTGludXgpfChYMTEpLyBdLFxuICAgIFsgJ01hYyBPUycsIC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpLyBdLFxuICAgIFsgJ1FOWCcsIC9RTlgvIF0sXG4gICAgWyAnQmVPUycsIC9CZU9TLyBdLFxuICAgIFsgJ09TLzInLCAvT1NcXC8yLyBdLFxuICAgIFsgJ1NlYXJjaCBCb3QnLCAvKG51aGspfChHb29nbGVib3QpfChZYW1teWJvdCl8KE9wZW5ib3QpfChTbHVycCl8KE1TTkJvdCl8KEFzayBKZWV2ZXNcXC9UZW9tYSl8KGlhX2FyY2hpdmVyKS8gXVxuICBdKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRSdWxlcyhydWxlVHVwbGVzKSB7XG4gIHJldHVybiBydWxlVHVwbGVzLm1hcChmdW5jdGlvbih0dXBsZSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0dXBsZVswXSxcbiAgICAgIHJ1bGU6IHR1cGxlWzFdXG4gICAgfTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXRlY3Q6IGRldGVjdCxcbiAgZGV0ZWN0T1M6IGRldGVjdE9TLFxuICBnZXROb2RlVmVyc2lvbjogZ2V0Tm9kZVZlcnNpb24sXG4gIHBhcnNlVXNlckFnZW50OiBwYXJzZVVzZXJBZ2VudFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/detect-browser/index.js\n");

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanM/OTE1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxXQUFXOztBQUVuQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLFdBQVc7O0FBRW5CO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFdBQVc7O0FBRW5CO0FBQ0E7QUFDQSxRQUFRLFVBQVU7O0FBRWxCO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ieee754/index.js\n");

/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanM/ZTNkYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/isarray/index.js\n");

/***/ }),

/***/ "./node_modules/long/src/long.js":
/*!***************************************!*\
  !*** ./node_modules/long/src/long.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = Long;\r\n\r\n/**\r\n * wasm optimizations, to do native i64 multiplication and divide\r\n */\r\nvar wasm = null;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\r\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11\r\n  ])), {}).exports;\r\n} catch (e) {\r\n  // no wasm support :(\r\n}\r\n\r\n/**\r\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n *  See the from* functions below for more convenient ways of constructing Longs.\r\n * @exports Long\r\n * @class A Long class for representing a 64 bit two's-complement integer value.\r\n * @param {number} low The low (signed) 32 bits of the long\r\n * @param {number} high The high (signed) 32 bits of the long\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @constructor\r\n */\r\nfunction Long(low, high, unsigned) {\r\n\r\n    /**\r\n     * The low 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.low = low | 0;\r\n\r\n    /**\r\n     * The high 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.high = high | 0;\r\n\r\n    /**\r\n     * Whether unsigned or not.\r\n     * @type {boolean}\r\n     */\r\n    this.unsigned = !!unsigned;\r\n}\r\n\r\n// The internal representation of a long is the two given signed, 32-bit values.\r\n// We use 32-bit pieces because these are the size of integers on which\r\n// Javascript performs bit-operations.  For operations like addition and\r\n// multiplication, we split each number into 16 bit pieces, which can easily be\r\n// multiplied within Javascript's floating-point representation without overflow\r\n// or change in sign.\r\n//\r\n// In the algorithms below, we frequently reduce the negative case to the\r\n// positive case by negating the input(s) and then post-processing the result.\r\n// Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n// (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n// a positive number, it overflows back into a negative).  Not handling this\r\n// case would often result in infinite recursion.\r\n//\r\n// Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n// methods on which they depend.\r\n\r\n/**\r\n * An indicator used to reliably determine if an object is a Long or not.\r\n * @type {boolean}\r\n * @const\r\n * @private\r\n */\r\nLong.prototype.__isLong__;\r\n\r\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\r\n\r\n/**\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n * @inner\r\n */\r\nfunction isLong(obj) {\r\n    return (obj && obj[\"__isLong__\"]) === true;\r\n}\r\n\r\n/**\r\n * Tests if the specified object is a Long.\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n */\r\nLong.isLong = isLong;\r\n\r\n/**\r\n * A cache of the Long representations of small integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar INT_CACHE = {};\r\n\r\n/**\r\n * A cache of the Long representations of small unsigned integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar UINT_CACHE = {};\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromInt(value, unsigned) {\r\n    var obj, cachedObj, cache;\r\n    if (unsigned) {\r\n        value >>>= 0;\r\n        if (cache = (0 <= value && value < 256)) {\r\n            cachedObj = UINT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n        if (cache)\r\n            UINT_CACHE[value] = obj;\r\n        return obj;\r\n    } else {\r\n        value |= 0;\r\n        if (cache = (-128 <= value && value < 128)) {\r\n            cachedObj = INT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n        if (cache)\r\n            INT_CACHE[value] = obj;\r\n        return obj;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given 32 bit integer value.\r\n * @function\r\n * @param {number} value The 32 bit integer in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromInt = fromInt;\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromNumber(value, unsigned) {\r\n    if (isNaN(value))\r\n        return unsigned ? UZERO : ZERO;\r\n    if (unsigned) {\r\n        if (value < 0)\r\n            return UZERO;\r\n        if (value >= TWO_PWR_64_DBL)\r\n            return MAX_UNSIGNED_VALUE;\r\n    } else {\r\n        if (value <= -TWO_PWR_63_DBL)\r\n            return MIN_VALUE;\r\n        if (value + 1 >= TWO_PWR_63_DBL)\r\n            return MAX_VALUE;\r\n    }\r\n    if (value < 0)\r\n        return fromNumber(-value, unsigned).neg();\r\n    return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n * @function\r\n * @param {number} value The number in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromNumber = fromNumber;\r\n\r\n/**\r\n * @param {number} lowBits\r\n * @param {number} highBits\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromBits(lowBits, highBits, unsigned) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n *  assumed to use 32 bits.\r\n * @function\r\n * @param {number} lowBits The low 32 bits\r\n * @param {number} highBits The high 32 bits\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromBits = fromBits;\r\n\r\n/**\r\n * @function\r\n * @param {number} base\r\n * @param {number} exponent\r\n * @returns {number}\r\n * @inner\r\n */\r\nvar pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n/**\r\n * @param {string} str\r\n * @param {(boolean|number)=} unsigned\r\n * @param {number=} radix\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromString(str, unsigned, radix) {\r\n    if (str.length === 0)\r\n        throw Error('empty string');\r\n    if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n        return ZERO;\r\n    if (typeof unsigned === 'number') {\r\n        // For goog.math.long compatibility\r\n        radix = unsigned,\r\n        unsigned = false;\r\n    } else {\r\n        unsigned = !! unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n\r\n    var p;\r\n    if ((p = str.indexOf('-')) > 0)\r\n        throw Error('interior hyphen');\r\n    else if (p === 0) {\r\n        return fromString(str.substring(1), unsigned, radix).neg();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n    var result = ZERO;\r\n    for (var i = 0; i < str.length; i += 8) {\r\n        var size = Math.min(8, str.length - i),\r\n            value = parseInt(str.substring(i, i + size), radix);\r\n        if (size < 8) {\r\n            var power = fromNumber(pow_dbl(radix, size));\r\n            result = result.mul(power).add(fromNumber(value));\r\n        } else {\r\n            result = result.mul(radixToPower);\r\n            result = result.add(fromNumber(value));\r\n        }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Returns a Long representation of the given string, written using the specified radix.\r\n * @function\r\n * @param {string} str The textual representation of the Long\r\n * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromString = fromString;\r\n\r\n/**\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromValue(val, unsigned) {\r\n    if (typeof val === 'number')\r\n        return fromNumber(val, unsigned);\r\n    if (typeof val === 'string')\r\n        return fromString(val, unsigned);\r\n    // Throws for non-objects, converts non-instanceof Long:\r\n    return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\r\n}\r\n\r\n/**\r\n * Converts the specified value to a Long using the appropriate from* function for its type.\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long}\r\n */\r\nLong.fromValue = fromValue;\r\n\r\n// NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n// no runtime penalty for these.\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_16_DBL = 1 << 16;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24_DBL = 1 << 24;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n/**\r\n * @type {!Long}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ZERO = fromInt(0);\r\n\r\n/**\r\n * Signed zero.\r\n * @type {!Long}\r\n */\r\nLong.ZERO = ZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UZERO = fromInt(0, true);\r\n\r\n/**\r\n * Unsigned zero.\r\n * @type {!Long}\r\n */\r\nLong.UZERO = UZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ONE = fromInt(1);\r\n\r\n/**\r\n * Signed one.\r\n * @type {!Long}\r\n */\r\nLong.ONE = ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UONE = fromInt(1, true);\r\n\r\n/**\r\n * Unsigned one.\r\n * @type {!Long}\r\n */\r\nLong.UONE = UONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar NEG_ONE = fromInt(-1);\r\n\r\n/**\r\n * Signed negative one.\r\n * @type {!Long}\r\n */\r\nLong.NEG_ONE = NEG_ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n/**\r\n * Maximum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_VALUE = MAX_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n/**\r\n * Maximum unsigned value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n/**\r\n * Minimum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MIN_VALUE = MIN_VALUE;\r\n\r\n/**\r\n * @alias Long.prototype\r\n * @inner\r\n */\r\nvar LongPrototype = Long.prototype;\r\n\r\n/**\r\n * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n * @returns {number}\r\n */\r\nLongPrototype.toInt = function toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n};\r\n\r\n/**\r\n * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n * @returns {number}\r\n */\r\nLongPrototype.toNumber = function toNumber() {\r\n    if (this.unsigned)\r\n        return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n};\r\n\r\n/**\r\n * Converts the Long to a string written in the specified radix.\r\n * @param {number=} radix Radix (2-36), defaults to 10\r\n * @returns {string}\r\n * @override\r\n * @throws {RangeError} If `radix` is out of range\r\n */\r\nLongPrototype.toString = function toString(radix) {\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n    if (this.isZero())\r\n        return '0';\r\n    if (this.isNegative()) { // Unsigned Longs are never negative\r\n        if (this.eq(MIN_VALUE)) {\r\n            // We need to change the Long value before it can be negated, so we remove\r\n            // the bottom-most digit in this base and then recurse to do the rest.\r\n            var radixLong = fromNumber(radix),\r\n                div = this.div(radixLong),\r\n                rem1 = div.mul(radixLong).sub(this);\r\n            return div.toString(radix) + rem1.toInt().toString(radix);\r\n        } else\r\n            return '-' + this.neg().toString(radix);\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n        rem = this;\r\n    var result = '';\r\n    while (true) {\r\n        var remDiv = rem.div(radixToPower),\r\n            intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n            digits = intval.toString(radix);\r\n        rem = remDiv;\r\n        if (rem.isZero())\r\n            return digits + result;\r\n        else {\r\n            while (digits.length < 6)\r\n                digits = '0' + digits;\r\n            result = '' + digits + result;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as a signed integer.\r\n * @returns {number} Signed high bits\r\n */\r\nLongPrototype.getHighBits = function getHighBits() {\r\n    return this.high;\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned high bits\r\n */\r\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as a signed integer.\r\n * @returns {number} Signed low bits\r\n */\r\nLongPrototype.getLowBits = function getLowBits() {\r\n    return this.low;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned low bits\r\n */\r\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the number of bits needed to represent the absolute value of this Long.\r\n * @returns {number}\r\n */\r\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n    if (this.isNegative()) // Unsigned Longs are never negative\r\n        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n    var val = this.high != 0 ? this.high : this.low;\r\n    for (var bit = 31; bit > 0; bit--)\r\n        if ((val & (1 << bit)) != 0)\r\n            break;\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isZero = function isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero. This is an alias of {@link Long#isZero}.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eqz = LongPrototype.isZero;\r\n\r\n/**\r\n * Tests if this Long's value is negative.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isNegative = function isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is positive.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isPositive = function isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is odd.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isOdd = function isOdd() {\r\n    return (this.low & 1) === 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is even.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isEven = function isEven() {\r\n    return (this.low & 1) === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.equals = function equals(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n        return false;\r\n    return this.high === other.high && this.low === other.low;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eq = LongPrototype.equals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.notEquals = function notEquals(other) {\r\n    return !this.eq(/* validates */ other);\r\n};\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.neq = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ne = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThan = function lessThan(other) {\r\n    return this.comp(/* validates */ other) < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lt = LongPrototype.lessThan;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) <= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.le = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThan = function greaterThan(other) {\r\n    return this.comp(/* validates */ other) > 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Compares this Long's value with the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.compare = function compare(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.eq(other))\r\n        return 0;\r\n    var thisNeg = this.isNegative(),\r\n        otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg)\r\n        return -1;\r\n    if (!thisNeg && otherNeg)\r\n        return 1;\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned)\r\n        return this.sub(other).isNegative() ? -1 : 1;\r\n    // Both are positive if at least one is unsigned\r\n    return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n};\r\n\r\n/**\r\n * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.comp = LongPrototype.compare;\r\n\r\n/**\r\n * Negates this Long's value.\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.negate = function negate() {\r\n    if (!this.unsigned && this.eq(MIN_VALUE))\r\n        return MIN_VALUE;\r\n    return this.not().add(ONE);\r\n};\r\n\r\n/**\r\n * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n * @function\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.neg = LongPrototype.negate;\r\n\r\n/**\r\n * Returns the sum of this and the specified Long.\r\n * @param {!Long|number|string} addend Addend\r\n * @returns {!Long} Sum\r\n */\r\nLongPrototype.add = function add(addend) {\r\n    if (!isLong(addend))\r\n        addend = fromValue(addend);\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = addend.high >>> 16;\r\n    var b32 = addend.high & 0xFFFF;\r\n    var b16 = addend.low >>> 16;\r\n    var b00 = addend.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long.\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.subtract = function subtract(subtrahend) {\r\n    if (!isLong(subtrahend))\r\n        subtrahend = fromValue(subtrahend);\r\n    return this.add(subtrahend.neg());\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n * @function\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.sub = LongPrototype.subtract;\r\n\r\n/**\r\n * Returns the product of this and the specified Long.\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.multiply = function multiply(multiplier) {\r\n    if (this.isZero())\r\n        return ZERO;\r\n    if (!isLong(multiplier))\r\n        multiplier = fromValue(multiplier);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = wasm.mul(this.low,\r\n                           this.high,\r\n                           multiplier.low,\r\n                           multiplier.high);\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero())\r\n        return ZERO;\r\n    if (this.eq(MIN_VALUE))\r\n        return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n    if (multiplier.eq(MIN_VALUE))\r\n        return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n    if (this.isNegative()) {\r\n        if (multiplier.isNegative())\r\n            return this.neg().mul(multiplier.neg());\r\n        else\r\n            return this.neg().mul(multiplier).neg();\r\n    } else if (multiplier.isNegative())\r\n        return this.mul(multiplier.neg()).neg();\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = multiplier.high >>> 16;\r\n    var b32 = multiplier.high & 0xFFFF;\r\n    var b16 = multiplier.low >>> 16;\r\n    var b00 = multiplier.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n * @function\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.mul = LongPrototype.multiply;\r\n\r\n/**\r\n * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n *  unsigned if this Long is unsigned.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.divide = function divide(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n    if (divisor.isZero())\r\n        throw Error('division by zero');\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        // guard against signed division overflow: the largest\r\n        // negative number / -1 would be 1 larger than the largest\r\n        // positive number, due to two's complement.\r\n        if (!this.unsigned &&\r\n            this.high === -0x80000000 &&\r\n            divisor.low === -1 && divisor.high === -1) {\r\n            // be consistent with non-wasm code path\r\n            return this;\r\n        }\r\n        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero())\r\n        return this.unsigned ? UZERO : ZERO;\r\n    var approx, rem, res;\r\n    if (!this.unsigned) {\r\n        // This section is only relevant for signed longs and is derived from the\r\n        // closure library as a whole.\r\n        if (this.eq(MIN_VALUE)) {\r\n            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n            else if (divisor.eq(MIN_VALUE))\r\n                return ONE;\r\n            else {\r\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                var halfThis = this.shr(1);\r\n                approx = halfThis.div(divisor).shl(1);\r\n                if (approx.eq(ZERO)) {\r\n                    return divisor.isNegative() ? ONE : NEG_ONE;\r\n                } else {\r\n                    rem = this.sub(divisor.mul(approx));\r\n                    res = approx.add(rem.div(divisor));\r\n                    return res;\r\n                }\r\n            }\r\n        } else if (divisor.eq(MIN_VALUE))\r\n            return this.unsigned ? UZERO : ZERO;\r\n        if (this.isNegative()) {\r\n            if (divisor.isNegative())\r\n                return this.neg().div(divisor.neg());\r\n            return this.neg().div(divisor).neg();\r\n        } else if (divisor.isNegative())\r\n            return this.div(divisor.neg()).neg();\r\n        res = ZERO;\r\n    } else {\r\n        // The algorithm below has not been made for unsigned longs. It's therefore\r\n        // required to take special care of the MSB prior to running it.\r\n        if (!divisor.unsigned)\r\n            divisor = divisor.toUnsigned();\r\n        if (divisor.gt(this))\r\n            return UZERO;\r\n        if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n            return UONE;\r\n        res = UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.gte(divisor)) {\r\n        // Approximate the result of division. This may be a little greater or\r\n        // smaller than the actual value.\r\n        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n        // We will tweak the approximate result by changing it in the 48-th digit or\r\n        // the smallest non-fractional digit, whichever is larger.\r\n        var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n            delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n        // Decrease the approximation until it is smaller than the remainder.  Note\r\n        // that if it is too large, the product overflows and is negative.\r\n            approxRes = fromNumber(approx),\r\n            approxRem = approxRes.mul(divisor);\r\n        while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n            approx -= delta;\r\n            approxRes = fromNumber(approx, this.unsigned);\r\n            approxRem = approxRes.mul(divisor);\r\n        }\r\n\r\n        // We know the answer can't be zero... and actually, zero would cause\r\n        // infinite recursion since we would make no progress.\r\n        if (approxRes.isZero())\r\n            approxRes = ONE;\r\n\r\n        res = res.add(approxRes);\r\n        rem = rem.sub(approxRem);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.div = LongPrototype.divide;\r\n\r\n/**\r\n * Returns this Long modulo the specified.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.modulo = function modulo(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.sub(this.div(divisor).mul(divisor));\r\n};\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.mod = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.rem = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns the bitwise NOT of this Long.\r\n * @returns {!Long}\r\n */\r\nLongPrototype.not = function not() {\r\n    return fromBits(~this.low, ~this.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise AND of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.and = function and(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise OR of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.or = function or(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise XOR of this Long and the given one.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.xor = function xor(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    else\r\n        return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRight = function shiftRight(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n    else\r\n        return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    numBits &= 63;\r\n    if (numBits === 0)\r\n        return this;\r\n    else {\r\n        var high = this.high;\r\n        if (numBits < 32) {\r\n            var low = this.low;\r\n            return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n        } else if (numBits === 32)\r\n            return fromBits(high, 0, this.unsigned);\r\n        else\r\n            return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Converts this Long to signed.\r\n * @returns {!Long} Signed long\r\n */\r\nLongPrototype.toSigned = function toSigned() {\r\n    if (!this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, false);\r\n};\r\n\r\n/**\r\n * Converts this Long to unsigned.\r\n * @returns {!Long} Unsigned long\r\n */\r\nLongPrototype.toUnsigned = function toUnsigned() {\r\n    if (this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, true);\r\n};\r\n\r\n/**\r\n * Converts this Long to its byte representation.\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {!Array.<number>} Byte representation\r\n */\r\nLongPrototype.toBytes = function toBytes(le) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n};\r\n\r\n/**\r\n * Converts this Long to its little endian byte representation.\r\n * @returns {!Array.<number>} Little endian byte representation\r\n */\r\nLongPrototype.toBytesLE = function toBytesLE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        lo        & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo >>> 16 & 0xff,\r\n        lo >>> 24       ,\r\n        hi        & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi >>> 16 & 0xff,\r\n        hi >>> 24\r\n    ];\r\n};\r\n\r\n/**\r\n * Converts this Long to its big endian byte representation.\r\n * @returns {!Array.<number>} Big endian byte representation\r\n */\r\nLongPrototype.toBytesBE = function toBytesBE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        hi >>> 24       ,\r\n        hi >>> 16 & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi        & 0xff,\r\n        lo >>> 24       ,\r\n        lo >>> 16 & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo        & 0xff\r\n    ];\r\n};\r\n\r\n/**\r\n * Creates a Long from its byte representation.\r\n * @param {!Array.<number>} bytes Byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\r\n    return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\r\n};\r\n\r\n/**\r\n * Creates a Long from its little endian byte representation.\r\n * @param {!Array.<number>} bytes Little endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[0]       |\r\n        bytes[1] <<  8 |\r\n        bytes[2] << 16 |\r\n        bytes[3] << 24,\r\n        bytes[4]       |\r\n        bytes[5] <<  8 |\r\n        bytes[6] << 16 |\r\n        bytes[7] << 24,\r\n        unsigned\r\n    );\r\n};\r\n\r\n/**\r\n * Creates a Long from its big endian byte representation.\r\n * @param {!Array.<number>} bytes Big endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[4] << 24 |\r\n        bytes[5] << 16 |\r\n        bytes[6] <<  8 |\r\n        bytes[7],\r\n        bytes[0] << 24 |\r\n        bytes[1] << 16 |\r\n        bytes[2] <<  8 |\r\n        bytes[3],\r\n        unsigned\r\n    );\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2xvbmcvc3JjL2xvbmcuanM/ZGE1YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscURBQXFELGNBQWM7O0FBRW5FO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLHNCQUFzQiw4Q0FBOEM7QUFDL0UsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNCQUFzQiw4Q0FBOEM7QUFDL0UsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdFQUFnRSxrQkFBa0I7QUFDbEYsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRUFBMkUsa0JBQWtCO0FBQzdGO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlGQUFpRixxQkFBcUI7QUFDdEc7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBLGlGQUFpRixxQkFBcUI7QUFDdEc7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUZBQWlGLG9CQUFvQjtBQUNyRztBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwRkFBMEYsMkJBQTJCO0FBQ3JIO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSwwRkFBMEYsMkJBQTJCO0FBQ3JIO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9GQUFvRix1QkFBdUI7QUFDM0c7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkZBQTZGLDhCQUE4QjtBQUMzSDtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0EsNkZBQTZGLDhCQUE4QjtBQUMzSDtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5RUFBeUUsbUJBQW1CO0FBQzVGO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxrQkFBa0I7QUFDckU7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrRUFBK0Usb0JBQW9CO0FBQ25HO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEVBQTRFLG9CQUFvQjtBQUNoRztBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxtQkFBbUI7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLGtCQUFrQjtBQUN0RjtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdFQUFnRSxrQkFBa0I7QUFDbEY7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFQTtBQUNBLGdFQUFnRSxrQkFBa0I7QUFDbEY7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2RkFBNkYscUJBQXFCO0FBQ2xIO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2R0FBNkcsc0JBQXNCO0FBQ25JO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0dBQXdHLDhCQUE4QjtBQUN0STtBQUNBLFdBQVcsYUFBYTtBQUN4QixhQUFhLE1BQU07QUFDbkI7QUFDQTs7QUFFQTtBQUNBLHdHQUF3Ryw4QkFBOEI7QUFDdEk7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsU0FBUztBQUNwQixhQUFhLEtBQUs7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb25nL3NyYy9sb25nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBMb25nO1xyXG5cclxuLyoqXHJcbiAqIHdhc20gb3B0aW1pemF0aW9ucywgdG8gZG8gbmF0aXZlIGk2NCBtdWx0aXBsaWNhdGlvbiBhbmQgZGl2aWRlXHJcbiAqL1xyXG52YXIgd2FzbSA9IG51bGw7XHJcblxyXG50cnkge1xyXG4gIHdhc20gPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShbXHJcbiAgICAwLCA5NywgMTE1LCAxMDksIDEsIDAsIDAsIDAsIDEsIDEzLCAyLCA5NiwgMCwgMSwgMTI3LCA5NiwgNCwgMTI3LCAxMjcsIDEyNywgMTI3LCAxLCAxMjcsIDMsIDcsIDYsIDAsIDEsIDEsIDEsIDEsIDEsIDYsIDYsIDEsIDEyNywgMSwgNjUsIDAsIDExLCA3LCA1MCwgNiwgMywgMTA5LCAxMTcsIDEwOCwgMCwgMSwgNSwgMTAwLCAxMDUsIDExOCwgOTUsIDExNSwgMCwgMiwgNSwgMTAwLCAxMDUsIDExOCwgOTUsIDExNywgMCwgMywgNSwgMTE0LCAxMDEsIDEwOSwgOTUsIDExNSwgMCwgNCwgNSwgMTE0LCAxMDEsIDEwOSwgOTUsIDExNywgMCwgNSwgOCwgMTAzLCAxMDEsIDExNiwgOTUsIDEwNCwgMTA1LCAxMDMsIDEwNCwgMCwgMCwgMTAsIDE5MSwgMSwgNiwgNCwgMCwgMzUsIDAsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjYsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyNywgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI4LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjksIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEzMCwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMVxyXG4gIF0pKSwge30pLmV4cG9ydHM7XHJcbn0gY2F0Y2ggKGUpIHtcclxuICAvLyBubyB3YXNtIHN1cHBvcnQgOihcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYSA2NCBiaXQgdHdvJ3MtY29tcGxlbWVudCBpbnRlZ2VyLCBnaXZlbiBpdHMgbG93IGFuZCBoaWdoIDMyIGJpdCB2YWx1ZXMgYXMgKnNpZ25lZCogaW50ZWdlcnMuXHJcbiAqICBTZWUgdGhlIGZyb20qIGZ1bmN0aW9ucyBiZWxvdyBmb3IgbW9yZSBjb252ZW5pZW50IHdheXMgb2YgY29uc3RydWN0aW5nIExvbmdzLlxyXG4gKiBAZXhwb3J0cyBMb25nXHJcbiAqIEBjbGFzcyBBIExvbmcgY2xhc3MgZm9yIHJlcHJlc2VudGluZyBhIDY0IGJpdCB0d28ncy1jb21wbGVtZW50IGludGVnZXIgdmFsdWUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3cgVGhlIGxvdyAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBsb25nXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoIFRoZSBoaWdoIChzaWduZWQpIDMyIGJpdHMgb2YgdGhlIGxvbmdcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIExvbmcobG93LCBoaWdoLCB1bnNpZ25lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGxvdyAzMiBiaXRzIGFzIGEgc2lnbmVkIHZhbHVlLlxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgdGhpcy5sb3cgPSBsb3cgfCAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGhpZ2ggMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuaGlnaCA9IGhpZ2ggfCAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB1bnNpZ25lZCBvciBub3QuXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdGhpcy51bnNpZ25lZCA9ICEhdW5zaWduZWQ7XHJcbn1cclxuXHJcbi8vIFRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBhIGxvbmcgaXMgdGhlIHR3byBnaXZlbiBzaWduZWQsIDMyLWJpdCB2YWx1ZXMuXHJcbi8vIFdlIHVzZSAzMi1iaXQgcGllY2VzIGJlY2F1c2UgdGhlc2UgYXJlIHRoZSBzaXplIG9mIGludGVnZXJzIG9uIHdoaWNoXHJcbi8vIEphdmFzY3JpcHQgcGVyZm9ybXMgYml0LW9wZXJhdGlvbnMuICBGb3Igb3BlcmF0aW9ucyBsaWtlIGFkZGl0aW9uIGFuZFxyXG4vLyBtdWx0aXBsaWNhdGlvbiwgd2Ugc3BsaXQgZWFjaCBudW1iZXIgaW50byAxNiBiaXQgcGllY2VzLCB3aGljaCBjYW4gZWFzaWx5IGJlXHJcbi8vIG11bHRpcGxpZWQgd2l0aGluIEphdmFzY3JpcHQncyBmbG9hdGluZy1wb2ludCByZXByZXNlbnRhdGlvbiB3aXRob3V0IG92ZXJmbG93XHJcbi8vIG9yIGNoYW5nZSBpbiBzaWduLlxyXG4vL1xyXG4vLyBJbiB0aGUgYWxnb3JpdGhtcyBiZWxvdywgd2UgZnJlcXVlbnRseSByZWR1Y2UgdGhlIG5lZ2F0aXZlIGNhc2UgdG8gdGhlXHJcbi8vIHBvc2l0aXZlIGNhc2UgYnkgbmVnYXRpbmcgdGhlIGlucHV0KHMpIGFuZCB0aGVuIHBvc3QtcHJvY2Vzc2luZyB0aGUgcmVzdWx0LlxyXG4vLyBOb3RlIHRoYXQgd2UgbXVzdCBBTFdBWVMgY2hlY2sgc3BlY2lhbGx5IHdoZXRoZXIgdGhvc2UgdmFsdWVzIGFyZSBNSU5fVkFMVUVcclxuLy8gKC0yXjYzKSBiZWNhdXNlIC1NSU5fVkFMVUUgPT0gTUlOX1ZBTFVFIChzaW5jZSAyXjYzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBhc1xyXG4vLyBhIHBvc2l0aXZlIG51bWJlciwgaXQgb3ZlcmZsb3dzIGJhY2sgaW50byBhIG5lZ2F0aXZlKS4gIE5vdCBoYW5kbGluZyB0aGlzXHJcbi8vIGNhc2Ugd291bGQgb2Z0ZW4gcmVzdWx0IGluIGluZmluaXRlIHJlY3Vyc2lvbi5cclxuLy9cclxuLy8gQ29tbW9uIGNvbnN0YW50IHZhbHVlcyBaRVJPLCBPTkUsIE5FR19PTkUsIGV0Yy4gYXJlIGRlZmluZWQgYmVsb3cgdGhlIGZyb20qXHJcbi8vIG1ldGhvZHMgb24gd2hpY2ggdGhleSBkZXBlbmQuXHJcblxyXG4vKipcclxuICogQW4gaW5kaWNhdG9yIHVzZWQgdG8gcmVsaWFibHkgZGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIExvbmcgb3Igbm90LlxyXG4gKiBAdHlwZSB7Ym9vbGVhbn1cclxuICogQGNvbnN0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5Mb25nLnByb3RvdHlwZS5fX2lzTG9uZ19fO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExvbmcucHJvdG90eXBlLCBcIl9faXNMb25nX19cIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0XHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGlzTG9uZyhvYmopIHtcclxuICAgIHJldHVybiAob2JqICYmIG9ialtcIl9faXNMb25nX19cIl0pID09PSB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgaXMgYSBMb25nLlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0XHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZy5pc0xvbmcgPSBpc0xvbmc7XHJcblxyXG4vKipcclxuICogQSBjYWNoZSBvZiB0aGUgTG9uZyByZXByZXNlbnRhdGlvbnMgb2Ygc21hbGwgaW50ZWdlciB2YWx1ZXMuXHJcbiAqIEB0eXBlIHshT2JqZWN0fVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBJTlRfQ0FDSEUgPSB7fTtcclxuXHJcbi8qKlxyXG4gKiBBIGNhY2hlIG9mIHRoZSBMb25nIHJlcHJlc2VudGF0aW9ucyBvZiBzbWFsbCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy5cclxuICogQHR5cGUgeyFPYmplY3R9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFVJTlRfQ0FDSEUgPSB7fTtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21JbnQodmFsdWUsIHVuc2lnbmVkKSB7XHJcbiAgICB2YXIgb2JqLCBjYWNoZWRPYmosIGNhY2hlO1xyXG4gICAgaWYgKHVuc2lnbmVkKSB7XHJcbiAgICAgICAgdmFsdWUgPj4+PSAwO1xyXG4gICAgICAgIGlmIChjYWNoZSA9ICgwIDw9IHZhbHVlICYmIHZhbHVlIDwgMjU2KSkge1xyXG4gICAgICAgICAgICBjYWNoZWRPYmogPSBVSU5UX0NBQ0hFW3ZhbHVlXTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZE9iailcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9iaiA9IGZyb21CaXRzKHZhbHVlLCAodmFsdWUgfCAwKSA8IDAgPyAtMSA6IDAsIHRydWUpO1xyXG4gICAgICAgIGlmIChjYWNoZSlcclxuICAgICAgICAgICAgVUlOVF9DQUNIRVt2YWx1ZV0gPSBvYmo7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFsdWUgfD0gMDtcclxuICAgICAgICBpZiAoY2FjaGUgPSAoLTEyOCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDEyOCkpIHtcclxuICAgICAgICAgICAgY2FjaGVkT2JqID0gSU5UX0NBQ0hFW3ZhbHVlXTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZE9iailcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9iaiA9IGZyb21CaXRzKHZhbHVlLCB2YWx1ZSA8IDAgPyAtMSA6IDAsIGZhbHNlKTtcclxuICAgICAgICBpZiAoY2FjaGUpXHJcbiAgICAgICAgICAgIElOVF9DQUNIRVt2YWx1ZV0gPSBvYmo7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gMzIgYml0IGludGVnZXIgdmFsdWUuXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIDMyIGJpdCBpbnRlZ2VyIGluIHF1ZXN0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21JbnQgPSBmcm9tSW50O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbU51bWJlcih2YWx1ZSwgdW5zaWduZWQpIHtcclxuICAgIGlmIChpc05hTih2YWx1ZSkpXHJcbiAgICAgICAgcmV0dXJuIHVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xyXG4gICAgaWYgKHVuc2lnbmVkKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgMClcclxuICAgICAgICAgICAgcmV0dXJuIFVaRVJPO1xyXG4gICAgICAgIGlmICh2YWx1ZSA+PSBUV09fUFdSXzY0X0RCTClcclxuICAgICAgICAgICAgcmV0dXJuIE1BWF9VTlNJR05FRF9WQUxVRTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDw9IC1UV09fUFdSXzYzX0RCTClcclxuICAgICAgICAgICAgcmV0dXJuIE1JTl9WQUxVRTtcclxuICAgICAgICBpZiAodmFsdWUgKyAxID49IFRXT19QV1JfNjNfREJMKVxyXG4gICAgICAgICAgICByZXR1cm4gTUFYX1ZBTFVFO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlIDwgMClcclxuICAgICAgICByZXR1cm4gZnJvbU51bWJlcigtdmFsdWUsIHVuc2lnbmVkKS5uZWcoKTtcclxuICAgIHJldHVybiBmcm9tQml0cygodmFsdWUgJSBUV09fUFdSXzMyX0RCTCkgfCAwLCAodmFsdWUgLyBUV09fUFdSXzMyX0RCTCkgfCAwLCB1bnNpZ25lZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIHZhbHVlLCBwcm92aWRlZCB0aGF0IGl0IGlzIGEgZmluaXRlIG51bWJlci4gT3RoZXJ3aXNlLCB6ZXJvIGlzIHJldHVybmVkLlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBudW1iZXIgaW4gcXVlc3Rpb25cclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbU51bWJlciA9IGZyb21OdW1iZXI7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0JpdHNcclxuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hCaXRzXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tQml0cyhsb3dCaXRzLCBoaWdoQml0cywgdW5zaWduZWQpIHtcclxuICAgIHJldHVybiBuZXcgTG9uZyhsb3dCaXRzLCBoaWdoQml0cywgdW5zaWduZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSA2NCBiaXQgaW50ZWdlciB0aGF0IGNvbWVzIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIGdpdmVuIGxvdyBhbmQgaGlnaCBiaXRzLiBFYWNoIGlzXHJcbiAqICBhc3N1bWVkIHRvIHVzZSAzMiBiaXRzLlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0JpdHMgVGhlIGxvdyAzMiBiaXRzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoQml0cyBUaGUgaGlnaCAzMiBiaXRzXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21CaXRzID0gZnJvbUJpdHM7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiYXNlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBleHBvbmVudFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBwb3dfZGJsID0gTWF0aC5wb3c7IC8vIFVzZWQgNCB0aW1lcyAoNCo4IHRvIDE1KzQpXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcGFyYW0geyhib29sZWFufG51bWJlcik9fSB1bnNpZ25lZFxyXG4gKiBAcGFyYW0ge251bWJlcj19IHJhZGl4XHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tU3RyaW5nKHN0ciwgdW5zaWduZWQsIHJhZGl4KSB7XHJcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMClcclxuICAgICAgICB0aHJvdyBFcnJvcignZW1wdHkgc3RyaW5nJyk7XHJcbiAgICBpZiAoc3RyID09PSBcIk5hTlwiIHx8IHN0ciA9PT0gXCJJbmZpbml0eVwiIHx8IHN0ciA9PT0gXCIrSW5maW5pdHlcIiB8fCBzdHIgPT09IFwiLUluZmluaXR5XCIpXHJcbiAgICAgICAgcmV0dXJuIFpFUk87XHJcbiAgICBpZiAodHlwZW9mIHVuc2lnbmVkID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIC8vIEZvciBnb29nLm1hdGgubG9uZyBjb21wYXRpYmlsaXR5XHJcbiAgICAgICAgcmFkaXggPSB1bnNpZ25lZCxcclxuICAgICAgICB1bnNpZ25lZCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB1bnNpZ25lZCA9ICEhIHVuc2lnbmVkO1xyXG4gICAgfVxyXG4gICAgcmFkaXggPSByYWRpeCB8fCAxMDtcclxuICAgIGlmIChyYWRpeCA8IDIgfHwgMzYgPCByYWRpeClcclxuICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdyYWRpeCcpO1xyXG5cclxuICAgIHZhciBwO1xyXG4gICAgaWYgKChwID0gc3RyLmluZGV4T2YoJy0nKSkgPiAwKVxyXG4gICAgICAgIHRocm93IEVycm9yKCdpbnRlcmlvciBoeXBoZW4nKTtcclxuICAgIGVsc2UgaWYgKHAgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gZnJvbVN0cmluZyhzdHIuc3Vic3RyaW5nKDEpLCB1bnNpZ25lZCwgcmFkaXgpLm5lZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERvIHNldmVyYWwgKDgpIGRpZ2l0cyBlYWNoIHRpbWUgdGhyb3VnaCB0aGUgbG9vcCwgc28gYXMgdG9cclxuICAgIC8vIG1pbmltaXplIHRoZSBjYWxscyB0byB0aGUgdmVyeSBleHBlbnNpdmUgZW11bGF0ZWQgZGl2LlxyXG4gICAgdmFyIHJhZGl4VG9Qb3dlciA9IGZyb21OdW1iZXIocG93X2RibChyYWRpeCwgOCkpO1xyXG5cclxuICAgIHZhciByZXN1bHQgPSBaRVJPO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDgpIHtcclxuICAgICAgICB2YXIgc2l6ZSA9IE1hdGgubWluKDgsIHN0ci5sZW5ndGggLSBpKSxcclxuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKGksIGkgKyBzaXplKSwgcmFkaXgpO1xyXG4gICAgICAgIGlmIChzaXplIDwgOCkge1xyXG4gICAgICAgICAgICB2YXIgcG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIHNpemUpKTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bChwb3dlcikuYWRkKGZyb21OdW1iZXIodmFsdWUpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubXVsKHJhZGl4VG9Qb3dlcik7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5hZGQoZnJvbU51bWJlcih2YWx1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc3VsdC51bnNpZ25lZCA9IHVuc2lnbmVkO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBzdHJpbmcsIHdyaXR0ZW4gdXNpbmcgdGhlIHNwZWNpZmllZCByYWRpeC5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgVGhlIHRleHR1YWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIExvbmdcclxuICogQHBhcmFtIHsoYm9vbGVhbnxudW1iZXIpPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcGFyYW0ge251bWJlcj19IHJhZGl4IFRoZSByYWRpeCBpbiB3aGljaCB0aGUgdGV4dCBpcyB3cml0dGVuICgyLTM2KSwgZGVmYXVsdHMgdG8gMTBcclxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd8IXtsb3c6IG51bWJlciwgaGlnaDogbnVtYmVyLCB1bnNpZ25lZDogYm9vbGVhbn19IHZhbFxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVZhbHVlKHZhbCwgdW5zaWduZWQpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJylcclxuICAgICAgICByZXR1cm4gZnJvbU51bWJlcih2YWwsIHVuc2lnbmVkKTtcclxuICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJylcclxuICAgICAgICByZXR1cm4gZnJvbVN0cmluZyh2YWwsIHVuc2lnbmVkKTtcclxuICAgIC8vIFRocm93cyBmb3Igbm9uLW9iamVjdHMsIGNvbnZlcnRzIG5vbi1pbnN0YW5jZW9mIExvbmc6XHJcbiAgICByZXR1cm4gZnJvbUJpdHModmFsLmxvdywgdmFsLmhpZ2gsIHR5cGVvZiB1bnNpZ25lZCA9PT0gJ2Jvb2xlYW4nID8gdW5zaWduZWQgOiB2YWwudW5zaWduZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIHNwZWNpZmllZCB2YWx1ZSB0byBhIExvbmcgdXNpbmcgdGhlIGFwcHJvcHJpYXRlIGZyb20qIGZ1bmN0aW9uIGZvciBpdHMgdHlwZS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ3whe2xvdzogbnVtYmVyLCBoaWdoOiBudW1iZXIsIHVuc2lnbmVkOiBib29sZWFufX0gdmFsIFZhbHVlXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5mcm9tVmFsdWUgPSBmcm9tVmFsdWU7XHJcblxyXG4vLyBOT1RFOiB0aGUgY29tcGlsZXIgc2hvdWxkIGlubGluZSB0aGVzZSBjb25zdGFudCB2YWx1ZXMgYmVsb3cgYW5kIHRoZW4gcmVtb3ZlIHRoZXNlIHZhcmlhYmxlcywgc28gdGhlcmUgc2hvdWxkIGJlXHJcbi8vIG5vIHJ1bnRpbWUgcGVuYWx0eSBmb3IgdGhlc2UuXHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMTZfREJMID0gMSA8PCAxNjtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl8yNF9EQkwgPSAxIDw8IDI0O1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzMyX0RCTCA9IFRXT19QV1JfMTZfREJMICogVFdPX1BXUl8xNl9EQkw7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfNjRfREJMID0gVFdPX1BXUl8zMl9EQkwgKiBUV09fUFdSXzMyX0RCTDtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl82M19EQkwgPSBUV09fUFdSXzY0X0RCTCAvIDI7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl8yNCA9IGZyb21JbnQoVFdPX1BXUl8yNF9EQkwpO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgWkVSTyA9IGZyb21JbnQoMCk7XHJcblxyXG4vKipcclxuICogU2lnbmVkIHplcm8uXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuWkVSTyA9IFpFUk87XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBVWkVSTyA9IGZyb21JbnQoMCwgdHJ1ZSk7XHJcblxyXG4vKipcclxuICogVW5zaWduZWQgemVyby5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5VWkVSTyA9IFVaRVJPO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgT05FID0gZnJvbUludCgxKTtcclxuXHJcbi8qKlxyXG4gKiBTaWduZWQgb25lLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLk9ORSA9IE9ORTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFVPTkUgPSBmcm9tSW50KDEsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIFVuc2lnbmVkIG9uZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5VT05FID0gVU9ORTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE5FR19PTkUgPSBmcm9tSW50KC0xKTtcclxuXHJcbi8qKlxyXG4gKiBTaWduZWQgbmVnYXRpdmUgb25lLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLk5FR19PTkUgPSBORUdfT05FO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTUFYX1ZBTFVFID0gZnJvbUJpdHMoMHhGRkZGRkZGRnwwLCAweDdGRkZGRkZGfDAsIGZhbHNlKTtcclxuXHJcbi8qKlxyXG4gKiBNYXhpbXVtIHNpZ25lZCB2YWx1ZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5NQVhfVkFMVUUgPSBNQVhfVkFMVUU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBNQVhfVU5TSUdORURfVkFMVUUgPSBmcm9tQml0cygweEZGRkZGRkZGfDAsIDB4RkZGRkZGRkZ8MCwgdHJ1ZSk7XHJcblxyXG4vKipcclxuICogTWF4aW11bSB1bnNpZ25lZCB2YWx1ZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5NQVhfVU5TSUdORURfVkFMVUUgPSBNQVhfVU5TSUdORURfVkFMVUU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBNSU5fVkFMVUUgPSBmcm9tQml0cygwLCAweDgwMDAwMDAwfDAsIGZhbHNlKTtcclxuXHJcbi8qKlxyXG4gKiBNaW5pbXVtIHNpZ25lZCB2YWx1ZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5NSU5fVkFMVUUgPSBNSU5fVkFMVUU7XHJcblxyXG4vKipcclxuICogQGFsaWFzIExvbmcucHJvdG90eXBlXHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIExvbmdQcm90b3R5cGUgPSBMb25nLnByb3RvdHlwZTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIDMyIGJpdCBpbnRlZ2VyLCBhc3N1bWluZyBpdCBpcyBhIDMyIGJpdCBpbnRlZ2VyLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0ludCA9IGZ1bmN0aW9uIHRvSW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMudW5zaWduZWQgPyB0aGlzLmxvdyA+Pj4gMCA6IHRoaXMubG93O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoZSBMb25nIHRvIGEgdGhlIG5lYXJlc3QgZmxvYXRpbmctcG9pbnQgcmVwcmVzZW50YXRpb24gb2YgdGhpcyB2YWx1ZSAoZG91YmxlLCA1MyBiaXQgbWFudGlzc2EpLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uIHRvTnVtYmVyKCkge1xyXG4gICAgaWYgKHRoaXMudW5zaWduZWQpXHJcbiAgICAgICAgcmV0dXJuICgodGhpcy5oaWdoID4+PiAwKSAqIFRXT19QV1JfMzJfREJMKSArICh0aGlzLmxvdyA+Pj4gMCk7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoICogVFdPX1BXUl8zMl9EQkwgKyAodGhpcy5sb3cgPj4+IDApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoZSBMb25nIHRvIGEgc3RyaW5nIHdyaXR0ZW4gaW4gdGhlIHNwZWNpZmllZCByYWRpeC5cclxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeCBSYWRpeCAoMi0zNiksIGRlZmF1bHRzIHRvIDEwXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqIEBvdmVycmlkZVxyXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBJZiBgcmFkaXhgIGlzIG91dCBvZiByYW5nZVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKHJhZGl4KSB7XHJcbiAgICByYWRpeCA9IHJhZGl4IHx8IDEwO1xyXG4gICAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KVxyXG4gICAgICAgIHRocm93IFJhbmdlRXJyb3IoJ3JhZGl4Jyk7XHJcbiAgICBpZiAodGhpcy5pc1plcm8oKSlcclxuICAgICAgICByZXR1cm4gJzAnO1xyXG4gICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7IC8vIFVuc2lnbmVkIExvbmdzIGFyZSBuZXZlciBuZWdhdGl2ZVxyXG4gICAgICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcclxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjaGFuZ2UgdGhlIExvbmcgdmFsdWUgYmVmb3JlIGl0IGNhbiBiZSBuZWdhdGVkLCBzbyB3ZSByZW1vdmVcclxuICAgICAgICAgICAgLy8gdGhlIGJvdHRvbS1tb3N0IGRpZ2l0IGluIHRoaXMgYmFzZSBhbmQgdGhlbiByZWN1cnNlIHRvIGRvIHRoZSByZXN0LlxyXG4gICAgICAgICAgICB2YXIgcmFkaXhMb25nID0gZnJvbU51bWJlcihyYWRpeCksXHJcbiAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmRpdihyYWRpeExvbmcpLFxyXG4gICAgICAgICAgICAgICAgcmVtMSA9IGRpdi5tdWwocmFkaXhMb25nKS5zdWIodGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXYudG9TdHJpbmcocmFkaXgpICsgcmVtMS50b0ludCgpLnRvU3RyaW5nKHJhZGl4KTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuICctJyArIHRoaXMubmVnKCkudG9TdHJpbmcocmFkaXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERvIHNldmVyYWwgKDYpIGRpZ2l0cyBlYWNoIHRpbWUgdGhyb3VnaCB0aGUgbG9vcCwgc28gYXMgdG9cclxuICAgIC8vIG1pbmltaXplIHRoZSBjYWxscyB0byB0aGUgdmVyeSBleHBlbnNpdmUgZW11bGF0ZWQgZGl2LlxyXG4gICAgdmFyIHJhZGl4VG9Qb3dlciA9IGZyb21OdW1iZXIocG93X2RibChyYWRpeCwgNiksIHRoaXMudW5zaWduZWQpLFxyXG4gICAgICAgIHJlbSA9IHRoaXM7XHJcbiAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIHZhciByZW1EaXYgPSByZW0uZGl2KHJhZGl4VG9Qb3dlciksXHJcbiAgICAgICAgICAgIGludHZhbCA9IHJlbS5zdWIocmVtRGl2Lm11bChyYWRpeFRvUG93ZXIpKS50b0ludCgpID4+PiAwLFxyXG4gICAgICAgICAgICBkaWdpdHMgPSBpbnR2YWwudG9TdHJpbmcocmFkaXgpO1xyXG4gICAgICAgIHJlbSA9IHJlbURpdjtcclxuICAgICAgICBpZiAocmVtLmlzWmVybygpKVxyXG4gICAgICAgICAgICByZXR1cm4gZGlnaXRzICsgcmVzdWx0O1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA8IDYpXHJcbiAgICAgICAgICAgICAgICBkaWdpdHMgPSAnMCcgKyBkaWdpdHM7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9ICcnICsgZGlnaXRzICsgcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBoaWdoIDMyIGJpdHMgYXMgYSBzaWduZWQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn0gU2lnbmVkIGhpZ2ggYml0c1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZXRIaWdoQml0cyA9IGZ1bmN0aW9uIGdldEhpZ2hCaXRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBoaWdoIDMyIGJpdHMgYXMgYW4gdW5zaWduZWQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn0gVW5zaWduZWQgaGlnaCBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldEhpZ2hCaXRzVW5zaWduZWQgPSBmdW5jdGlvbiBnZXRIaWdoQml0c1Vuc2lnbmVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCA+Pj4gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBsb3cgMzIgYml0cyBhcyBhIHNpZ25lZCBpbnRlZ2VyLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBTaWduZWQgbG93IGJpdHNcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2V0TG93Qml0cyA9IGZ1bmN0aW9uIGdldExvd0JpdHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sb3c7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgbG93IDMyIGJpdHMgYXMgYW4gdW5zaWduZWQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn0gVW5zaWduZWQgbG93IGJpdHNcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2V0TG93Qml0c1Vuc2lnbmVkID0gZnVuY3Rpb24gZ2V0TG93Qml0c1Vuc2lnbmVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG93ID4+PiAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIG51bWJlciBvZiBiaXRzIG5lZWRlZCB0byByZXByZXNlbnQgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgTG9uZy5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2V0TnVtQml0c0FicyA9IGZ1bmN0aW9uIGdldE51bUJpdHNBYnMoKSB7XHJcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIC8vIFVuc2lnbmVkIExvbmdzIGFyZSBuZXZlciBuZWdhdGl2ZVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVxKE1JTl9WQUxVRSkgPyA2NCA6IHRoaXMubmVnKCkuZ2V0TnVtQml0c0FicygpO1xyXG4gICAgdmFyIHZhbCA9IHRoaXMuaGlnaCAhPSAwID8gdGhpcy5oaWdoIDogdGhpcy5sb3c7XHJcbiAgICBmb3IgKHZhciBiaXQgPSAzMTsgYml0ID4gMDsgYml0LS0pXHJcbiAgICAgICAgaWYgKCh2YWwgJiAoMSA8PCBiaXQpKSAhPSAwKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIHJldHVybiB0aGlzLmhpZ2ggIT0gMCA/IGJpdCArIDMzIDogYml0ICsgMTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgemVyby5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uIGlzWmVybygpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZ2ggPT09IDAgJiYgdGhpcy5sb3cgPT09IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHplcm8uIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjaXNaZXJvfS5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmVxeiA9IExvbmdQcm90b3R5cGUuaXNaZXJvO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIG5lZ2F0aXZlLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uIGlzTmVnYXRpdmUoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMudW5zaWduZWQgJiYgdGhpcy5oaWdoIDwgMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBwb3NpdGl2ZS5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzUG9zaXRpdmUgPSBmdW5jdGlvbiBpc1Bvc2l0aXZlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudW5zaWduZWQgfHwgdGhpcy5oaWdoID49IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgb2RkLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuaXNPZGQgPSBmdW5jdGlvbiBpc09kZCgpIHtcclxuICAgIHJldHVybiAodGhpcy5sb3cgJiAxKSA9PT0gMTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBldmVuLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuaXNFdmVuID0gZnVuY3Rpb24gaXNFdmVuKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLmxvdyAmIDEpID09PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIGlmICh0aGlzLnVuc2lnbmVkICE9PSBvdGhlci51bnNpZ25lZCAmJiAodGhpcy5oaWdoID4+PiAzMSkgPT09IDEgJiYgKG90aGVyLmhpZ2ggPj4+IDMxKSA9PT0gMSlcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoID09PSBvdGhlci5oaWdoICYmIHRoaXMubG93ID09PSBvdGhlci5sb3c7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNlcXVhbHN9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZXEgPSBMb25nUHJvdG90eXBlLmVxdWFscztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHMgPSBmdW5jdGlvbiBub3RFcXVhbHMob3RoZXIpIHtcclxuICAgIHJldHVybiAhdGhpcy5lcSgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGRpZmZlcnMgZnJvbSB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbm90RXF1YWxzfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm5lcSA9IExvbmdQcm90b3R5cGUubm90RXF1YWxzO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGRpZmZlcnMgZnJvbSB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbm90RXF1YWxzfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm5lID0gTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHM7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubGVzc1RoYW4gPSBmdW5jdGlvbiBsZXNzVGhhbihvdGhlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpIDwgMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFufS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmx0ID0gTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbjtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbk9yRXF1YWwgPSBmdW5jdGlvbiBsZXNzVGhhbk9yRXF1YWwob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA8PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbGVzc1RoYW5PckVxdWFsfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmx0ZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbGVzc1RoYW5PckVxdWFsfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmxlID0gTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbk9yRXF1YWw7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW4gPSBmdW5jdGlvbiBncmVhdGVyVGhhbihvdGhlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpID4gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFufS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmd0ID0gTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbjtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbk9yRXF1YWwgPSBmdW5jdGlvbiBncmVhdGVyVGhhbk9yRXF1YWwob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA+PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZ3JlYXRlclRoYW5PckVxdWFsfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmd0ZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZ3JlYXRlclRoYW5PckVxdWFsfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdlID0gTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbk9yRXF1YWw7XHJcblxyXG4vKipcclxuICogQ29tcGFyZXMgdGhpcyBMb25nJ3MgdmFsdWUgd2l0aCB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge251bWJlcn0gMCBpZiB0aGV5IGFyZSB0aGUgc2FtZSwgMSBpZiB0aGUgdGhpcyBpcyBncmVhdGVyIGFuZCAtMVxyXG4gKiAgaWYgdGhlIGdpdmVuIG9uZSBpcyBncmVhdGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlKG90aGVyKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhvdGhlcikpXHJcbiAgICAgICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xyXG4gICAgaWYgKHRoaXMuZXEob3RoZXIpKVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgdmFyIHRoaXNOZWcgPSB0aGlzLmlzTmVnYXRpdmUoKSxcclxuICAgICAgICBvdGhlck5lZyA9IG90aGVyLmlzTmVnYXRpdmUoKTtcclxuICAgIGlmICh0aGlzTmVnICYmICFvdGhlck5lZylcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICBpZiAoIXRoaXNOZWcgJiYgb3RoZXJOZWcpXHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBzaWduIGJpdHMgYXJlIHRoZSBzYW1lXHJcbiAgICBpZiAoIXRoaXMudW5zaWduZWQpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViKG90aGVyKS5pc05lZ2F0aXZlKCkgPyAtMSA6IDE7XHJcbiAgICAvLyBCb3RoIGFyZSBwb3NpdGl2ZSBpZiBhdCBsZWFzdCBvbmUgaXMgdW5zaWduZWRcclxuICAgIHJldHVybiAob3RoZXIuaGlnaCA+Pj4gMCkgPiAodGhpcy5oaWdoID4+PiAwKSB8fCAob3RoZXIuaGlnaCA9PT0gdGhpcy5oaWdoICYmIChvdGhlci5sb3cgPj4+IDApID4gKHRoaXMubG93ID4+PiAwKSkgPyAtMSA6IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29tcGFyZXMgdGhpcyBMb25nJ3MgdmFsdWUgd2l0aCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjY29tcGFyZX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIDEgaWYgdGhlIHRoaXMgaXMgZ3JlYXRlciBhbmQgLTFcclxuICogIGlmIHRoZSBnaXZlbiBvbmUgaXMgZ3JlYXRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5jb21wID0gTG9uZ1Byb3RvdHlwZS5jb21wYXJlO1xyXG5cclxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhpcyBMb25nJ3MgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gTmVnYXRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm5lZ2F0ZSA9IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcclxuICAgIGlmICghdGhpcy51bnNpZ25lZCAmJiB0aGlzLmVxKE1JTl9WQUxVRSkpXHJcbiAgICAgICAgcmV0dXJuIE1JTl9WQUxVRTtcclxuICAgIHJldHVybiB0aGlzLm5vdCgpLmFkZChPTkUpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhpcyBMb25nJ3MgdmFsdWUuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbmVnYXRlfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gTmVnYXRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm5lZyA9IExvbmdQcm90b3R5cGUubmVnYXRlO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHN1bSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gYWRkZW5kIEFkZGVuZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFN1bVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoYWRkZW5kKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhhZGRlbmQpKVxyXG4gICAgICAgIGFkZGVuZCA9IGZyb21WYWx1ZShhZGRlbmQpO1xyXG5cclxuICAgIC8vIERpdmlkZSBlYWNoIG51bWJlciBpbnRvIDQgY2h1bmtzIG9mIDE2IGJpdHMsIGFuZCB0aGVuIHN1bSB0aGUgY2h1bmtzLlxyXG5cclxuICAgIHZhciBhNDggPSB0aGlzLmhpZ2ggPj4+IDE2O1xyXG4gICAgdmFyIGEzMiA9IHRoaXMuaGlnaCAmIDB4RkZGRjtcclxuICAgIHZhciBhMTYgPSB0aGlzLmxvdyA+Pj4gMTY7XHJcbiAgICB2YXIgYTAwID0gdGhpcy5sb3cgJiAweEZGRkY7XHJcblxyXG4gICAgdmFyIGI0OCA9IGFkZGVuZC5oaWdoID4+PiAxNjtcclxuICAgIHZhciBiMzIgPSBhZGRlbmQuaGlnaCAmIDB4RkZGRjtcclxuICAgIHZhciBiMTYgPSBhZGRlbmQubG93ID4+PiAxNjtcclxuICAgIHZhciBiMDAgPSBhZGRlbmQubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xyXG4gICAgYzAwICs9IGEwMCArIGIwMDtcclxuICAgIGMxNiArPSBjMDAgPj4+IDE2O1xyXG4gICAgYzAwICY9IDB4RkZGRjtcclxuICAgIGMxNiArPSBhMTYgKyBiMTY7XHJcbiAgICBjMzIgKz0gYzE2ID4+PiAxNjtcclxuICAgIGMxNiAmPSAweEZGRkY7XHJcbiAgICBjMzIgKz0gYTMyICsgYjMyO1xyXG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XHJcbiAgICBjMzIgJj0gMHhGRkZGO1xyXG4gICAgYzQ4ICs9IGE0OCArIGI0ODtcclxuICAgIGM0OCAmPSAweEZGRkY7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMoKGMxNiA8PCAxNikgfCBjMDAsIChjNDggPDwgMTYpIHwgYzMyLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBzdWJ0cmFoZW5kIFN1YnRyYWhlbmRcclxuICogQHJldHVybnMgeyFMb25nfSBEaWZmZXJlbmNlXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3Qoc3VidHJhaGVuZCkge1xyXG4gICAgaWYgKCFpc0xvbmcoc3VidHJhaGVuZCkpXHJcbiAgICAgICAgc3VidHJhaGVuZCA9IGZyb21WYWx1ZShzdWJ0cmFoZW5kKTtcclxuICAgIHJldHVybiB0aGlzLmFkZChzdWJ0cmFoZW5kLm5lZygpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzdWJ0cmFjdH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IHN1YnRyYWhlbmQgU3VidHJhaGVuZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IERpZmZlcmVuY2VcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc3ViID0gTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdDtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBtdWx0aXBsaWVyIE11bHRpcGxpZXJcclxuICogQHJldHVybnMgeyFMb25nfSBQcm9kdWN0XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkobXVsdGlwbGllcikge1xyXG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuIFpFUk87XHJcbiAgICBpZiAoIWlzTG9uZyhtdWx0aXBsaWVyKSlcclxuICAgICAgICBtdWx0aXBsaWVyID0gZnJvbVZhbHVlKG11bHRpcGxpZXIpO1xyXG5cclxuICAgIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxyXG4gICAgaWYgKHdhc20pIHtcclxuICAgICAgICB2YXIgbG93ID0gd2FzbS5tdWwodGhpcy5sb3csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGllci5sb3csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxpZXIuaGlnaCk7XHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbS5nZXRfaGlnaCgpLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobXVsdGlwbGllci5pc1plcm8oKSlcclxuICAgICAgICByZXR1cm4gWkVSTztcclxuICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpXHJcbiAgICAgICAgcmV0dXJuIG11bHRpcGxpZXIuaXNPZGQoKSA/IE1JTl9WQUxVRSA6IFpFUk87XHJcbiAgICBpZiAobXVsdGlwbGllci5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xyXG4gICAgICAgIGlmIChtdWx0aXBsaWVyLmlzTmVnYXRpdmUoKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkubXVsKG11bHRpcGxpZXIubmVnKCkpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkubXVsKG11bHRpcGxpZXIpLm5lZygpO1xyXG4gICAgfSBlbHNlIGlmIChtdWx0aXBsaWVyLmlzTmVnYXRpdmUoKSlcclxuICAgICAgICByZXR1cm4gdGhpcy5tdWwobXVsdGlwbGllci5uZWcoKSkubmVnKCk7XHJcblxyXG4gICAgLy8gSWYgYm90aCBsb25ncyBhcmUgc21hbGwsIHVzZSBmbG9hdCBtdWx0aXBsaWNhdGlvblxyXG4gICAgaWYgKHRoaXMubHQoVFdPX1BXUl8yNCkgJiYgbXVsdGlwbGllci5sdChUV09fUFdSXzI0KSlcclxuICAgICAgICByZXR1cm4gZnJvbU51bWJlcih0aGlzLnRvTnVtYmVyKCkgKiBtdWx0aXBsaWVyLnRvTnVtYmVyKCksIHRoaXMudW5zaWduZWQpO1xyXG5cclxuICAgIC8vIERpdmlkZSBlYWNoIGxvbmcgaW50byA0IGNodW5rcyBvZiAxNiBiaXRzLCBhbmQgdGhlbiBhZGQgdXAgNHg0IHByb2R1Y3RzLlxyXG4gICAgLy8gV2UgY2FuIHNraXAgcHJvZHVjdHMgdGhhdCB3b3VsZCBvdmVyZmxvdy5cclxuXHJcbiAgICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcclxuICAgIHZhciBhMzIgPSB0aGlzLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYTE2ID0gdGhpcy5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGEwMCA9IHRoaXMubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBiNDggPSBtdWx0aXBsaWVyLmhpZ2ggPj4+IDE2O1xyXG4gICAgdmFyIGIzMiA9IG11bHRpcGxpZXIuaGlnaCAmIDB4RkZGRjtcclxuICAgIHZhciBiMTYgPSBtdWx0aXBsaWVyLmxvdyA+Pj4gMTY7XHJcbiAgICB2YXIgYjAwID0gbXVsdGlwbGllci5sb3cgJiAweEZGRkY7XHJcblxyXG4gICAgdmFyIGM0OCA9IDAsIGMzMiA9IDAsIGMxNiA9IDAsIGMwMCA9IDA7XHJcbiAgICBjMDAgKz0gYTAwICogYjAwO1xyXG4gICAgYzE2ICs9IGMwMCA+Pj4gMTY7XHJcbiAgICBjMDAgJj0gMHhGRkZGO1xyXG4gICAgYzE2ICs9IGExNiAqIGIwMDtcclxuICAgIGMzMiArPSBjMTYgPj4+IDE2O1xyXG4gICAgYzE2ICY9IDB4RkZGRjtcclxuICAgIGMxNiArPSBhMDAgKiBiMTY7XHJcbiAgICBjMzIgKz0gYzE2ID4+PiAxNjtcclxuICAgIGMxNiAmPSAweEZGRkY7XHJcbiAgICBjMzIgKz0gYTMyICogYjAwO1xyXG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XHJcbiAgICBjMzIgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGExNiAqIGIxNjtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGMzMiArPSBhMDAgKiBiMzI7XHJcbiAgICBjNDggKz0gYzMyID4+PiAxNjtcclxuICAgIGMzMiAmPSAweEZGRkY7XHJcbiAgICBjNDggKz0gYTQ4ICogYjAwICsgYTMyICogYjE2ICsgYTE2ICogYjMyICsgYTAwICogYjQ4O1xyXG4gICAgYzQ4ICY9IDB4RkZGRjtcclxuICAgIHJldHVybiBmcm9tQml0cygoYzE2IDw8IDE2KSB8IGMwMCwgKGM0OCA8PCAxNikgfCBjMzIsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHByb2R1Y3Qgb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI211bHRpcGx5fS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gbXVsdGlwbGllciBNdWx0aXBsaWVyXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUHJvZHVjdFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5tdWwgPSBMb25nUHJvdG90eXBlLm11bHRpcGx5O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIGRpdmlkZWQgYnkgdGhlIHNwZWNpZmllZC4gVGhlIHJlc3VsdCBpcyBzaWduZWQgaWYgdGhpcyBMb25nIGlzIHNpZ25lZCBvclxyXG4gKiAgdW5zaWduZWQgaWYgdGhpcyBMb25nIGlzIHVuc2lnbmVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFF1b3RpZW50XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmRpdmlkZSA9IGZ1bmN0aW9uIGRpdmlkZShkaXZpc29yKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcclxuICAgICAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xyXG4gICAgaWYgKGRpdmlzb3IuaXNaZXJvKCkpXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2RpdmlzaW9uIGJ5IHplcm8nKTtcclxuXHJcbiAgICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcclxuICAgIGlmICh3YXNtKSB7XHJcbiAgICAgICAgLy8gZ3VhcmQgYWdhaW5zdCBzaWduZWQgZGl2aXNpb24gb3ZlcmZsb3c6IHRoZSBsYXJnZXN0XHJcbiAgICAgICAgLy8gbmVnYXRpdmUgbnVtYmVyIC8gLTEgd291bGQgYmUgMSBsYXJnZXIgdGhhbiB0aGUgbGFyZ2VzdFxyXG4gICAgICAgIC8vIHBvc2l0aXZlIG51bWJlciwgZHVlIHRvIHR3bydzIGNvbXBsZW1lbnQuXHJcbiAgICAgICAgaWYgKCF0aGlzLnVuc2lnbmVkICYmXHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCA9PT0gLTB4ODAwMDAwMDAgJiZcclxuICAgICAgICAgICAgZGl2aXNvci5sb3cgPT09IC0xICYmIGRpdmlzb3IuaGlnaCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgLy8gYmUgY29uc2lzdGVudCB3aXRoIG5vbi13YXNtIGNvZGUgcGF0aFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxvdyA9ICh0aGlzLnVuc2lnbmVkID8gd2FzbS5kaXZfdSA6IHdhc20uZGl2X3MpKFxyXG4gICAgICAgICAgICB0aGlzLmxvdyxcclxuICAgICAgICAgICAgdGhpcy5oaWdoLFxyXG4gICAgICAgICAgICBkaXZpc29yLmxvdyxcclxuICAgICAgICAgICAgZGl2aXNvci5oaWdoXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHMobG93LCB3YXNtLmdldF9oaWdoKCksIHRoaXMudW5zaWduZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzWmVybygpKVxyXG4gICAgICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xyXG4gICAgdmFyIGFwcHJveCwgcmVtLCByZXM7XHJcbiAgICBpZiAoIXRoaXMudW5zaWduZWQpIHtcclxuICAgICAgICAvLyBUaGlzIHNlY3Rpb24gaXMgb25seSByZWxldmFudCBmb3Igc2lnbmVkIGxvbmdzIGFuZCBpcyBkZXJpdmVkIGZyb20gdGhlXHJcbiAgICAgICAgLy8gY2xvc3VyZSBsaWJyYXJ5IGFzIGEgd2hvbGUuXHJcbiAgICAgICAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSkge1xyXG4gICAgICAgICAgICBpZiAoZGl2aXNvci5lcShPTkUpIHx8IGRpdmlzb3IuZXEoTkVHX09ORSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTUlOX1ZBTFVFOyAgLy8gcmVjYWxsIHRoYXQgLU1JTl9WQUxVRSA9PSBNSU5fVkFMVUVcclxuICAgICAgICAgICAgZWxzZSBpZiAoZGl2aXNvci5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9ORTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBoYXZlIHxvdGhlcnwgPj0gMiwgc28gfHRoaXMvb3RoZXJ8IDwgfE1JTl9WQUxVRXwuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFsZlRoaXMgPSB0aGlzLnNocigxKTtcclxuICAgICAgICAgICAgICAgIGFwcHJveCA9IGhhbGZUaGlzLmRpdihkaXZpc29yKS5zaGwoMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwcm94LmVxKFpFUk8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpdmlzb3IuaXNOZWdhdGl2ZSgpID8gT05FIDogTkVHX09ORTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtID0gdGhpcy5zdWIoZGl2aXNvci5tdWwoYXBwcm94KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gYXBwcm94LmFkZChyZW0uZGl2KGRpdmlzb3IpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXZpc29yLmVxKE1JTl9WQUxVRSkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xyXG4gICAgICAgICAgICBpZiAoZGl2aXNvci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvci5uZWcoKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLmRpdihkaXZpc29yKS5uZWcoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRpdmlzb3IuaXNOZWdhdGl2ZSgpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaXYoZGl2aXNvci5uZWcoKSkubmVnKCk7XHJcbiAgICAgICAgcmVzID0gWkVSTztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVGhlIGFsZ29yaXRobSBiZWxvdyBoYXMgbm90IGJlZW4gbWFkZSBmb3IgdW5zaWduZWQgbG9uZ3MuIEl0J3MgdGhlcmVmb3JlXHJcbiAgICAgICAgLy8gcmVxdWlyZWQgdG8gdGFrZSBzcGVjaWFsIGNhcmUgb2YgdGhlIE1TQiBwcmlvciB0byBydW5uaW5nIGl0LlxyXG4gICAgICAgIGlmICghZGl2aXNvci51bnNpZ25lZClcclxuICAgICAgICAgICAgZGl2aXNvciA9IGRpdmlzb3IudG9VbnNpZ25lZCgpO1xyXG4gICAgICAgIGlmIChkaXZpc29yLmd0KHRoaXMpKVxyXG4gICAgICAgICAgICByZXR1cm4gVVpFUk87XHJcbiAgICAgICAgaWYgKGRpdmlzb3IuZ3QodGhpcy5zaHJ1KDEpKSkgLy8gMTUgPj4+IDEgPSA3IDsgd2l0aCBkaXZpc29yID0gOCA7IHRydWVcclxuICAgICAgICAgICAgcmV0dXJuIFVPTkU7XHJcbiAgICAgICAgcmVzID0gVVpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwZWF0IHRoZSBmb2xsb3dpbmcgdW50aWwgdGhlIHJlbWFpbmRlciBpcyBsZXNzIHRoYW4gb3RoZXI6ICBmaW5kIGFcclxuICAgIC8vIGZsb2F0aW5nLXBvaW50IHRoYXQgYXBwcm94aW1hdGVzIHJlbWFpbmRlciAvIG90aGVyICpmcm9tIGJlbG93KiwgYWRkIHRoaXNcclxuICAgIC8vIGludG8gdGhlIHJlc3VsdCwgYW5kIHN1YnRyYWN0IGl0IGZyb20gdGhlIHJlbWFpbmRlci4gIEl0IGlzIGNyaXRpY2FsIHRoYXRcclxuICAgIC8vIHRoZSBhcHByb3hpbWF0ZSB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHJlYWwgdmFsdWUgc28gdGhhdCB0aGVcclxuICAgIC8vIHJlbWFpbmRlciBuZXZlciBiZWNvbWVzIG5lZ2F0aXZlLlxyXG4gICAgcmVtID0gdGhpcztcclxuICAgIHdoaWxlIChyZW0uZ3RlKGRpdmlzb3IpKSB7XHJcbiAgICAgICAgLy8gQXBwcm94aW1hdGUgdGhlIHJlc3VsdCBvZiBkaXZpc2lvbi4gVGhpcyBtYXkgYmUgYSBsaXR0bGUgZ3JlYXRlciBvclxyXG4gICAgICAgIC8vIHNtYWxsZXIgdGhhbiB0aGUgYWN0dWFsIHZhbHVlLlxyXG4gICAgICAgIGFwcHJveCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IocmVtLnRvTnVtYmVyKCkgLyBkaXZpc29yLnRvTnVtYmVyKCkpKTtcclxuXHJcbiAgICAgICAgLy8gV2Ugd2lsbCB0d2VhayB0aGUgYXBwcm94aW1hdGUgcmVzdWx0IGJ5IGNoYW5naW5nIGl0IGluIHRoZSA0OC10aCBkaWdpdCBvclxyXG4gICAgICAgIC8vIHRoZSBzbWFsbGVzdCBub24tZnJhY3Rpb25hbCBkaWdpdCwgd2hpY2hldmVyIGlzIGxhcmdlci5cclxuICAgICAgICB2YXIgbG9nMiA9IE1hdGguY2VpbChNYXRoLmxvZyhhcHByb3gpIC8gTWF0aC5MTjIpLFxyXG4gICAgICAgICAgICBkZWx0YSA9IChsb2cyIDw9IDQ4KSA/IDEgOiBwb3dfZGJsKDIsIGxvZzIgLSA0OCksXHJcblxyXG4gICAgICAgIC8vIERlY3JlYXNlIHRoZSBhcHByb3hpbWF0aW9uIHVudGlsIGl0IGlzIHNtYWxsZXIgdGhhbiB0aGUgcmVtYWluZGVyLiAgTm90ZVxyXG4gICAgICAgIC8vIHRoYXQgaWYgaXQgaXMgdG9vIGxhcmdlLCB0aGUgcHJvZHVjdCBvdmVyZmxvd3MgYW5kIGlzIG5lZ2F0aXZlLlxyXG4gICAgICAgICAgICBhcHByb3hSZXMgPSBmcm9tTnVtYmVyKGFwcHJveCksXHJcbiAgICAgICAgICAgIGFwcHJveFJlbSA9IGFwcHJveFJlcy5tdWwoZGl2aXNvcik7XHJcbiAgICAgICAgd2hpbGUgKGFwcHJveFJlbS5pc05lZ2F0aXZlKCkgfHwgYXBwcm94UmVtLmd0KHJlbSkpIHtcclxuICAgICAgICAgICAgYXBwcm94IC09IGRlbHRhO1xyXG4gICAgICAgICAgICBhcHByb3hSZXMgPSBmcm9tTnVtYmVyKGFwcHJveCwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICAgICAgICAgIGFwcHJveFJlbSA9IGFwcHJveFJlcy5tdWwoZGl2aXNvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXZSBrbm93IHRoZSBhbnN3ZXIgY2FuJ3QgYmUgemVyby4uLiBhbmQgYWN0dWFsbHksIHplcm8gd291bGQgY2F1c2VcclxuICAgICAgICAvLyBpbmZpbml0ZSByZWN1cnNpb24gc2luY2Ugd2Ugd291bGQgbWFrZSBubyBwcm9ncmVzcy5cclxuICAgICAgICBpZiAoYXBwcm94UmVzLmlzWmVybygpKVxyXG4gICAgICAgICAgICBhcHByb3hSZXMgPSBPTkU7XHJcblxyXG4gICAgICAgIHJlcyA9IHJlcy5hZGQoYXBwcm94UmVzKTtcclxuICAgICAgICByZW0gPSByZW0uc3ViKGFwcHJveFJlbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIGRpdmlkZWQgYnkgdGhlIHNwZWNpZmllZC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNkaXZpZGV9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcclxuICogQHJldHVybnMgeyFMb25nfSBRdW90aWVudFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5kaXYgPSBMb25nUHJvdG90eXBlLmRpdmlkZTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBtb2R1bG8gdGhlIHNwZWNpZmllZC5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcclxuICogQHJldHVybnMgeyFMb25nfSBSZW1haW5kZXJcclxuICovXHJcbkxvbmdQcm90b3R5cGUubW9kdWxvID0gZnVuY3Rpb24gbW9kdWxvKGRpdmlzb3IpIHtcclxuICAgIGlmICghaXNMb25nKGRpdmlzb3IpKVxyXG4gICAgICAgIGRpdmlzb3IgPSBmcm9tVmFsdWUoZGl2aXNvcik7XHJcblxyXG4gICAgLy8gdXNlIHdhc20gc3VwcG9ydCBpZiBwcmVzZW50XHJcbiAgICBpZiAod2FzbSkge1xyXG4gICAgICAgIHZhciBsb3cgPSAodGhpcy51bnNpZ25lZCA/IHdhc20ucmVtX3UgOiB3YXNtLnJlbV9zKShcclxuICAgICAgICAgICAgdGhpcy5sb3csXHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCxcclxuICAgICAgICAgICAgZGl2aXNvci5sb3csXHJcbiAgICAgICAgICAgIGRpdmlzb3IuaGlnaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbS5nZXRfaGlnaCgpLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5zdWIodGhpcy5kaXYoZGl2aXNvcikubXVsKGRpdmlzb3IpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBtb2R1bG8gdGhlIHNwZWNpZmllZC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtb2R1bG99LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcclxuICogQHJldHVybnMgeyFMb25nfSBSZW1haW5kZXJcclxuICovXHJcbkxvbmdQcm90b3R5cGUubW9kID0gTG9uZ1Byb3RvdHlwZS5tb2R1bG87XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbW9kdWxvfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnJlbSA9IExvbmdQcm90b3R5cGUubW9kdWxvO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgTk9UIG9mIHRoaXMgTG9uZy5cclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ub3QgPSBmdW5jdGlvbiBub3QoKSB7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMofnRoaXMubG93LCB+dGhpcy5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIEFORCBvZiB0aGlzIExvbmcgYW5kIHRoZSBzcGVjaWZpZWQuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIGFuZChvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyAmIG90aGVyLmxvdywgdGhpcy5oaWdoICYgb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgYml0d2lzZSBPUiBvZiB0aGlzIExvbmcgYW5kIHRoZSBzcGVjaWZpZWQuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm9yID0gZnVuY3Rpb24gb3Iob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgfCBvdGhlci5sb3csIHRoaXMuaGlnaCB8IG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgWE9SIG9mIHRoaXMgTG9uZyBhbmQgdGhlIGdpdmVuIG9uZS5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciBMb25nXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmdQcm90b3R5cGUueG9yID0gZnVuY3Rpb24geG9yKG90aGVyKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhvdGhlcikpXHJcbiAgICAgICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IF4gb3RoZXIubG93LCB0aGlzLmhpZ2ggXiBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgc2hpZnRlZCB0byB0aGUgbGVmdCBieSB0aGUgZ2l2ZW4gYW1vdW50LlxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaGlmdExlZnQgPSBmdW5jdGlvbiBzaGlmdExlZnQobnVtQml0cykge1xyXG4gICAgaWYgKGlzTG9uZyhudW1CaXRzKSlcclxuICAgICAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xyXG4gICAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIGVsc2UgaWYgKG51bUJpdHMgPCAzMilcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgPDwgbnVtQml0cywgKHRoaXMuaGlnaCA8PCBudW1CaXRzKSB8ICh0aGlzLmxvdyA+Pj4gKDMyIC0gbnVtQml0cykpLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHMoMCwgdGhpcy5sb3cgPDwgKG51bUJpdHMgLSAzMiksIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBzaGlmdGVkIHRvIHRoZSBsZWZ0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc2hpZnRMZWZ0fS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnNobCA9IExvbmdQcm90b3R5cGUuc2hpZnRMZWZ0O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBhcml0aG1ldGljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LlxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0ID0gZnVuY3Rpb24gc2hpZnRSaWdodChudW1CaXRzKSB7XHJcbiAgICBpZiAoaXNMb25nKG51bUJpdHMpKVxyXG4gICAgICAgIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XHJcbiAgICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgZWxzZSBpZiAobnVtQml0cyA8IDMyKVxyXG4gICAgICAgIHJldHVybiBmcm9tQml0cygodGhpcy5sb3cgPj4+IG51bUJpdHMpIHwgKHRoaXMuaGlnaCA8PCAoMzIgLSBudW1CaXRzKSksIHRoaXMuaGlnaCA+PiBudW1CaXRzLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoID4+IChudW1CaXRzIC0gMzIpLCB0aGlzLmhpZ2ggPj0gMCA/IDAgOiAtMSwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGFyaXRobWV0aWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc2hpZnRSaWdodH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaHIgPSBMb25nUHJvdG90eXBlLnNoaWZ0UmlnaHQ7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LlxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQgPSBmdW5jdGlvbiBzaGlmdFJpZ2h0VW5zaWduZWQobnVtQml0cykge1xyXG4gICAgaWYgKGlzTG9uZyhudW1CaXRzKSlcclxuICAgICAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xyXG4gICAgbnVtQml0cyAmPSA2MztcclxuICAgIGlmIChudW1CaXRzID09PSAwKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGhpZ2ggPSB0aGlzLmhpZ2g7XHJcbiAgICAgICAgaWYgKG51bUJpdHMgPCAzMikge1xyXG4gICAgICAgICAgICB2YXIgbG93ID0gdGhpcy5sb3c7XHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQml0cygobG93ID4+PiBudW1CaXRzKSB8IChoaWdoIDw8ICgzMiAtIG51bUJpdHMpKSwgaGlnaCA+Pj4gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChudW1CaXRzID09PSAzMilcclxuICAgICAgICAgICAgcmV0dXJuIGZyb21CaXRzKGhpZ2gsIDAsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIGZyb21CaXRzKGhpZ2ggPj4+IChudW1CaXRzIC0gMzIpLCAwLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgbG9naWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc2hpZnRSaWdodFVuc2lnbmVkfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnNocnUgPSBMb25nUHJvdG90eXBlLnNoaWZ0UmlnaHRVbnNpZ25lZDtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgbG9naWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc2hpZnRSaWdodFVuc2lnbmVkfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnNocl91ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIHNpZ25lZC5cclxuICogQHJldHVybnMgeyFMb25nfSBTaWduZWQgbG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b1NpZ25lZCA9IGZ1bmN0aW9uIHRvU2lnbmVkKCkge1xyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93LCB0aGlzLmhpZ2gsIGZhbHNlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gdW5zaWduZWQuXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVW5zaWduZWQgbG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b1Vuc2lnbmVkID0gZnVuY3Rpb24gdG9VbnNpZ25lZCgpIHtcclxuICAgIGlmICh0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93LCB0aGlzLmhpZ2gsIHRydWUpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBpdHMgYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHBhcmFtIHtib29sZWFuPX0gbGUgV2hldGhlciBsaXR0bGUgb3IgYmlnIGVuZGlhbiwgZGVmYXVsdHMgdG8gYmlnIGVuZGlhblxyXG4gKiBAcmV0dXJucyB7IUFycmF5LjxudW1iZXI+fSBCeXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvQnl0ZXMgPSBmdW5jdGlvbiB0b0J5dGVzKGxlKSB7XHJcbiAgICByZXR1cm4gbGUgPyB0aGlzLnRvQnl0ZXNMRSgpIDogdGhpcy50b0J5dGVzQkUoKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGxpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gTGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvQnl0ZXNMRSA9IGZ1bmN0aW9uIHRvQnl0ZXNMRSgpIHtcclxuICAgIHZhciBoaSA9IHRoaXMuaGlnaCxcclxuICAgICAgICBsbyA9IHRoaXMubG93O1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICBsbyAgICAgICAgJiAweGZmLFxyXG4gICAgICAgIGxvID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+IDE2ICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gMjQgICAgICAgLFxyXG4gICAgICAgIGhpICAgICAgICAmIDB4ZmYsXHJcbiAgICAgICAgaGkgPj4+ICA4ICYgMHhmZixcclxuICAgICAgICBoaSA+Pj4gMTYgJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAyNFxyXG4gICAgXTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gQmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvQnl0ZXNCRSA9IGZ1bmN0aW9uIHRvQnl0ZXNCRSgpIHtcclxuICAgIHZhciBoaSA9IHRoaXMuaGlnaCxcclxuICAgICAgICBsbyA9IHRoaXMubG93O1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICBoaSA+Pj4gMjQgICAgICAgLFxyXG4gICAgICAgIGhpID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgaGkgPj4+ICA4ICYgMHhmZixcclxuICAgICAgICBoaSAgICAgICAgJiAweGZmLFxyXG4gICAgICAgIGxvID4+PiAyNCAgICAgICAsXHJcbiAgICAgICAgbG8gPj4+IDE2ICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gIDggJiAweGZmLFxyXG4gICAgICAgIGxvICAgICAgICAmIDB4ZmZcclxuICAgIF07XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIEJ5dGUgcmVwcmVzZW50YXRpb25cclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBsZSBXaGV0aGVyIGxpdHRsZSBvciBiaWcgZW5kaWFuLCBkZWZhdWx0cyB0byBiaWcgZW5kaWFuXHJcbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21CeXRlcyA9IGZ1bmN0aW9uIGZyb21CeXRlcyhieXRlcywgdW5zaWduZWQsIGxlKSB7XHJcbiAgICByZXR1cm4gbGUgPyBMb25nLmZyb21CeXRlc0xFKGJ5dGVzLCB1bnNpZ25lZCkgOiBMb25nLmZyb21CeXRlc0JFKGJ5dGVzLCB1bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgbGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgTGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbUJ5dGVzTEUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNMRShieXRlcywgdW5zaWduZWQpIHtcclxuICAgIHJldHVybiBuZXcgTG9uZyhcclxuICAgICAgICBieXRlc1swXSAgICAgICB8XHJcbiAgICAgICAgYnl0ZXNbMV0gPDwgIDggfFxyXG4gICAgICAgIGJ5dGVzWzJdIDw8IDE2IHxcclxuICAgICAgICBieXRlc1szXSA8PCAyNCxcclxuICAgICAgICBieXRlc1s0XSAgICAgICB8XHJcbiAgICAgICAgYnl0ZXNbNV0gPDwgIDggfFxyXG4gICAgICAgIGJ5dGVzWzZdIDw8IDE2IHxcclxuICAgICAgICBieXRlc1s3XSA8PCAyNCxcclxuICAgICAgICB1bnNpZ25lZFxyXG4gICAgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgTG9uZyBmcm9tIGl0cyBiaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBCaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQnl0ZXNCRSA9IGZ1bmN0aW9uIGZyb21CeXRlc0JFKGJ5dGVzLCB1bnNpZ25lZCkge1xyXG4gICAgcmV0dXJuIG5ldyBMb25nKFxyXG4gICAgICAgIGJ5dGVzWzRdIDw8IDI0IHxcclxuICAgICAgICBieXRlc1s1XSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbNl0gPDwgIDggfFxyXG4gICAgICAgIGJ5dGVzWzddLFxyXG4gICAgICAgIGJ5dGVzWzBdIDw8IDI0IHxcclxuICAgICAgICBieXRlc1sxXSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbMl0gPDwgIDggfFxyXG4gICAgICAgIGJ5dGVzWzNdLFxyXG4gICAgICAgIHVuc2lnbmVkXHJcbiAgICApO1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/long/src/long.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/Stitch.js":
/*!**************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/Stitch.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony import */ var _internal_common_LocalStorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/common/LocalStorage */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/LocalStorage.js\");\n/* harmony import */ var _internal_net_BrowserFetchStreamTransport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/net/BrowserFetchStreamTransport */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchStreamTransport.js\");\n/* harmony import */ var _internal_net_BrowserFetchTransport__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/net/BrowserFetchTransport */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchTransport.js\");\n/* harmony import */ var _internal_StitchAppClientImpl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/StitchAppClientImpl */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/StitchAppClientImpl.js\");\n\n\n\n\n\nvar DEFAULT_BASE_URL = \"https://stitch.mongodb.com\";\nvar appClients = {};\nvar Stitch = (function () {\n    function Stitch() {\n    }\n    Object.defineProperty(Stitch, \"defaultAppClient\", {\n        get: function () {\n            if (Stitch.defaultClientAppId === undefined) {\n                throw new Error(\"default app client has not yet been initialized/set\");\n            }\n            return appClients[Stitch.defaultClientAppId];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Stitch.getAppClient = function (clientAppId) {\n        if (appClients[clientAppId] === undefined) {\n            throw new Error(\"client for app '\" + clientAppId + \"' has not yet been initialized\");\n        }\n        return appClients[clientAppId];\n    };\n    Stitch.hasAppClient = function (clientAppId) {\n        return appClients[clientAppId] !== undefined;\n    };\n    Stitch.initializeDefaultAppClient = function (clientAppId, config) {\n        if (config === void 0) { config = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientConfiguration\"].Builder().build(); }\n        if (clientAppId === undefined || clientAppId === \"\") {\n            throw new Error(\"clientAppId must be set to a non-empty string\");\n        }\n        if (Stitch.defaultClientAppId !== undefined) {\n            throw new Error(\"default app can only be set once; currently set to '\" + Stitch.defaultClientAppId + \"'\");\n        }\n        var client = Stitch.initializeAppClient(clientAppId, config);\n        Stitch.defaultClientAppId = clientAppId;\n        return client;\n    };\n    Stitch.initializeAppClient = function (clientAppId, config) {\n        if (config === void 0) { config = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientConfiguration\"].Builder().build(); }\n        if (clientAppId === undefined || clientAppId === \"\") {\n            throw new Error(\"clientAppId must be set to a non-empty string\");\n        }\n        if (appClients[clientAppId] !== undefined) {\n            throw new Error(\"client for app '\" + clientAppId + \"' has already been initialized\");\n        }\n        var builder = config.builder ? config.builder() : new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientConfiguration\"].Builder(config);\n        if (builder.storage === undefined) {\n            builder.withStorage(new _internal_common_LocalStorage__WEBPACK_IMPORTED_MODULE_1__[\"default\"](clientAppId));\n        }\n        if (builder.transport === undefined) {\n            if (window[\"EventSource\"]) {\n                builder.withTransport(new _internal_net_BrowserFetchStreamTransport__WEBPACK_IMPORTED_MODULE_2__[\"default\"]());\n            }\n            else {\n                builder.withTransport(new _internal_net_BrowserFetchTransport__WEBPACK_IMPORTED_MODULE_3__[\"default\"]());\n            }\n        }\n        if (builder.baseUrl === undefined || builder.baseUrl === \"\") {\n            builder.withBaseUrl(DEFAULT_BASE_URL);\n        }\n        if (builder.localAppName === undefined || builder.localAppName === \"\") {\n            builder.withLocalAppName(Stitch.localAppName);\n        }\n        if (builder.localAppVersion === undefined ||\n            builder.localAppVersion === \"\") {\n            builder.withLocalAppVersion(Stitch.localAppVersion);\n        }\n        var client = new _internal_StitchAppClientImpl__WEBPACK_IMPORTED_MODULE_4__[\"default\"](clientAppId, builder.build());\n        appClients[clientAppId] = client;\n        return client;\n    };\n    Stitch.clearApps = function () {\n        appClients = {};\n    };\n    return Stitch;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Stitch);\n//# sourceMappingURL=Stitch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL1N0aXRjaC5qcz9hOTY5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1RTtBQUNiO0FBQzJCO0FBQ1o7QUFDUjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsY0FBYyxvRkFBNEIsbUJBQW1CO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxjQUFjLG9GQUE0QixtQkFBbUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELG9GQUE0QjtBQUMxRjtBQUNBLG9DQUFvQyxxRUFBWTtBQUNoRDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsaUZBQTJCO0FBQ3JFO0FBQ0E7QUFDQSwwQ0FBMEMsMkVBQXFCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxRUFBbUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MscUVBQU0sRUFBQztBQUN0QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9TdGl0Y2guanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG5pbXBvcnQgTG9jYWxTdG9yYWdlIGZyb20gXCIuL2ludGVybmFsL2NvbW1vbi9Mb2NhbFN0b3JhZ2VcIjtcbmltcG9ydCBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQgZnJvbSBcIi4vaW50ZXJuYWwvbmV0L0Jyb3dzZXJGZXRjaFN0cmVhbVRyYW5zcG9ydFwiO1xuaW1wb3J0IEJyb3dzZXJGZXRjaFRyYW5zcG9ydCBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvQnJvd3NlckZldGNoVHJhbnNwb3J0XCI7XG5pbXBvcnQgU3RpdGNoQXBwQ2xpZW50SW1wbCBmcm9tIFwiLi9pbnRlcm5hbC9TdGl0Y2hBcHBDbGllbnRJbXBsXCI7XG52YXIgREVGQVVMVF9CQVNFX1VSTCA9IFwiaHR0cHM6Ly9zdGl0Y2gubW9uZ29kYi5jb21cIjtcbnZhciBhcHBDbGllbnRzID0ge307XG52YXIgU3RpdGNoID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2goKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2gsIFwiZGVmYXVsdEFwcENsaWVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKFN0aXRjaC5kZWZhdWx0Q2xpZW50QXBwSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRlZmF1bHQgYXBwIGNsaWVudCBoYXMgbm90IHlldCBiZWVuIGluaXRpYWxpemVkL3NldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcHBDbGllbnRzW1N0aXRjaC5kZWZhdWx0Q2xpZW50QXBwSWRdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGl0Y2guZ2V0QXBwQ2xpZW50ID0gZnVuY3Rpb24gKGNsaWVudEFwcElkKSB7XG4gICAgICAgIGlmIChhcHBDbGllbnRzW2NsaWVudEFwcElkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjbGllbnQgZm9yIGFwcCAnXCIgKyBjbGllbnRBcHBJZCArIFwiJyBoYXMgbm90IHlldCBiZWVuIGluaXRpYWxpemVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBDbGllbnRzW2NsaWVudEFwcElkXTtcbiAgICB9O1xuICAgIFN0aXRjaC5oYXNBcHBDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50QXBwSWQpIHtcbiAgICAgICAgcmV0dXJuIGFwcENsaWVudHNbY2xpZW50QXBwSWRdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTdGl0Y2guaW5pdGlhbGl6ZURlZmF1bHRBcHBDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50QXBwSWQsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gbmV3IFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uQnVpbGRlcigpLmJ1aWxkKCk7IH1cbiAgICAgICAgaWYgKGNsaWVudEFwcElkID09PSB1bmRlZmluZWQgfHwgY2xpZW50QXBwSWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNsaWVudEFwcElkIG11c3QgYmUgc2V0IHRvIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3RpdGNoLmRlZmF1bHRDbGllbnRBcHBJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkZWZhdWx0IGFwcCBjYW4gb25seSBiZSBzZXQgb25jZTsgY3VycmVudGx5IHNldCB0byAnXCIgKyBTdGl0Y2guZGVmYXVsdENsaWVudEFwcElkICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGllbnQgPSBTdGl0Y2guaW5pdGlhbGl6ZUFwcENsaWVudChjbGllbnRBcHBJZCwgY29uZmlnKTtcbiAgICAgICAgU3RpdGNoLmRlZmF1bHRDbGllbnRBcHBJZCA9IGNsaWVudEFwcElkO1xuICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgIH07XG4gICAgU3RpdGNoLmluaXRpYWxpemVBcHBDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50QXBwSWQsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gbmV3IFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uQnVpbGRlcigpLmJ1aWxkKCk7IH1cbiAgICAgICAgaWYgKGNsaWVudEFwcElkID09PSB1bmRlZmluZWQgfHwgY2xpZW50QXBwSWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNsaWVudEFwcElkIG11c3QgYmUgc2V0IHRvIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwQ2xpZW50c1tjbGllbnRBcHBJZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2xpZW50IGZvciBhcHAgJ1wiICsgY2xpZW50QXBwSWQgKyBcIicgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVpbGRlciA9IGNvbmZpZy5idWlsZGVyID8gY29uZmlnLmJ1aWxkZXIoKSA6IG5ldyBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uLkJ1aWxkZXIoY29uZmlnKTtcbiAgICAgICAgaWYgKGJ1aWxkZXIuc3RvcmFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhTdG9yYWdlKG5ldyBMb2NhbFN0b3JhZ2UoY2xpZW50QXBwSWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVpbGRlci50cmFuc3BvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvd1tcIkV2ZW50U291cmNlXCJdKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlci53aXRoVHJhbnNwb3J0KG5ldyBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLndpdGhUcmFuc3BvcnQobmV3IEJyb3dzZXJGZXRjaFRyYW5zcG9ydCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVpbGRlci5iYXNlVXJsID09PSB1bmRlZmluZWQgfHwgYnVpbGRlci5iYXNlVXJsID09PSBcIlwiKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhCYXNlVXJsKERFRkFVTFRfQkFTRV9VUkwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWlsZGVyLmxvY2FsQXBwTmFtZSA9PT0gdW5kZWZpbmVkIHx8IGJ1aWxkZXIubG9jYWxBcHBOYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhMb2NhbEFwcE5hbWUoU3RpdGNoLmxvY2FsQXBwTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1aWxkZXIubG9jYWxBcHBWZXJzaW9uID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGJ1aWxkZXIubG9jYWxBcHBWZXJzaW9uID09PSBcIlwiKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhMb2NhbEFwcFZlcnNpb24oU3RpdGNoLmxvY2FsQXBwVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBTdGl0Y2hBcHBDbGllbnRJbXBsKGNsaWVudEFwcElkLCBidWlsZGVyLmJ1aWxkKCkpO1xuICAgICAgICBhcHBDbGllbnRzW2NsaWVudEFwcElkXSA9IGNsaWVudDtcbiAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICB9O1xuICAgIFN0aXRjaC5jbGVhckFwcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFwcENsaWVudHMgPSB7fTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2g7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/Stitch.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectFragmentFields.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectFragmentFields.js ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar RedirectFragmentFields;\n(function (RedirectFragmentFields) {\n    RedirectFragmentFields[\"StitchError\"] = \"_stitch_error\";\n    RedirectFragmentFields[\"State\"] = \"_stitch_state\";\n    RedirectFragmentFields[\"UserAuth\"] = \"_stitch_ua\";\n    RedirectFragmentFields[\"LinkUser\"] = \"_stitch_link_user\";\n    RedirectFragmentFields[\"StitchLink\"] = \"_stitch_link\";\n    RedirectFragmentFields[\"ClientAppId\"] = \"_stitch_client_app_id\";\n})(RedirectFragmentFields || (RedirectFragmentFields = {}));\n/* harmony default export */ __webpack_exports__[\"default\"] = (RedirectFragmentFields);\n//# sourceMappingURL=RedirectFragmentFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvUmVkaXJlY3RGcmFnbWVudEZpZWxkcy5qcz83ZWQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0RBQXdEO0FBQzFDLHFGQUFzQixFQUFDO0FBQ3RDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvUmVkaXJlY3RGcmFnbWVudEZpZWxkcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWRpcmVjdEZyYWdtZW50RmllbGRzO1xuKGZ1bmN0aW9uIChSZWRpcmVjdEZyYWdtZW50RmllbGRzKSB7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIlN0aXRjaEVycm9yXCJdID0gXCJfc3RpdGNoX2Vycm9yXCI7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIlN0YXRlXCJdID0gXCJfc3RpdGNoX3N0YXRlXCI7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIlVzZXJBdXRoXCJdID0gXCJfc3RpdGNoX3VhXCI7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIkxpbmtVc2VyXCJdID0gXCJfc3RpdGNoX2xpbmtfdXNlclwiO1xuICAgIFJlZGlyZWN0RnJhZ21lbnRGaWVsZHNbXCJTdGl0Y2hMaW5rXCJdID0gXCJfc3RpdGNoX2xpbmtcIjtcbiAgICBSZWRpcmVjdEZyYWdtZW50RmllbGRzW1wiQ2xpZW50QXBwSWRcIl0gPSBcIl9zdGl0Y2hfY2xpZW50X2FwcF9pZFwiO1xufSkoUmVkaXJlY3RGcmFnbWVudEZpZWxkcyB8fCAoUmVkaXJlY3RGcmFnbWVudEZpZWxkcyA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBSZWRpcmVjdEZyYWdtZW50RmllbGRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVkaXJlY3RGcmFnbWVudEZpZWxkcy5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectFragmentFields.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectKeys.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectKeys.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar RedirectKeys;\n(function (RedirectKeys) {\n    RedirectKeys[\"ProviderName\"] = \"_stitch_redirect_provider_name\";\n    RedirectKeys[\"ProviderType\"] = \"_stitch_redirect_provider_type\";\n    RedirectKeys[\"State\"] = \"_stitch_redirect_state\";\n})(RedirectKeys || (RedirectKeys = {}));\n/* harmony default export */ __webpack_exports__[\"default\"] = (RedirectKeys);\n//# sourceMappingURL=RedirectKeys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvUmVkaXJlY3RLZXlzLmpzP2E4NzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDdEIsMkVBQVksRUFBQztBQUM1QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL2ludGVybmFsL1JlZGlyZWN0S2V5cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWRpcmVjdEtleXM7XG4oZnVuY3Rpb24gKFJlZGlyZWN0S2V5cykge1xuICAgIFJlZGlyZWN0S2V5c1tcIlByb3ZpZGVyTmFtZVwiXSA9IFwiX3N0aXRjaF9yZWRpcmVjdF9wcm92aWRlcl9uYW1lXCI7XG4gICAgUmVkaXJlY3RLZXlzW1wiUHJvdmlkZXJUeXBlXCJdID0gXCJfc3RpdGNoX3JlZGlyZWN0X3Byb3ZpZGVyX3R5cGVcIjtcbiAgICBSZWRpcmVjdEtleXNbXCJTdGF0ZVwiXSA9IFwiX3N0aXRjaF9yZWRpcmVjdF9zdGF0ZVwiO1xufSkoUmVkaXJlY3RLZXlzIHx8IChSZWRpcmVjdEtleXMgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgUmVkaXJlY3RLZXlzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVkaXJlY3RLZXlzLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectKeys.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchAuthImpl.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchAuthImpl.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! detect-browser */ \"./node_modules/detect-browser/index.js\");\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(detect_browser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony import */ var _internal_common_Version__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../internal/common/Version */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/Version.js\");\n/* harmony import */ var _RedirectFragmentFields__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RedirectFragmentFields */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectFragmentFields.js\");\n/* harmony import */ var _RedirectKeys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RedirectKeys */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/RedirectKeys.js\");\n/* harmony import */ var _StitchRedirectError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StitchRedirectError */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchRedirectError.js\");\n/* harmony import */ var _StitchUserFactoryImpl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./StitchUserFactoryImpl */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserFactoryImpl.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (undefined && undefined.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n\n\n\n\n\n\n\nvar alphaNumericCharacters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\nvar StitchAuthImpl = (function (_super) {\n    __extends(StitchAuthImpl, _super);\n    function StitchAuthImpl(requestClient, browserAuthRoutes, authStorage, appInfo, jsdomWindow) {\n        if (jsdomWindow === void 0) { jsdomWindow = window; }\n        var _this = _super.call(this, requestClient, browserAuthRoutes, authStorage) || this;\n        _this.browserAuthRoutes = browserAuthRoutes;\n        _this.authStorage = authStorage;\n        _this.appInfo = appInfo;\n        _this.jsdomWindow = jsdomWindow;\n        _this.listeners = new Set();\n        _this.synchronousListeners = new Set();\n        return _this;\n    }\n    Object.defineProperty(StitchAuthImpl.prototype, \"userFactory\", {\n        get: function () {\n            return new _StitchUserFactoryImpl__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StitchAuthImpl.prototype.getProviderClient = function (factory, providerName) {\n        if (isAuthProviderClientFactory(factory)) {\n            return factory.getClient(this, this.requestClient, this.authRoutes);\n        }\n        else {\n            return factory.getNamedClient(providerName, this.requestClient, this.authRoutes);\n        }\n    };\n    StitchAuthImpl.prototype.loginWithCredential = function (credential) {\n        return _super.prototype.loginWithCredentialInternal.call(this, credential);\n    };\n    StitchAuthImpl.prototype.loginWithRedirect = function (credential) {\n        var _this = this;\n        var _a = this.prepareRedirect(credential), redirectUrl = _a.redirectUrl, state = _a.state;\n        this.requestClient.getBaseURL().then(function (baseUrl) {\n            _this.jsdomWindow.location.replace(baseUrl +\n                _this.browserAuthRoutes.getAuthProviderRedirectRoute(credential, redirectUrl, state, _this.deviceInfo));\n        });\n    };\n    StitchAuthImpl.prototype.linkWithRedirectInternal = function (user, credential) {\n        var _this = this;\n        if (this.user !== undefined && user.id !== this.user.id) {\n            return Promise.reject(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"StitchClientError\"](mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"StitchClientErrorCode\"].UserNoLongerValid));\n        }\n        var _a = this.prepareRedirect(credential), redirectUrl = _a.redirectUrl, state = _a.state;\n        return this.requestClient.getBaseURL().then(function (baseUrl) {\n            var link = baseUrl +\n                _this.browserAuthRoutes.getAuthProviderLinkRedirectRoute(credential, redirectUrl, state, _this.deviceInfo);\n            return (StitchAuthImpl.injectedFetch ? StitchAuthImpl.injectedFetch : fetch)(new Request(link, {\n                credentials: \"include\",\n                headers: {\n                    Authorization: \"Bearer \" + _this.authInfo.accessToken\n                },\n                mode: 'cors'\n            }));\n        }).then(function (response) {\n            _this.jsdomWindow.location.replace(response.headers.get(\"X-Stitch-Location\"));\n        });\n    };\n    StitchAuthImpl.prototype.hasRedirectResult = function () {\n        var isValid = false;\n        try {\n            isValid = this.parseRedirect().isValid;\n            return isValid;\n        }\n        catch (_) {\n            return false;\n        }\n        finally {\n            if (!isValid) {\n                this.cleanupRedirect();\n            }\n        }\n    };\n    StitchAuthImpl.prototype.handleRedirectResult = function () {\n        try {\n            var providerName = this.authStorage.get(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ProviderName);\n            var providerType = this.authStorage.get(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ProviderType);\n            var redirectFragment = this.parseRedirect();\n            return this.loginWithCredentialInternal(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"StitchAuthResponseCredential\"](this.processRedirectResult(redirectFragment), providerType, providerName, redirectFragment.asLink)).then(function (user) { return user; });\n        }\n        catch (err) {\n            return Promise.reject(err);\n        }\n    };\n    StitchAuthImpl.prototype.linkWithCredential = function (user, credential) {\n        return _super.prototype.linkUserWithCredentialInternal.call(this, user, credential);\n    };\n    StitchAuthImpl.prototype.logout = function () {\n        if (arguments.length > 0) {\n            return Promise.reject(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"StitchClientError\"](mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"StitchClientErrorCode\"].UnexpectedArguments));\n        }\n        return _super.prototype.logoutInternal.call(this);\n    };\n    StitchAuthImpl.prototype.logoutUserWithId = function (userId) {\n        return _super.prototype.logoutUserWithIdInternal.call(this, userId);\n    };\n    StitchAuthImpl.prototype.removeUser = function () {\n        if (arguments.length > 0) {\n            return Promise.reject(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"StitchClientError\"](mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"StitchClientErrorCode\"].UnexpectedArguments));\n        }\n        return _super.prototype.removeUserInternal.call(this);\n    };\n    StitchAuthImpl.prototype.removeUserWithId = function (userId) {\n        return _super.prototype.removeUserWithIdInternal.call(this, userId);\n    };\n    Object.defineProperty(StitchAuthImpl.prototype, \"deviceInfo\", {\n        get: function () {\n            var info = {};\n            if (this.hasDeviceId) {\n                info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].DEVICE_ID] = this.deviceId;\n            }\n            if (this.appInfo.localAppName !== undefined) {\n                info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].APP_ID] = this.appInfo.localAppName;\n            }\n            if (this.appInfo.localAppVersion !== undefined) {\n                info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].APP_VERSION] = this.appInfo.localAppVersion;\n            }\n            var browser = Object(detect_browser__WEBPACK_IMPORTED_MODULE_0__[\"detect\"])();\n            if (browser) {\n                info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].PLATFORM] = browser.name;\n                info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].PLATFORM_VERSION] = browser.version;\n            }\n            else {\n                info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].PLATFORM] = \"web\";\n                info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].PLATFORM_VERSION] = \"0.0.0\";\n            }\n            info[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"DeviceFields\"].SDK_VERSION] = _internal_common_Version__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n            return info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StitchAuthImpl.prototype.addAuthListener = function (listener) {\n        this.listeners.add(listener);\n        this.onAuthEvent(listener);\n        this.dispatchAuthEvent({\n            kind: mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].ListenerRegistered,\n        });\n    };\n    StitchAuthImpl.prototype.addSynchronousAuthListener = function (listener) {\n        this.listeners.add(listener);\n        this.onAuthEvent(listener);\n        this.dispatchAuthEvent({\n            kind: mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].ListenerRegistered,\n        });\n    };\n    StitchAuthImpl.prototype.removeAuthListener = function (listener) {\n        this.listeners.delete(listener);\n    };\n    StitchAuthImpl.prototype.onAuthEvent = function (listener) {\n        var _this = this;\n        if (listener) {\n            var _1 = new Promise(function (resolve) {\n                if (listener.onAuthEvent) {\n                    listener.onAuthEvent(_this);\n                }\n                resolve(undefined);\n            });\n        }\n        else {\n            this.listeners.forEach(function (one) {\n                _this.onAuthEvent(one);\n            });\n        }\n    };\n    StitchAuthImpl.prototype.dispatchAuthEvent = function (event) {\n        var _this = this;\n        switch (event.kind) {\n            case mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].ActiveUserChanged:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onActiveUserChanged) {\n                        listener.onActiveUserChanged(_this, event.currentActiveUser, event.previousActiveUser);\n                    }\n                });\n                break;\n            case mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].ListenerRegistered:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onListenerRegistered) {\n                        listener.onListenerRegistered(_this);\n                    }\n                });\n                break;\n            case mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].UserAdded:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserAdded) {\n                        listener.onUserAdded(_this, event.addedUser);\n                    }\n                });\n                break;\n            case mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].UserLinked:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserLinked) {\n                        listener.onUserLinked(_this, event.linkedUser);\n                    }\n                });\n                break;\n            case mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].UserLoggedIn:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserLoggedIn) {\n                        listener.onUserLoggedIn(_this, event.loggedInUser);\n                    }\n                });\n                break;\n            case mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].UserLoggedOut:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserLoggedOut) {\n                        listener.onUserLoggedOut(_this, event.loggedOutUser);\n                    }\n                });\n                break;\n            case mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].UserRemoved:\n                this.dispatchBlockToListeners(function (listener) {\n                    if (listener.onUserRemoved) {\n                        listener.onUserRemoved(_this, event.removedUser);\n                    }\n                });\n                break;\n            default:\n                return this.assertNever(event);\n        }\n    };\n    StitchAuthImpl.prototype.refreshCustomData = function () {\n        return this.refreshAccessToken();\n    };\n    StitchAuthImpl.prototype.assertNever = function (x) {\n        throw new Error(\"unexpected object: \" + x);\n    };\n    StitchAuthImpl.prototype.dispatchBlockToListeners = function (block) {\n        this.synchronousListeners.forEach(block);\n        this.listeners.forEach(function (listener) {\n            var _ = new Promise(function (resolve) {\n                block(listener);\n                resolve(undefined);\n            });\n        });\n    };\n    StitchAuthImpl.prototype.cleanupRedirect = function () {\n        this.jsdomWindow.history.replaceState(null, \"\", this.pageRootUrl());\n        this.authStorage.remove(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].State);\n        this.authStorage.remove(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ProviderName);\n        this.authStorage.remove(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ProviderType);\n    };\n    StitchAuthImpl.prototype.parseRedirect = function () {\n        if (typeof this.jsdomWindow === \"undefined\") {\n            throw new _StitchRedirectError__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"running in a non-browser environment\");\n        }\n        if (!this.jsdomWindow.location || !this.jsdomWindow.location.hash) {\n            throw new _StitchRedirectError__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"window location hash was undefined\");\n        }\n        var ourState = this.authStorage.get(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].State);\n        var redirectFragment = this.jsdomWindow.location.hash.substring(1);\n        return parseRedirectFragment(redirectFragment, ourState, this.appInfo.clientAppId);\n    };\n    StitchAuthImpl.prototype.processRedirectResult = function (redirectFragment) {\n        try {\n            if (!redirectFragment.isValid) {\n                throw new _StitchRedirectError__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"invalid redirect result\");\n            }\n            if (redirectFragment.lastError) {\n                throw new _StitchRedirectError__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"error handling redirect: \" + redirectFragment.lastError);\n            }\n            if (!redirectFragment.authInfo) {\n                throw new _StitchRedirectError__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"no user auth value was found: it could not be decoded from fragment\");\n            }\n        }\n        catch (err) {\n            throw err;\n        }\n        finally {\n            this.cleanupRedirect();\n        }\n        return redirectFragment.authInfo;\n    };\n    StitchAuthImpl.prototype.prepareRedirect = function (credential) {\n        this.authStorage.set(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ProviderName, credential.providerName);\n        this.authStorage.set(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].ProviderType, credential.providerType);\n        var redirectUrl = credential.redirectUrl;\n        if (redirectUrl === undefined) {\n            redirectUrl = this.pageRootUrl();\n        }\n        var state = generateState();\n        this.authStorage.set(_RedirectKeys__WEBPACK_IMPORTED_MODULE_4__[\"default\"].State, state);\n        return { redirectUrl: redirectUrl, state: state };\n    };\n    StitchAuthImpl.prototype.pageRootUrl = function () {\n        return [\n            this.jsdomWindow.location.protocol,\n            \"//\",\n            this.jsdomWindow.location.host,\n            this.jsdomWindow.location.pathname\n        ].join(\"\");\n    };\n    return StitchAuthImpl;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"CoreStitchAuth\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchAuthImpl);\nfunction generateState() {\n    var state = \"\";\n    for (var i = 0; i < 64; ++i) {\n        state += alphaNumericCharacters.charAt(Math.floor(Math.random() * alphaNumericCharacters.length));\n    }\n    return state;\n}\nfunction unmarshallUserAuth(data) {\n    var parts = data.split(\"$\");\n    if (parts.length !== 4) {\n        throw new _StitchRedirectError__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"invalid user auth data provided while \" +\n            \"marshalling user authentication data: \" +\n            data);\n    }\n    var _a = __read(parts, 4), accessToken = _a[0], refreshToken = _a[1], userId = _a[2], deviceId = _a[3];\n    return new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_1__[\"AuthInfo\"](userId, deviceId, accessToken, refreshToken);\n}\nvar ParsedRedirectFragment = (function () {\n    function ParsedRedirectFragment() {\n        this.stateValid = false;\n        this.clientAppIdValid = false;\n        this.asLink = false;\n    }\n    Object.defineProperty(ParsedRedirectFragment.prototype, \"isValid\", {\n        get: function () {\n            return this.stateValid && this.clientAppIdValid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ParsedRedirectFragment;\n}());\nfunction parseRedirectFragment(fragment, ourState, ourClientAppId) {\n    var vars = fragment.split(\"&\");\n    var result = new ParsedRedirectFragment();\n    vars.forEach(function (kvp) {\n        var pairParts = kvp.split(\"=\");\n        var pairKey = decodeURIComponent(pairParts[0]);\n        switch (pairKey) {\n            case _RedirectFragmentFields__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StitchError:\n                result.lastError = decodeURIComponent(pairParts[1]);\n                break;\n            case _RedirectFragmentFields__WEBPACK_IMPORTED_MODULE_3__[\"default\"].UserAuth:\n                try {\n                    result.authInfo = unmarshallUserAuth(decodeURIComponent(pairParts[1]));\n                }\n                catch (e) {\n                    result.lastError = e;\n                }\n                break;\n            case _RedirectFragmentFields__WEBPACK_IMPORTED_MODULE_3__[\"default\"].StitchLink:\n                if (pairParts[1] === \"ok\") {\n                    result.asLink = true;\n                }\n                break;\n            case _RedirectFragmentFields__WEBPACK_IMPORTED_MODULE_3__[\"default\"].State:\n                var theirState = decodeURIComponent(pairParts[1]);\n                if (ourState === theirState) {\n                    result.stateValid = true;\n                }\n                break;\n            case _RedirectFragmentFields__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ClientAppId:\n                var clientAppId = decodeURIComponent(pairParts[1]);\n                if (ourClientAppId === clientAppId) {\n                    result.clientAppIdValid = true;\n                }\n                break;\n            default:\n                break;\n        }\n    });\n    return result;\n}\nfunction isAuthProviderClientFactory(factory) {\n    return (factory.getClient !== undefined);\n}\n//# sourceMappingURL=StitchAuthImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoQXV0aEltcGwuanM/ZTk3MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE1BQU0sZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDd0M7QUFDZ0k7QUFDcEg7QUFDVTtBQUNwQjtBQUNjO0FBQ0k7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0JBQXNCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOERBQXFCO0FBQzVDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MseUVBQWlCLENBQUMsNkVBQXFCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHFEQUFZO0FBQ2hFLG9EQUFvRCxxREFBWTtBQUNoRTtBQUNBLHdEQUF3RCxvRkFBNEIsMkhBQTJILGFBQWEsRUFBRTtBQUM5TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx5RUFBaUIsQ0FBQyw2RUFBcUI7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx5RUFBaUIsQ0FBQyw2RUFBcUI7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0VBQVk7QUFDakM7QUFDQTtBQUNBLHFCQUFxQixvRUFBWTtBQUNqQztBQUNBO0FBQ0EscUJBQXFCLG9FQUFZO0FBQ2pDO0FBQ0EsMEJBQTBCLDZEQUFNO0FBQ2hDO0FBQ0EscUJBQXFCLG9FQUFZO0FBQ2pDLHFCQUFxQixvRUFBWTtBQUNqQztBQUNBO0FBQ0EscUJBQXFCLG9FQUFZO0FBQ2pDLHFCQUFxQixvRUFBWTtBQUNqQztBQUNBLGlCQUFpQixvRUFBWSxnQkFBZ0IsZ0VBQU87QUFDcEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxRUFBYTtBQUMvQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxRUFBYTtBQUMvQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUVBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUIscUVBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUIscUVBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUIscUVBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUIscUVBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUIscUVBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUIscUVBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFEQUFZO0FBQzVDLGdDQUFnQyxxREFBWTtBQUM1QyxnQ0FBZ0MscURBQVk7QUFDNUM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDREQUFtQjtBQUN6QztBQUNBO0FBQ0Esc0JBQXNCLDREQUFtQjtBQUN6QztBQUNBLDRDQUE0QyxxREFBWTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQW1CO0FBQzdDO0FBQ0E7QUFDQSwwQkFBMEIsNERBQW1CO0FBQzdDO0FBQ0E7QUFDQSwwQkFBMEIsNERBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQVk7QUFDekMsNkJBQTZCLHFEQUFZO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQVk7QUFDekMsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLHNFQUFjO0FBQ0QsNkVBQWMsRUFBQztBQUM5QjtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNERBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnRUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtEQUFzQjtBQUN2QztBQUNBO0FBQ0EsaUJBQWlCLCtEQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrREFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0RBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0RBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoQXV0aEltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbmltcG9ydCB7IGRldGVjdCB9IGZyb20gXCJkZXRlY3QtYnJvd3NlclwiO1xuaW1wb3J0IHsgQXV0aEV2ZW50S2luZCwgQXV0aEluZm8sIENvcmVTdGl0Y2hBdXRoLCBEZXZpY2VGaWVsZHMsIFN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwsIFN0aXRjaENsaWVudEVycm9yLCBTdGl0Y2hDbGllbnRFcnJvckNvZGUgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbmltcG9ydCB2ZXJzaW9uIGZyb20gXCIuLi8uLi9pbnRlcm5hbC9jb21tb24vVmVyc2lvblwiO1xuaW1wb3J0IFJlZGlyZWN0RnJhZ21lbnRGaWVsZHMgZnJvbSBcIi4vUmVkaXJlY3RGcmFnbWVudEZpZWxkc1wiO1xuaW1wb3J0IFJlZGlyZWN0S2V5cyBmcm9tIFwiLi9SZWRpcmVjdEtleXNcIjtcbmltcG9ydCBTdGl0Y2hSZWRpcmVjdEVycm9yIGZyb20gXCIuL1N0aXRjaFJlZGlyZWN0RXJyb3JcIjtcbmltcG9ydCBTdGl0Y2hVc2VyRmFjdG9yeUltcGwgZnJvbSBcIi4vU3RpdGNoVXNlckZhY3RvcnlJbXBsXCI7XG52YXIgYWxwaGFOdW1lcmljQ2hhcmFjdGVycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcbnZhciBTdGl0Y2hBdXRoSW1wbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEF1dGhJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaEF1dGhJbXBsKHJlcXVlc3RDbGllbnQsIGJyb3dzZXJBdXRoUm91dGVzLCBhdXRoU3RvcmFnZSwgYXBwSW5mbywganNkb21XaW5kb3cpIHtcbiAgICAgICAgaWYgKGpzZG9tV2luZG93ID09PSB2b2lkIDApIHsganNkb21XaW5kb3cgPSB3aW5kb3c7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdENsaWVudCwgYnJvd3NlckF1dGhSb3V0ZXMsIGF1dGhTdG9yYWdlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5icm93c2VyQXV0aFJvdXRlcyA9IGJyb3dzZXJBdXRoUm91dGVzO1xuICAgICAgICBfdGhpcy5hdXRoU3RvcmFnZSA9IGF1dGhTdG9yYWdlO1xuICAgICAgICBfdGhpcy5hcHBJbmZvID0gYXBwSW5mbztcbiAgICAgICAgX3RoaXMuanNkb21XaW5kb3cgPSBqc2RvbVdpbmRvdztcbiAgICAgICAgX3RoaXMubGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgICAgICBfdGhpcy5zeW5jaHJvbm91c0xpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLCBcInVzZXJGYWN0b3J5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0aXRjaFVzZXJGYWN0b3J5SW1wbCh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmdldFByb3ZpZGVyQ2xpZW50ID0gZnVuY3Rpb24gKGZhY3RvcnksIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICBpZiAoaXNBdXRoUHJvdmlkZXJDbGllbnRGYWN0b3J5KGZhY3RvcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeS5nZXRDbGllbnQodGhpcywgdGhpcy5yZXF1ZXN0Q2xpZW50LCB0aGlzLmF1dGhSb3V0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkuZ2V0TmFtZWRDbGllbnQocHJvdmlkZXJOYW1lLCB0aGlzLnJlcXVlc3RDbGllbnQsIHRoaXMuYXV0aFJvdXRlcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5sb2dpbldpdGhDcmVkZW50aWFsID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUubG9naW5XaXRoQ3JlZGVudGlhbEludGVybmFsLmNhbGwodGhpcywgY3JlZGVudGlhbCk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUubG9naW5XaXRoUmVkaXJlY3QgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByZXBhcmVSZWRpcmVjdChjcmVkZW50aWFsKSwgcmVkaXJlY3RVcmwgPSBfYS5yZWRpcmVjdFVybCwgc3RhdGUgPSBfYS5zdGF0ZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0Q2xpZW50LmdldEJhc2VVUkwoKS50aGVuKGZ1bmN0aW9uIChiYXNlVXJsKSB7XG4gICAgICAgICAgICBfdGhpcy5qc2RvbVdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGJhc2VVcmwgK1xuICAgICAgICAgICAgICAgIF90aGlzLmJyb3dzZXJBdXRoUm91dGVzLmdldEF1dGhQcm92aWRlclJlZGlyZWN0Um91dGUoY3JlZGVudGlhbCwgcmVkaXJlY3RVcmwsIHN0YXRlLCBfdGhpcy5kZXZpY2VJbmZvKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmxpbmtXaXRoUmVkaXJlY3RJbnRlcm5hbCA9IGZ1bmN0aW9uICh1c2VyLCBjcmVkZW50aWFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnVzZXIgIT09IHVuZGVmaW5lZCAmJiB1c2VyLmlkICE9PSB0aGlzLnVzZXIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb0xvbmdlclZhbGlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcmVwYXJlUmVkaXJlY3QoY3JlZGVudGlhbCksIHJlZGlyZWN0VXJsID0gX2EucmVkaXJlY3RVcmwsIHN0YXRlID0gX2Euc3RhdGU7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZ2V0QmFzZVVSTCgpLnRoZW4oZnVuY3Rpb24gKGJhc2VVcmwpIHtcbiAgICAgICAgICAgIHZhciBsaW5rID0gYmFzZVVybCArXG4gICAgICAgICAgICAgICAgX3RoaXMuYnJvd3NlckF1dGhSb3V0ZXMuZ2V0QXV0aFByb3ZpZGVyTGlua1JlZGlyZWN0Um91dGUoY3JlZGVudGlhbCwgcmVkaXJlY3RVcmwsIHN0YXRlLCBfdGhpcy5kZXZpY2VJbmZvKTtcbiAgICAgICAgICAgIHJldHVybiAoU3RpdGNoQXV0aEltcGwuaW5qZWN0ZWRGZXRjaCA/IFN0aXRjaEF1dGhJbXBsLmluamVjdGVkRmV0Y2ggOiBmZXRjaCkobmV3IFJlcXVlc3QobGluaywge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgX3RoaXMuYXV0aEluZm8uYWNjZXNzVG9rZW5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGU6ICdjb3JzJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgX3RoaXMuanNkb21XaW5kb3cubG9jYXRpb24ucmVwbGFjZShyZXNwb25zZS5oZWFkZXJzLmdldChcIlgtU3RpdGNoLUxvY2F0aW9uXCIpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUuaGFzUmVkaXJlY3RSZXN1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpc1ZhbGlkID0gdGhpcy5wYXJzZVJlZGlyZWN0KCkuaXNWYWxpZDtcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBSZWRpcmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUuaGFuZGxlUmVkaXJlY3RSZXN1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJOYW1lID0gdGhpcy5hdXRoU3RvcmFnZS5nZXQoUmVkaXJlY3RLZXlzLlByb3ZpZGVyTmFtZSk7XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJUeXBlID0gdGhpcy5hdXRoU3RvcmFnZS5nZXQoUmVkaXJlY3RLZXlzLlByb3ZpZGVyVHlwZSk7XG4gICAgICAgICAgICB2YXIgcmVkaXJlY3RGcmFnbWVudCA9IHRoaXMucGFyc2VSZWRpcmVjdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoQ3JlZGVudGlhbEludGVybmFsKG5ldyBTdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsKHRoaXMucHJvY2Vzc1JlZGlyZWN0UmVzdWx0KHJlZGlyZWN0RnJhZ21lbnQpLCBwcm92aWRlclR5cGUsIHByb3ZpZGVyTmFtZSwgcmVkaXJlY3RGcmFnbWVudC5hc0xpbmspKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7IHJldHVybiB1c2VyOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmxpbmtXaXRoQ3JlZGVudGlhbCA9IGZ1bmN0aW9uICh1c2VyLCBjcmVkZW50aWFsKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmxpbmtVc2VyV2l0aENyZWRlbnRpYWxJbnRlcm5hbC5jYWxsKHRoaXMsIHVzZXIsIGNyZWRlbnRpYWwpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5VbmV4cGVjdGVkQXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUubG9nb3V0SW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5sb2dvdXRVc2VyV2l0aElkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5sb2dvdXRVc2VyV2l0aElkSW50ZXJuYWwuY2FsbCh0aGlzLCB1c2VySWQpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLnJlbW92ZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuVW5leHBlY3RlZEFyZ3VtZW50cykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlbW92ZVVzZXJJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLnJlbW92ZVVzZXJXaXRoSWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlbW92ZVVzZXJXaXRoSWRJbnRlcm5hbC5jYWxsKHRoaXMsIHVzZXJJZCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLCBcImRldmljZUluZm9cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbmZvID0ge307XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNEZXZpY2VJZCkge1xuICAgICAgICAgICAgICAgIGluZm9bRGV2aWNlRmllbGRzLkRFVklDRV9JRF0gPSB0aGlzLmRldmljZUlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYXBwSW5mby5sb2NhbEFwcE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGluZm9bRGV2aWNlRmllbGRzLkFQUF9JRF0gPSB0aGlzLmFwcEluZm8ubG9jYWxBcHBOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYXBwSW5mby5sb2NhbEFwcFZlcnNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGluZm9bRGV2aWNlRmllbGRzLkFQUF9WRVJTSU9OXSA9IHRoaXMuYXBwSW5mby5sb2NhbEFwcFZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYnJvd3NlciA9IGRldGVjdCgpO1xuICAgICAgICAgICAgaWYgKGJyb3dzZXIpIHtcbiAgICAgICAgICAgICAgICBpbmZvW0RldmljZUZpZWxkcy5QTEFURk9STV0gPSBicm93c2VyLm5hbWU7XG4gICAgICAgICAgICAgICAgaW5mb1tEZXZpY2VGaWVsZHMuUExBVEZPUk1fVkVSU0lPTl0gPSBicm93c2VyLnZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvW0RldmljZUZpZWxkcy5QTEFURk9STV0gPSBcIndlYlwiO1xuICAgICAgICAgICAgICAgIGluZm9bRGV2aWNlRmllbGRzLlBMQVRGT1JNX1ZFUlNJT05dID0gXCIwLjAuMFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5mb1tEZXZpY2VGaWVsZHMuU0RLX1ZFUlNJT05dID0gdmVyc2lvbjtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUuYWRkQXV0aExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMub25BdXRoRXZlbnQobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuTGlzdGVuZXJSZWdpc3RlcmVkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5hZGRTeW5jaHJvbm91c0F1dGhMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLm9uQXV0aEV2ZW50KGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICBraW5kOiBBdXRoRXZlbnRLaW5kLkxpc3RlbmVyUmVnaXN0ZXJlZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUucmVtb3ZlQXV0aExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUub25BdXRoRXZlbnQgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgXzEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbkF1dGhFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vbkF1dGhFdmVudChfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25BdXRoRXZlbnQob25lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUuZGlzcGF0Y2hBdXRoRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgc3dpdGNoIChldmVudC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIEF1dGhFdmVudEtpbmQuQWN0aXZlVXNlckNoYW5nZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJsb2NrVG9MaXN0ZW5lcnMoZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbkFjdGl2ZVVzZXJDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vbkFjdGl2ZVVzZXJDaGFuZ2VkKF90aGlzLCBldmVudC5jdXJyZW50QWN0aXZlVXNlciwgZXZlbnQucHJldmlvdXNBY3RpdmVVc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBdXRoRXZlbnRLaW5kLkxpc3RlbmVyUmVnaXN0ZXJlZDpcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmxvY2tUb0xpc3RlbmVycyhmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uTGlzdGVuZXJSZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vbkxpc3RlbmVyUmVnaXN0ZXJlZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXV0aEV2ZW50S2luZC5Vc2VyQWRkZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJsb2NrVG9MaXN0ZW5lcnMoZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vblVzZXJBZGRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25Vc2VyQWRkZWQoX3RoaXMsIGV2ZW50LmFkZGVkVXNlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXV0aEV2ZW50S2luZC5Vc2VyTGlua2VkOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCbG9ja1RvTGlzdGVuZXJzKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25Vc2VyTGlua2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vblVzZXJMaW5rZWQoX3RoaXMsIGV2ZW50LmxpbmtlZFVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF1dGhFdmVudEtpbmQuVXNlckxvZ2dlZEluOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCbG9ja1RvTGlzdGVuZXJzKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25Vc2VyTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uVXNlckxvZ2dlZEluKF90aGlzLCBldmVudC5sb2dnZWRJblVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF1dGhFdmVudEtpbmQuVXNlckxvZ2dlZE91dDpcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmxvY2tUb0xpc3RlbmVycyhmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uVXNlckxvZ2dlZE91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25Vc2VyTG9nZ2VkT3V0KF90aGlzLCBldmVudC5sb2dnZWRPdXRVc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBdXRoRXZlbnRLaW5kLlVzZXJSZW1vdmVkOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCbG9ja1RvTGlzdGVuZXJzKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25Vc2VyUmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25Vc2VyUmVtb3ZlZChfdGhpcywgZXZlbnQucmVtb3ZlZFVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFzc2VydE5ldmVyKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLnJlZnJlc2hDdXN0b21EYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoQWNjZXNzVG9rZW4oKTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5hc3NlcnROZXZlciA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgb2JqZWN0OiBcIiArIHgpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmRpc3BhdGNoQmxvY2tUb0xpc3RlbmVycyA9IGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgICB0aGlzLnN5bmNocm9ub3VzTGlzdGVuZXJzLmZvckVhY2goYmxvY2spO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgdmFyIF8gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIGJsb2NrKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUuY2xlYW51cFJlZGlyZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmpzZG9tV2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsIHRoaXMucGFnZVJvb3RVcmwoKSk7XG4gICAgICAgIHRoaXMuYXV0aFN0b3JhZ2UucmVtb3ZlKFJlZGlyZWN0S2V5cy5TdGF0ZSk7XG4gICAgICAgIHRoaXMuYXV0aFN0b3JhZ2UucmVtb3ZlKFJlZGlyZWN0S2V5cy5Qcm92aWRlck5hbWUpO1xuICAgICAgICB0aGlzLmF1dGhTdG9yYWdlLnJlbW92ZShSZWRpcmVjdEtleXMuUHJvdmlkZXJUeXBlKTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5wYXJzZVJlZGlyZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuanNkb21XaW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZWRpcmVjdEVycm9yKFwicnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5qc2RvbVdpbmRvdy5sb2NhdGlvbiB8fCAhdGhpcy5qc2RvbVdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVkaXJlY3RFcnJvcihcIndpbmRvdyBsb2NhdGlvbiBoYXNoIHdhcyB1bmRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG91clN0YXRlID0gdGhpcy5hdXRoU3RvcmFnZS5nZXQoUmVkaXJlY3RLZXlzLlN0YXRlKTtcbiAgICAgICAgdmFyIHJlZGlyZWN0RnJhZ21lbnQgPSB0aGlzLmpzZG9tV2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO1xuICAgICAgICByZXR1cm4gcGFyc2VSZWRpcmVjdEZyYWdtZW50KHJlZGlyZWN0RnJhZ21lbnQsIG91clN0YXRlLCB0aGlzLmFwcEluZm8uY2xpZW50QXBwSWQpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLnByb2Nlc3NSZWRpcmVjdFJlc3VsdCA9IGZ1bmN0aW9uIChyZWRpcmVjdEZyYWdtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXJlZGlyZWN0RnJhZ21lbnQuaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZWRpcmVjdEVycm9yKFwiaW52YWxpZCByZWRpcmVjdCByZXN1bHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVkaXJlY3RGcmFnbWVudC5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVkaXJlY3RFcnJvcihcImVycm9yIGhhbmRsaW5nIHJlZGlyZWN0OiBcIiArIHJlZGlyZWN0RnJhZ21lbnQubGFzdEVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVkaXJlY3RGcmFnbWVudC5hdXRoSW5mbykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZWRpcmVjdEVycm9yKFwibm8gdXNlciBhdXRoIHZhbHVlIHdhcyBmb3VuZDogaXQgY291bGQgbm90IGJlIGRlY29kZWQgZnJvbSBmcmFnbWVudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXBSZWRpcmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWRpcmVjdEZyYWdtZW50LmF1dGhJbmZvO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLnByZXBhcmVSZWRpcmVjdCA9IGZ1bmN0aW9uIChjcmVkZW50aWFsKSB7XG4gICAgICAgIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0KFJlZGlyZWN0S2V5cy5Qcm92aWRlck5hbWUsIGNyZWRlbnRpYWwucHJvdmlkZXJOYW1lKTtcbiAgICAgICAgdGhpcy5hdXRoU3RvcmFnZS5zZXQoUmVkaXJlY3RLZXlzLlByb3ZpZGVyVHlwZSwgY3JlZGVudGlhbC5wcm92aWRlclR5cGUpO1xuICAgICAgICB2YXIgcmVkaXJlY3RVcmwgPSBjcmVkZW50aWFsLnJlZGlyZWN0VXJsO1xuICAgICAgICBpZiAocmVkaXJlY3RVcmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVkaXJlY3RVcmwgPSB0aGlzLnBhZ2VSb290VXJsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRlID0gZ2VuZXJhdGVTdGF0ZSgpO1xuICAgICAgICB0aGlzLmF1dGhTdG9yYWdlLnNldChSZWRpcmVjdEtleXMuU3RhdGUsIHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3RVcmw6IHJlZGlyZWN0VXJsLCBzdGF0ZTogc3RhdGUgfTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5wYWdlUm9vdFVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHRoaXMuanNkb21XaW5kb3cubG9jYXRpb24ucHJvdG9jb2wsXG4gICAgICAgICAgICBcIi8vXCIsXG4gICAgICAgICAgICB0aGlzLmpzZG9tV2luZG93LmxvY2F0aW9uLmhvc3QsXG4gICAgICAgICAgICB0aGlzLmpzZG9tV2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgIF0uam9pbihcIlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2hBdXRoSW1wbDtcbn0oQ29yZVN0aXRjaEF1dGgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaEF1dGhJbXBsO1xuZnVuY3Rpb24gZ2VuZXJhdGVTdGF0ZSgpIHtcbiAgICB2YXIgc3RhdGUgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjQ7ICsraSkge1xuICAgICAgICBzdGF0ZSArPSBhbHBoYU51bWVyaWNDaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhbHBoYU51bWVyaWNDaGFyYWN0ZXJzLmxlbmd0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1bm1hcnNoYWxsVXNlckF1dGgoZGF0YSkge1xuICAgIHZhciBwYXJ0cyA9IGRhdGEuc3BsaXQoXCIkXCIpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlZGlyZWN0RXJyb3IoXCJpbnZhbGlkIHVzZXIgYXV0aCBkYXRhIHByb3ZpZGVkIHdoaWxlIFwiICtcbiAgICAgICAgICAgIFwibWFyc2hhbGxpbmcgdXNlciBhdXRoZW50aWNhdGlvbiBkYXRhOiBcIiArXG4gICAgICAgICAgICBkYXRhKTtcbiAgICB9XG4gICAgdmFyIF9hID0gX19yZWFkKHBhcnRzLCA0KSwgYWNjZXNzVG9rZW4gPSBfYVswXSwgcmVmcmVzaFRva2VuID0gX2FbMV0sIHVzZXJJZCA9IF9hWzJdLCBkZXZpY2VJZCA9IF9hWzNdO1xuICAgIHJldHVybiBuZXcgQXV0aEluZm8odXNlcklkLCBkZXZpY2VJZCwgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbik7XG59XG52YXIgUGFyc2VkUmVkaXJlY3RGcmFnbWVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VkUmVkaXJlY3RGcmFnbWVudCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZVZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xpZW50QXBwSWRWYWxpZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFzTGluayA9IGZhbHNlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFyc2VkUmVkaXJlY3RGcmFnbWVudC5wcm90b3R5cGUsIFwiaXNWYWxpZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVWYWxpZCAmJiB0aGlzLmNsaWVudEFwcElkVmFsaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBQYXJzZWRSZWRpcmVjdEZyYWdtZW50O1xufSgpKTtcbmZ1bmN0aW9uIHBhcnNlUmVkaXJlY3RGcmFnbWVudChmcmFnbWVudCwgb3VyU3RhdGUsIG91ckNsaWVudEFwcElkKSB7XG4gICAgdmFyIHZhcnMgPSBmcmFnbWVudC5zcGxpdChcIiZcIik7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBQYXJzZWRSZWRpcmVjdEZyYWdtZW50KCk7XG4gICAgdmFycy5mb3JFYWNoKGZ1bmN0aW9uIChrdnApIHtcbiAgICAgICAgdmFyIHBhaXJQYXJ0cyA9IGt2cC5zcGxpdChcIj1cIik7XG4gICAgICAgIHZhciBwYWlyS2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJQYXJ0c1swXSk7XG4gICAgICAgIHN3aXRjaCAocGFpcktleSkge1xuICAgICAgICAgICAgY2FzZSBSZWRpcmVjdEZyYWdtZW50RmllbGRzLlN0aXRjaEVycm9yOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5sYXN0RXJyb3IgPSBkZWNvZGVVUklDb21wb25lbnQocGFpclBhcnRzWzFdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVkaXJlY3RGcmFnbWVudEZpZWxkcy5Vc2VyQXV0aDpcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXV0aEluZm8gPSB1bm1hcnNoYWxsVXNlckF1dGgoZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJQYXJ0c1sxXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQubGFzdEVycm9yID0gZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlZGlyZWN0RnJhZ21lbnRGaWVsZHMuU3RpdGNoTGluazpcbiAgICAgICAgICAgICAgICBpZiAocGFpclBhcnRzWzFdID09PSBcIm9rXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFzTGluayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWRpcmVjdEZyYWdtZW50RmllbGRzLlN0YXRlOlxuICAgICAgICAgICAgICAgIHZhciB0aGVpclN0YXRlID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJQYXJ0c1sxXSk7XG4gICAgICAgICAgICAgICAgaWYgKG91clN0YXRlID09PSB0aGVpclN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZVZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlZGlyZWN0RnJhZ21lbnRGaWVsZHMuQ2xpZW50QXBwSWQ6XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudEFwcElkID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJQYXJ0c1sxXSk7XG4gICAgICAgICAgICAgICAgaWYgKG91ckNsaWVudEFwcElkID09PSBjbGllbnRBcHBJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY2xpZW50QXBwSWRWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBpc0F1dGhQcm92aWRlckNsaWVudEZhY3RvcnkoZmFjdG9yeSkge1xuICAgIHJldHVybiAoZmFjdG9yeS5nZXRDbGllbnQgIT09IHVuZGVmaW5lZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hBdXRoSW1wbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchAuthImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppAuthRoutes.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppAuthRoutes.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar StitchBrowserAppAuthRoutes = (function (_super) {\n    __extends(StitchBrowserAppAuthRoutes, _super);\n    function StitchBrowserAppAuthRoutes(clientAppId) {\n        return _super.call(this, clientAppId) || this;\n    }\n    StitchBrowserAppAuthRoutes.prototype.getAuthProviderRedirectRoute = function (credential, redirectUrl, state, deviceInfo) {\n        return this.getAuthProviderLoginRoute(credential.providerName) + \"?redirect=\" + encodeURI(redirectUrl) + \"&state=\" + state + \"&device=\" + this.uriEncodeObject(deviceInfo);\n    };\n    StitchBrowserAppAuthRoutes.prototype.getAuthProviderLinkRedirectRoute = function (credential, redirectUrl, state, deviceInfo) {\n        return this.getAuthProviderLoginRoute(credential.providerName) + \"?redirect=\" + encodeURI(redirectUrl) + \"&state=\" + state + \"&device=\" + this.uriEncodeObject(deviceInfo) + \"&link=true&providerRedirectHeader=true\";\n    };\n    StitchBrowserAppAuthRoutes.prototype.uriEncodeObject = function (obj) {\n        return encodeURIComponent(Object(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"base64Encode\"])(JSON.stringify(obj)));\n    };\n    return StitchBrowserAppAuthRoutes;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppAuthRoutes\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchBrowserAppAuthRoutes);\n//# sourceMappingURL=StitchBrowserAppAuthRoutes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXMuanM/YWQ2NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDMkU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDRFQUFZO0FBQzlDO0FBQ0E7QUFDQSxDQUFDLENBQUMsMkVBQW1CO0FBQ04seUZBQTBCLEVBQUM7QUFDMUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9pbnRlcm5hbC9TdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgYmFzZTY0RW5jb2RlLCBTdGl0Y2hBcHBBdXRoUm91dGVzIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG52YXIgU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcyhjbGllbnRBcHBJZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY2xpZW50QXBwSWQpIHx8IHRoaXM7XG4gICAgfVxuICAgIFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzLnByb3RvdHlwZS5nZXRBdXRoUHJvdmlkZXJSZWRpcmVjdFJvdXRlID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwsIHJlZGlyZWN0VXJsLCBzdGF0ZSwgZGV2aWNlSW5mbykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdXRoUHJvdmlkZXJMb2dpblJvdXRlKGNyZWRlbnRpYWwucHJvdmlkZXJOYW1lKSArIFwiP3JlZGlyZWN0PVwiICsgZW5jb2RlVVJJKHJlZGlyZWN0VXJsKSArIFwiJnN0YXRlPVwiICsgc3RhdGUgKyBcIiZkZXZpY2U9XCIgKyB0aGlzLnVyaUVuY29kZU9iamVjdChkZXZpY2VJbmZvKTtcbiAgICB9O1xuICAgIFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzLnByb3RvdHlwZS5nZXRBdXRoUHJvdmlkZXJMaW5rUmVkaXJlY3RSb3V0ZSA9IGZ1bmN0aW9uIChjcmVkZW50aWFsLCByZWRpcmVjdFVybCwgc3RhdGUsIGRldmljZUluZm8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXV0aFByb3ZpZGVyTG9naW5Sb3V0ZShjcmVkZW50aWFsLnByb3ZpZGVyTmFtZSkgKyBcIj9yZWRpcmVjdD1cIiArIGVuY29kZVVSSShyZWRpcmVjdFVybCkgKyBcIiZzdGF0ZT1cIiArIHN0YXRlICsgXCImZGV2aWNlPVwiICsgdGhpcy51cmlFbmNvZGVPYmplY3QoZGV2aWNlSW5mbykgKyBcIiZsaW5rPXRydWUmcHJvdmlkZXJSZWRpcmVjdEhlYWRlcj10cnVlXCI7XG4gICAgfTtcbiAgICBTdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcy5wcm90b3R5cGUudXJpRW5jb2RlT2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGJhc2U2NEVuY29kZShKU09OLnN0cmluZ2lmeShvYmopKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXM7XG59KFN0aXRjaEFwcEF1dGhSb3V0ZXMpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXMuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppAuthRoutes.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppRoutes.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppRoutes.js ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony import */ var _StitchBrowserAppAuthRoutes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StitchBrowserAppAuthRoutes */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppAuthRoutes.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar StitchBrowserAppRoutes = (function (_super) {\n    __extends(StitchBrowserAppRoutes, _super);\n    function StitchBrowserAppRoutes(clientAppId) {\n        var _this = _super.call(this, clientAppId) || this;\n        _this.authRoutes = new _StitchBrowserAppAuthRoutes__WEBPACK_IMPORTED_MODULE_1__[\"default\"](clientAppId);\n        return _this;\n    }\n    return StitchBrowserAppRoutes;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppRoutes\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchBrowserAppRoutes);\n//# sourceMappingURL=StitchBrowserAppRoutes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoQnJvd3NlckFwcFJvdXRlcy5qcz9hZGFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ3lEO0FBQ1k7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsbUVBQTBCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyx1RUFBZTtBQUNGLHFGQUFzQixFQUFDO0FBQ3RDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoQnJvd3NlckFwcFJvdXRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgU3RpdGNoQXBwUm91dGVzIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG5pbXBvcnQgU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXMgZnJvbSBcIi4vU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXNcIjtcbnZhciBTdGl0Y2hCcm93c2VyQXBwUm91dGVzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoQnJvd3NlckFwcFJvdXRlcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hCcm93c2VyQXBwUm91dGVzKGNsaWVudEFwcElkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNsaWVudEFwcElkKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hdXRoUm91dGVzID0gbmV3IFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzKGNsaWVudEFwcElkKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3RpdGNoQnJvd3NlckFwcFJvdXRlcztcbn0oU3RpdGNoQXBwUm91dGVzKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hCcm93c2VyQXBwUm91dGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQnJvd3NlckFwcFJvdXRlcy5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppRoutes.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchRedirectError.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchRedirectError.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar StitchRedirectError = (function (_super) {\n    __extends(StitchRedirectError, _super);\n    function StitchRedirectError(msg) {\n        return _super.call(this, msg) || this;\n    }\n    return StitchRedirectError;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchError\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchRedirectError);\n//# sourceMappingURL=StitchRedirectError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoUmVkaXJlY3RFcnJvci5qcz80ZjMzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNxRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsbUVBQVc7QUFDRSxrRkFBbUIsRUFBQztBQUNuQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL2ludGVybmFsL1N0aXRjaFJlZGlyZWN0RXJyb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFN0aXRjaEVycm9yIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG52YXIgU3RpdGNoUmVkaXJlY3RFcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaFJlZGlyZWN0RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoUmVkaXJlY3RFcnJvcihtc2cpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG1zZykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN0aXRjaFJlZGlyZWN0RXJyb3I7XG59KFN0aXRjaEVycm9yKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hSZWRpcmVjdEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoUmVkaXJlY3RFcnJvci5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchRedirectError.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserFactoryImpl.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserFactoryImpl.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchUserImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchUserImpl */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserImpl.js\");\n\nvar StitchUserFactoryImpl = (function () {\n    function StitchUserFactoryImpl(auth) {\n        this.auth = auth;\n    }\n    StitchUserFactoryImpl.prototype.makeUser = function (id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, userProfile, customData) {\n        return new _StitchUserImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, userProfile, this.auth, customData);\n    };\n    return StitchUserFactoryImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchUserFactoryImpl);\n//# sourceMappingURL=StitchUserFactoryImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoVXNlckZhY3RvcnlJbXBsLmpzP2M2YzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVEQUFjO0FBQ2pDO0FBQ0E7QUFDQSxDQUFDO0FBQ2Msb0ZBQXFCLEVBQUM7QUFDckMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9pbnRlcm5hbC9TdGl0Y2hVc2VyRmFjdG9yeUltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RpdGNoVXNlckltcGwgZnJvbSBcIi4vU3RpdGNoVXNlckltcGxcIjtcbnZhciBTdGl0Y2hVc2VyRmFjdG9yeUltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFVzZXJGYWN0b3J5SW1wbChhdXRoKSB7XG4gICAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgfVxuICAgIFN0aXRjaFVzZXJGYWN0b3J5SW1wbC5wcm90b3R5cGUubWFrZVVzZXIgPSBmdW5jdGlvbiAoaWQsIGxvZ2dlZEluUHJvdmlkZXJUeXBlLCBsb2dnZWRJblByb3ZpZGVyTmFtZSwgaXNMb2dnZWRJbiwgbGFzdEF1dGhBY3Rpdml0eSwgdXNlclByb2ZpbGUsIGN1c3RvbURhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hVc2VySW1wbChpZCwgbG9nZ2VkSW5Qcm92aWRlclR5cGUsIGxvZ2dlZEluUHJvdmlkZXJOYW1lLCBpc0xvZ2dlZEluLCBsYXN0QXV0aEFjdGl2aXR5LCB1c2VyUHJvZmlsZSwgdGhpcy5hdXRoLCBjdXN0b21EYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2hVc2VyRmFjdG9yeUltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoVXNlckZhY3RvcnlJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoVXNlckZhY3RvcnlJbXBsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserFactoryImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserImpl.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserImpl.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar StitchUserImpl = (function (_super) {\n    __extends(StitchUserImpl, _super);\n    function StitchUserImpl(id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, profile, auth, customData) {\n        var _this = _super.call(this, id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, profile, customData) || this;\n        _this.auth = auth;\n        return _this;\n    }\n    StitchUserImpl.prototype.linkWithCredential = function (credential) {\n        return this.auth.linkWithCredential(this, credential);\n    };\n    StitchUserImpl.prototype.linkUserWithRedirect = function (credential) {\n        return this.auth.linkWithRedirectInternal(this, credential);\n    };\n    return StitchUserImpl;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CoreStitchUserImpl\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchUserImpl);\n//# sourceMappingURL=StitchUserImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoVXNlckltcGwuanM/ZWUyMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDNEQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQywwRUFBa0I7QUFDTCw2RUFBYyxFQUFDO0FBQzlCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoVXNlckltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IENvcmVTdGl0Y2hVc2VySW1wbCB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xudmFyIFN0aXRjaFVzZXJJbXBsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoVXNlckltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoVXNlckltcGwoaWQsIGxvZ2dlZEluUHJvdmlkZXJUeXBlLCBsb2dnZWRJblByb3ZpZGVyTmFtZSwgaXNMb2dnZWRJbiwgbGFzdEF1dGhBY3Rpdml0eSwgcHJvZmlsZSwgYXV0aCwgY3VzdG9tRGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBpZCwgbG9nZ2VkSW5Qcm92aWRlclR5cGUsIGxvZ2dlZEluUHJvdmlkZXJOYW1lLCBpc0xvZ2dlZEluLCBsYXN0QXV0aEFjdGl2aXR5LCBwcm9maWxlLCBjdXN0b21EYXRhKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hdXRoID0gYXV0aDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdGl0Y2hVc2VySW1wbC5wcm90b3R5cGUubGlua1dpdGhDcmVkZW50aWFsID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5saW5rV2l0aENyZWRlbnRpYWwodGhpcywgY3JlZGVudGlhbCk7XG4gICAgfTtcbiAgICBTdGl0Y2hVc2VySW1wbC5wcm90b3R5cGUubGlua1VzZXJXaXRoUmVkaXJlY3QgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmxpbmtXaXRoUmVkaXJlY3RJbnRlcm5hbCh0aGlzLCBjcmVkZW50aWFsKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2hVc2VySW1wbDtcbn0oQ29yZVN0aXRjaFVzZXJJbXBsKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hVc2VySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFVzZXJJbXBsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchUserImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/facebook/FacebookRedirectCredential.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/facebook/FacebookRedirectCredential.js ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n\nvar FacebookRedirectCredential = (function () {\n    function FacebookRedirectCredential(redirectUrl, providerName, providerType) {\n        if (providerName === void 0) { providerName = mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"FacebookAuthProvider\"].DEFAULT_NAME; }\n        if (providerType === void 0) { providerType = mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"FacebookAuthProvider\"].TYPE; }\n        this.redirectUrl = redirectUrl;\n        this.providerName = providerName;\n        this.providerType = providerType;\n    }\n    return FacebookRedirectCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (FacebookRedirectCredential);\n//# sourceMappingURL=FacebookRedirectCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsLmpzPzY4MjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUErRDtBQUMvRDtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQiw0RUFBb0IsY0FBYztBQUN4RixzQ0FBc0MsZ0JBQWdCLDRFQUFvQixNQUFNO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MseUZBQTBCLEVBQUM7QUFDMUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9wcm92aWRlcnMvZmFjZWJvb2svRmFjZWJvb2tSZWRpcmVjdENyZWRlbnRpYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYWNlYm9va0F1dGhQcm92aWRlciB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xudmFyIEZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNlYm9va1JlZGlyZWN0Q3JlZGVudGlhbChyZWRpcmVjdFVybCwgcHJvdmlkZXJOYW1lLCBwcm92aWRlclR5cGUpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyTmFtZSA9PT0gdm9pZCAwKSB7IHByb3ZpZGVyTmFtZSA9IEZhY2Vib29rQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICBpZiAocHJvdmlkZXJUeXBlID09PSB2b2lkIDApIHsgcHJvdmlkZXJUeXBlID0gRmFjZWJvb2tBdXRoUHJvdmlkZXIuVFlQRTsgfVxuICAgICAgICB0aGlzLnJlZGlyZWN0VXJsID0gcmVkaXJlY3RVcmw7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IHByb3ZpZGVyVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIEZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjZWJvb2tSZWRpcmVjdENyZWRlbnRpYWwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/facebook/FacebookRedirectCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/google/GoogleRedirectCredential.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/google/GoogleRedirectCredential.js ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n\nvar GoogleRedirectCredential = (function () {\n    function GoogleRedirectCredential(redirectUrl, providerName, providerType) {\n        if (providerName === void 0) { providerName = mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"GoogleAuthProvider\"].DEFAULT_NAME; }\n        if (providerType === void 0) { providerType = mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"GoogleAuthProvider\"].TYPE; }\n        this.redirectUrl = redirectUrl;\n        this.providerName = providerName;\n        this.providerType = providerType;\n    }\n    return GoogleRedirectCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (GoogleRedirectCredential);\n//# sourceMappingURL=GoogleRedirectCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL2dvb2dsZS9Hb29nbGVSZWRpcmVjdENyZWRlbnRpYWwuanM/NTc0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQTZEO0FBQzdEO0FBQ0E7QUFDQSxzQ0FBc0MsZ0JBQWdCLDBFQUFrQixjQUFjO0FBQ3RGLHNDQUFzQyxnQkFBZ0IsMEVBQWtCLE1BQU07QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyx1RkFBd0IsRUFBQztBQUN4QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL3Byb3ZpZGVycy9nb29nbGUvR29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlQXV0aFByb3ZpZGVyIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG52YXIgR29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHb29nbGVSZWRpcmVjdENyZWRlbnRpYWwocmVkaXJlY3RVcmwsIHByb3ZpZGVyTmFtZSwgcHJvdmlkZXJUeXBlKSB7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBHb29nbGVBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIGlmIChwcm92aWRlclR5cGUgPT09IHZvaWQgMCkgeyBwcm92aWRlclR5cGUgPSBHb29nbGVBdXRoUHJvdmlkZXIuVFlQRTsgfVxuICAgICAgICB0aGlzLnJlZGlyZWN0VXJsID0gcmVkaXJlY3RVcmw7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IHByb3ZpZGVyVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIEdvb2dsZVJlZGlyZWN0Q3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBHb29nbGVSZWRpcmVjdENyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hb29nbGVSZWRpcmVjdENyZWRlbnRpYWwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/google/GoogleRedirectCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/UserApiKeyAuthProviderClient.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/UserApiKeyAuthProviderClient.js ***!
  \**************************************************************************************************************************/
/*! exports provided: UserApiKeyAuthProviderClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyAuthProviderClient\", function() { return UserApiKeyAuthProviderClient; });\n/* harmony import */ var _internal_UserApiKeyAuthProviderClientImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/UserApiKeyAuthProviderClientImpl */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/internal/UserApiKeyAuthProviderClientImpl.js\");\n\nvar UserApiKeyAuthProviderClient;\n(function (UserApiKeyAuthProviderClient) {\n    UserApiKeyAuthProviderClient.factory = new (function () {\n        function class_1() {\n        }\n        class_1.prototype.getClient = function (authRequestClient, requestClient, routes) {\n            return new _internal_UserApiKeyAuthProviderClientImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](authRequestClient, routes);\n        };\n        return class_1;\n    }())();\n})(UserApiKeyAuthProviderClient || (UserApiKeyAuthProviderClient = {}));\n//# sourceMappingURL=UserApiKeyAuthProviderClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5qcz8yZGQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUEyRjtBQUNwRjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0ZBQWdDO0FBQ3ZEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxvRUFBb0U7QUFDckUiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9wcm92aWRlcnMvdXNlcmFwaWtleS9Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsIGZyb20gXCIuL2ludGVybmFsL1VzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsXCI7XG5leHBvcnQgdmFyIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQ7XG4oZnVuY3Rpb24gKFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQpIHtcbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LmZhY3RvcnkgPSBuZXcgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgfVxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRDbGllbnQgPSBmdW5jdGlvbiAoYXV0aFJlcXVlc3RDbGllbnQsIHJlcXVlc3RDbGllbnQsIHJvdXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbChhdXRoUmVxdWVzdENsaWVudCwgcm91dGVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgfSgpKSgpO1xufSkoVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCB8fCAoVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/UserApiKeyAuthProviderClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/internal/UserApiKeyAuthProviderClientImpl.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/internal/UserApiKeyAuthProviderClientImpl.js ***!
  \***************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar UserApiKeyAuthProviderClientImpl = (function (_super) {\n    __extends(UserApiKeyAuthProviderClientImpl, _super);\n    function UserApiKeyAuthProviderClientImpl(requestClient, routes) {\n        return _super.call(this, requestClient, routes) || this;\n    }\n    UserApiKeyAuthProviderClientImpl.prototype.createApiKey = function (name) {\n        return _super.prototype.createApiKey.call(this, name);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.fetchApiKey = function (keyId) {\n        return _super.prototype.fetchApiKey.call(this, keyId);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.fetchApiKeys = function () {\n        return _super.prototype.fetchApiKeys.call(this);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.deleteApiKey = function (keyId) {\n        return _super.prototype.deleteApiKey.call(this, keyId);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.enableApiKey = function (keyId) {\n        return _super.prototype.enableApiKey.call(this, keyId);\n    };\n    UserApiKeyAuthProviderClientImpl.prototype.disableApiKey = function (keyId) {\n        return _super.prototype.disableApiKey.call(this, keyId);\n    };\n    return UserApiKeyAuthProviderClientImpl;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CoreUserApiKeyAuthProviderClient\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserApiKeyAuthProviderClientImpl);\n//# sourceMappingURL=UserApiKeyAuthProviderClientImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvaW50ZXJuYWwvVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGwuanM/NzI5ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDMEU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLHdGQUFnQztBQUNuQiwrRkFBZ0MsRUFBQztBQUNoRCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL3Byb3ZpZGVycy91c2VyYXBpa2V5L2ludGVybmFsL1VzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xudmFyIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGwocmVxdWVzdENsaWVudCwgcm91dGVzKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0Q2xpZW50LCByb3V0ZXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGVBcGlLZXkgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jcmVhdGVBcGlLZXkuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICB9O1xuICAgIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5mZXRjaEFwaUtleSA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5mZXRjaEFwaUtleS5jYWxsKHRoaXMsIGtleUlkKTtcbiAgICB9O1xuICAgIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5mZXRjaEFwaUtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmZldGNoQXBpS2V5cy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGwucHJvdG90eXBlLmRlbGV0ZUFwaUtleSA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5kZWxldGVBcGlLZXkuY2FsbCh0aGlzLCBrZXlJZCk7XG4gICAgfTtcbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuZW5hYmxlQXBpS2V5ID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmVuYWJsZUFwaUtleS5jYWxsKHRoaXMsIGtleUlkKTtcbiAgICB9O1xuICAgIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5kaXNhYmxlQXBpS2V5ID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmRpc2FibGVBcGlLZXkuY2FsbCh0aGlzLCBrZXlJZCk7XG4gICAgfTtcbiAgICByZXR1cm4gVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGw7XG59KENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50KSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/internal/UserApiKeyAuthProviderClientImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/UserPasswordAuthProviderClient.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/UserPasswordAuthProviderClient.js ***!
  \******************************************************************************************************************************/
/*! exports provided: UserPasswordAuthProviderClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordAuthProviderClient\", function() { return UserPasswordAuthProviderClient; });\n/* harmony import */ var _internal_UserPasswordAuthProviderClientImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/UserPasswordAuthProviderClientImpl */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/internal/UserPasswordAuthProviderClientImpl.js\");\n\nvar UserPasswordAuthProviderClient;\n(function (UserPasswordAuthProviderClient) {\n    UserPasswordAuthProviderClient.factory = new (function () {\n        function class_1() {\n        }\n        class_1.prototype.getClient = function (authRequestClient, requestClient, routes) {\n            return new _internal_UserPasswordAuthProviderClientImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](requestClient, routes);\n        };\n        return class_1;\n    }())();\n})(UserPasswordAuthProviderClient || (UserPasswordAuthProviderClient = {}));\n//# sourceMappingURL=UserPasswordAuthProviderClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzd29yZC9Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQuanM/NDRmNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBK0Y7QUFDeEY7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9GQUFrQztBQUN6RDtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMsd0VBQXdFO0FBQ3pFIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzd29yZC9Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbCBmcm9tIFwiLi9pbnRlcm5hbC9Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsXCI7XG5leHBvcnQgdmFyIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudDtcbihmdW5jdGlvbiAoVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50KSB7XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LmZhY3RvcnkgPSBuZXcgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgfVxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRDbGllbnQgPSBmdW5jdGlvbiAoYXV0aFJlcXVlc3RDbGllbnQsIHJlcXVlc3RDbGllbnQsIHJvdXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsKHJlcXVlc3RDbGllbnQsIHJvdXRlcyk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjbGFzc18xO1xuICAgIH0oKSkoKTtcbn0pKFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudCB8fCAoVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/UserPasswordAuthProviderClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/internal/UserPasswordAuthProviderClientImpl.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/internal/UserPasswordAuthProviderClientImpl.js ***!
  \*******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar UserPasswordAuthProviderClientImpl = (function (_super) {\n    __extends(UserPasswordAuthProviderClientImpl, _super);\n    function UserPasswordAuthProviderClientImpl(requestClient, routes) {\n        return _super.call(this, mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"UserPasswordAuthProvider\"].DEFAULT_NAME, requestClient, routes) || this;\n    }\n    UserPasswordAuthProviderClientImpl.prototype.registerWithEmail = function (email, password) {\n        return _super.prototype.registerWithEmailInternal.call(this, email, password);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.confirmUser = function (token, tokenId) {\n        return _super.prototype.confirmUserInternal.call(this, token, tokenId);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.resendConfirmationEmail = function (email) {\n        return _super.prototype.resendConfirmationEmailInternal.call(this, email);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.resetPassword = function (token, tokenId, password) {\n        return _super.prototype.resetPasswordInternal.call(this, token, tokenId, password);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.sendResetPasswordEmail = function (email) {\n        return _super.prototype.sendResetPasswordEmailInternal.call(this, email);\n    };\n    UserPasswordAuthProviderClientImpl.prototype.callResetPasswordFunction = function (email, password, args) {\n        return _super.prototype.callResetPasswordFunctionInternal.call(this, email, password, args);\n    };\n    return UserPasswordAuthProviderClientImpl;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CoreUserPassAuthProviderClient\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserPasswordAuthProviderClientImpl);\n//# sourceMappingURL=UserPasswordAuthProviderClientImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzd29yZC9pbnRlcm5hbC9Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsLmpzPzBiMjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ2tHO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxnRkFBd0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyxzRkFBOEI7QUFDakIsaUdBQWtDLEVBQUM7QUFDbEQiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9wcm92aWRlcnMvdXNlcnBhc3N3b3JkL2ludGVybmFsL1VzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IENvcmVVc2VyUGFzc0F1dGhQcm92aWRlckNsaWVudCwgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG52YXIgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbChyZXF1ZXN0Q2xpZW50LCByb3V0ZXMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlci5ERUZBVUxUX05BTUUsIHJlcXVlc3RDbGllbnQsIHJvdXRlcykgfHwgdGhpcztcbiAgICB9XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUucmVnaXN0ZXJXaXRoRW1haWwgPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlZ2lzdGVyV2l0aEVtYWlsSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCwgcGFzc3dvcmQpO1xuICAgIH07XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuY29uZmlybVVzZXIgPSBmdW5jdGlvbiAodG9rZW4sIHRva2VuSWQpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuY29uZmlybVVzZXJJbnRlcm5hbC5jYWxsKHRoaXMsIHRva2VuLCB0b2tlbklkKTtcbiAgICB9O1xuICAgIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwucHJvdG90eXBlLnJlc2VuZENvbmZpcm1hdGlvbkVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlc2VuZENvbmZpcm1hdGlvbkVtYWlsSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCk7XG4gICAgfTtcbiAgICBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24gKHRva2VuLCB0b2tlbklkLCBwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXNldFBhc3N3b3JkSW50ZXJuYWwuY2FsbCh0aGlzLCB0b2tlbiwgdG9rZW5JZCwgcGFzc3dvcmQpO1xuICAgIH07XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuc2VuZFJlc2V0UGFzc3dvcmRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zZW5kUmVzZXRQYXNzd29yZEVtYWlsSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCk7XG4gICAgfTtcbiAgICBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5jYWxsUmVzZXRQYXNzd29yZEZ1bmN0aW9uID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCwgYXJncykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jYWxsUmVzZXRQYXNzd29yZEZ1bmN0aW9uSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCwgcGFzc3dvcmQsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGw7XG59KENvcmVVc2VyUGFzc0F1dGhQcm92aWRlckNsaWVudCkpO1xuZXhwb3J0IGRlZmF1bHQgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/internal/UserPasswordAuthProviderClientImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/StitchAppClientImpl.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/StitchAppClientImpl.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony import */ var _services_internal_StitchServiceClientImpl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/internal/StitchServiceClientImpl */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/services/internal/StitchServiceClientImpl.js\");\n/* harmony import */ var _auth_internal_StitchAuthImpl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth/internal/StitchAuthImpl */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchAuthImpl.js\");\n/* harmony import */ var _auth_internal_StitchBrowserAppRoutes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth/internal/StitchBrowserAppRoutes */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/internal/StitchBrowserAppRoutes.js\");\n\n\n\n\nvar StitchAppClientImpl = (function () {\n    function StitchAppClientImpl(clientAppId, config) {\n        this.info = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientInfo\"](clientAppId, config.dataDirectory, config.localAppName, config.localAppVersion);\n        this.routes = new _auth_internal_StitchBrowserAppRoutes__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.info.clientAppId);\n        var requestClient = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppRequestClient\"](clientAppId, config.baseUrl, config.transport);\n        this.auth = new _auth_internal_StitchAuthImpl__WEBPACK_IMPORTED_MODULE_2__[\"default\"](requestClient, this.routes.authRoutes, config.storage, this.info);\n        this.coreClient = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CoreStitchAppClient\"](this.auth, this.routes);\n        this.serviceClients = [];\n        this.auth.addSynchronousAuthListener(this);\n    }\n    StitchAppClientImpl.prototype.getServiceClient = function (factory, serviceName) {\n        if (isServiceClientFactory(factory)) {\n            var serviceClient = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CoreStitchServiceClientImpl\"](this.auth, this.routes.serviceRoutes, \"\");\n            this.bindServiceClient(serviceClient);\n            return factory.getClient(serviceClient, this.info);\n        }\n        else {\n            var serviceClient = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CoreStitchServiceClientImpl\"](this.auth, this.routes.serviceRoutes, serviceName);\n            this.bindServiceClient(serviceClient);\n            return factory.getNamedClient(serviceClient, this.info);\n        }\n    };\n    StitchAppClientImpl.prototype.getGeneralServiceClient = function (serviceName) {\n        var serviceClient = new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CoreStitchServiceClientImpl\"](this.auth, this.routes.serviceRoutes, serviceName);\n        this.bindServiceClient(serviceClient);\n        return new _services_internal_StitchServiceClientImpl__WEBPACK_IMPORTED_MODULE_1__[\"default\"](serviceClient);\n    };\n    StitchAppClientImpl.prototype.callFunction = function (name, args) {\n        return this.coreClient.callFunction(name, args);\n    };\n    StitchAppClientImpl.prototype.onActiveUserChanged = function (_, currentActiveUser, previousActiveUser) {\n        this.onRebindEvent(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"AuthRebindEvent\"]({\n            currentActiveUser: currentActiveUser,\n            kind: mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"AuthEventKind\"].ActiveUserChanged,\n            previousActiveUser: previousActiveUser\n        }));\n    };\n    StitchAppClientImpl.prototype.bindServiceClient = function (coreStitchServiceClient) {\n        this.serviceClients.push(coreStitchServiceClient);\n    };\n    StitchAppClientImpl.prototype.onRebindEvent = function (rebindEvent) {\n        this.serviceClients.forEach(function (serviceClient) {\n            serviceClient.onRebindEvent(rebindEvent);\n        });\n    };\n    return StitchAppClientImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchAppClientImpl);\nfunction isServiceClientFactory(factory) {\n    return factory.getClient !== undefined;\n}\n//# sourceMappingURL=StitchAppClientImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL1N0aXRjaEFwcENsaWVudEltcGwuanM/YzE2NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXdLO0FBQ2xGO0FBQ3pCO0FBQ2dCO0FBQzdFO0FBQ0E7QUFDQSx3QkFBd0IsMkVBQW1CO0FBQzNDLDBCQUEwQiw2RUFBc0I7QUFDaEQsZ0NBQWdDLDhFQUFzQjtBQUN0RCx3QkFBd0IscUVBQWM7QUFDdEMsOEJBQThCLDJFQUFtQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1GQUEyQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxtRkFBMkI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtRkFBMkI7QUFDM0Q7QUFDQSxtQkFBbUIsa0ZBQXVCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdUVBQWU7QUFDOUM7QUFDQSxrQkFBa0IscUVBQWE7QUFDL0I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDYyxrRkFBbUIsRUFBQztBQUNuQztBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9pbnRlcm5hbC9TdGl0Y2hBcHBDbGllbnRJbXBsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aEV2ZW50S2luZCwgQXV0aFJlYmluZEV2ZW50LCBDb3JlU3RpdGNoQXBwQ2xpZW50LCBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwsIFN0aXRjaEFwcENsaWVudEluZm8sIFN0aXRjaEFwcFJlcXVlc3RDbGllbnQgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbmltcG9ydCBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCBmcm9tIFwiLi4vLi4vc2VydmljZXMvaW50ZXJuYWwvU3RpdGNoU2VydmljZUNsaWVudEltcGxcIjtcbmltcG9ydCBTdGl0Y2hBdXRoSW1wbCBmcm9tIFwiLi4vYXV0aC9pbnRlcm5hbC9TdGl0Y2hBdXRoSW1wbFwiO1xuaW1wb3J0IFN0aXRjaEJyb3dzZXJBcHBSb3V0ZXMgZnJvbSBcIi4uL2F1dGgvaW50ZXJuYWwvU3RpdGNoQnJvd3NlckFwcFJvdXRlc1wiO1xudmFyIFN0aXRjaEFwcENsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaEFwcENsaWVudEltcGwoY2xpZW50QXBwSWQsIGNvbmZpZykge1xuICAgICAgICB0aGlzLmluZm8gPSBuZXcgU3RpdGNoQXBwQ2xpZW50SW5mbyhjbGllbnRBcHBJZCwgY29uZmlnLmRhdGFEaXJlY3RvcnksIGNvbmZpZy5sb2NhbEFwcE5hbWUsIGNvbmZpZy5sb2NhbEFwcFZlcnNpb24pO1xuICAgICAgICB0aGlzLnJvdXRlcyA9IG5ldyBTdGl0Y2hCcm93c2VyQXBwUm91dGVzKHRoaXMuaW5mby5jbGllbnRBcHBJZCk7XG4gICAgICAgIHZhciByZXF1ZXN0Q2xpZW50ID0gbmV3IFN0aXRjaEFwcFJlcXVlc3RDbGllbnQoY2xpZW50QXBwSWQsIGNvbmZpZy5iYXNlVXJsLCBjb25maWcudHJhbnNwb3J0KTtcbiAgICAgICAgdGhpcy5hdXRoID0gbmV3IFN0aXRjaEF1dGhJbXBsKHJlcXVlc3RDbGllbnQsIHRoaXMucm91dGVzLmF1dGhSb3V0ZXMsIGNvbmZpZy5zdG9yYWdlLCB0aGlzLmluZm8pO1xuICAgICAgICB0aGlzLmNvcmVDbGllbnQgPSBuZXcgQ29yZVN0aXRjaEFwcENsaWVudCh0aGlzLmF1dGgsIHRoaXMucm91dGVzKTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlQ2xpZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmF1dGguYWRkU3luY2hyb25vdXNBdXRoTGlzdGVuZXIodGhpcyk7XG4gICAgfVxuICAgIFN0aXRjaEFwcENsaWVudEltcGwucHJvdG90eXBlLmdldFNlcnZpY2VDbGllbnQgPSBmdW5jdGlvbiAoZmFjdG9yeSwgc2VydmljZU5hbWUpIHtcbiAgICAgICAgaWYgKGlzU2VydmljZUNsaWVudEZhY3RvcnkoZmFjdG9yeSkpIHtcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlQ2xpZW50ID0gbmV3IENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCh0aGlzLmF1dGgsIHRoaXMucm91dGVzLnNlcnZpY2VSb3V0ZXMsIFwiXCIpO1xuICAgICAgICAgICAgdGhpcy5iaW5kU2VydmljZUNsaWVudChzZXJ2aWNlQ2xpZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5LmdldENsaWVudChzZXJ2aWNlQ2xpZW50LCB0aGlzLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNlcnZpY2VDbGllbnQgPSBuZXcgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsKHRoaXMuYXV0aCwgdGhpcy5yb3V0ZXMuc2VydmljZVJvdXRlcywgc2VydmljZU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5iaW5kU2VydmljZUNsaWVudChzZXJ2aWNlQ2xpZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5LmdldE5hbWVkQ2xpZW50KHNlcnZpY2VDbGllbnQsIHRoaXMuaW5mbyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0aXRjaEFwcENsaWVudEltcGwucHJvdG90eXBlLmdldEdlbmVyYWxTZXJ2aWNlQ2xpZW50ID0gZnVuY3Rpb24gKHNlcnZpY2VOYW1lKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlQ2xpZW50ID0gbmV3IENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCh0aGlzLmF1dGgsIHRoaXMucm91dGVzLnNlcnZpY2VSb3V0ZXMsIHNlcnZpY2VOYW1lKTtcbiAgICAgICAgdGhpcy5iaW5kU2VydmljZUNsaWVudChzZXJ2aWNlQ2xpZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbChzZXJ2aWNlQ2xpZW50KTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcENsaWVudEltcGwucHJvdG90eXBlLmNhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcmVDbGllbnQuY2FsbEZ1bmN0aW9uKG5hbWUsIGFyZ3MpO1xuICAgIH07XG4gICAgU3RpdGNoQXBwQ2xpZW50SW1wbC5wcm90b3R5cGUub25BY3RpdmVVc2VyQ2hhbmdlZCA9IGZ1bmN0aW9uIChfLCBjdXJyZW50QWN0aXZlVXNlciwgcHJldmlvdXNBY3RpdmVVc2VyKSB7XG4gICAgICAgIHRoaXMub25SZWJpbmRFdmVudChuZXcgQXV0aFJlYmluZEV2ZW50KHtcbiAgICAgICAgICAgIGN1cnJlbnRBY3RpdmVVc2VyOiBjdXJyZW50QWN0aXZlVXNlcixcbiAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuQWN0aXZlVXNlckNoYW5nZWQsXG4gICAgICAgICAgICBwcmV2aW91c0FjdGl2ZVVzZXI6IHByZXZpb3VzQWN0aXZlVXNlclxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBcHBDbGllbnRJbXBsLnByb3RvdHlwZS5iaW5kU2VydmljZUNsaWVudCA9IGZ1bmN0aW9uIChjb3JlU3RpdGNoU2VydmljZUNsaWVudCkge1xuICAgICAgICB0aGlzLnNlcnZpY2VDbGllbnRzLnB1c2goY29yZVN0aXRjaFNlcnZpY2VDbGllbnQpO1xuICAgIH07XG4gICAgU3RpdGNoQXBwQ2xpZW50SW1wbC5wcm90b3R5cGUub25SZWJpbmRFdmVudCA9IGZ1bmN0aW9uIChyZWJpbmRFdmVudCkge1xuICAgICAgICB0aGlzLnNlcnZpY2VDbGllbnRzLmZvckVhY2goZnVuY3Rpb24gKHNlcnZpY2VDbGllbnQpIHtcbiAgICAgICAgICAgIHNlcnZpY2VDbGllbnQub25SZWJpbmRFdmVudChyZWJpbmRFdmVudCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEFwcENsaWVudEltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXBwQ2xpZW50SW1wbDtcbmZ1bmN0aW9uIGlzU2VydmljZUNsaWVudEZhY3RvcnkoZmFjdG9yeSkge1xuICAgIHJldHVybiBmYWN0b3J5LmdldENsaWVudCAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXBwQ2xpZW50SW1wbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/StitchAppClientImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/LocalStorage.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/LocalStorage.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar stitchPrefixKey = \"__stitch.client\";\nvar LocalStorage = (function () {\n    function LocalStorage(suiteName) {\n        this.suiteName = suiteName;\n    }\n    LocalStorage.prototype.get = function (key) {\n        return localStorage.getItem(this.getKey(key));\n    };\n    LocalStorage.prototype.set = function (key, value) {\n        localStorage.setItem(this.getKey(key), value);\n    };\n    LocalStorage.prototype.remove = function (key) {\n        localStorage.removeItem(this.getKey(key));\n    };\n    LocalStorage.prototype.getKey = function (forKey) {\n        return stitchPrefixKey + \".\" + this.suiteName + \".\" + forKey;\n    };\n    return LocalStorage;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (LocalStorage);\n//# sourceMappingURL=LocalStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL2NvbW1vbi9Mb2NhbFN0b3JhZ2UuanM/ZTc2MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYywyRUFBWSxFQUFDO0FBQzVCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL2NvbW1vbi9Mb2NhbFN0b3JhZ2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RpdGNoUHJlZml4S2V5ID0gXCJfX3N0aXRjaC5jbGllbnRcIjtcbnZhciBMb2NhbFN0b3JhZ2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsU3RvcmFnZShzdWl0ZU5hbWUpIHtcbiAgICAgICAgdGhpcy5zdWl0ZU5hbWUgPSBzdWl0ZU5hbWU7XG4gICAgfVxuICAgIExvY2FsU3RvcmFnZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5nZXRLZXkoa2V5KSk7XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2UucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuZ2V0S2V5KGtleSksIHZhbHVlKTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmdldEtleShrZXkpKTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZS5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24gKGZvcktleSkge1xuICAgICAgICByZXR1cm4gc3RpdGNoUHJlZml4S2V5ICsgXCIuXCIgKyB0aGlzLnN1aXRlTmFtZSArIFwiLlwiICsgZm9yS2V5O1xuICAgIH07XG4gICAgcmV0dXJuIExvY2FsU3RvcmFnZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBMb2NhbFN0b3JhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2NhbFN0b3JhZ2UuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/LocalStorage.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/Version.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/Version.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return version; });\nvar version = \"4.8.0\";\n\n//# sourceMappingURL=Version.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL2NvbW1vbi9WZXJzaW9uLmpzPzQ0YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQzhCO0FBQzlCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL2NvbW1vbi9WZXJzaW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHZlcnNpb24gPSBcIjQuOC4wXCI7XG5leHBvcnQgeyB2ZXJzaW9uIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlcnNpb24uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/common/Version.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchStreamTransport.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchStreamTransport.js ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! whatwg-fetch */ \"./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js\");\n/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(whatwg_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _BrowserFetchTransport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BrowserFetchTransport */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchTransport.js\");\n/* harmony import */ var _EventSourceEventStream__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EventSourceEventStream */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/EventSourceEventStream.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\n\n\n\n\nvar BrowserFetchStreamTransport = (function (_super) {\n    __extends(BrowserFetchStreamTransport, _super);\n    function BrowserFetchStreamTransport() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BrowserFetchStreamTransport.prototype.stream = function (request, open, retryRequest) {\n        if (open === void 0) { open = true; }\n        var reqHeaders = __assign({}, request.headers);\n        reqHeaders[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Headers\"].ACCEPT] = mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"ContentTypes\"].TEXT_EVENT_STREAM;\n        reqHeaders[mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Headers\"].CONTENT_TYPE] = mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"ContentTypes\"].TEXT_EVENT_STREAM;\n        return Object(whatwg_fetch__WEBPACK_IMPORTED_MODULE_1__[\"fetch\"])(request.url + \"&stitch_validate=true\", {\n            body: request.body,\n            headers: reqHeaders,\n            method: request.method,\n            mode: 'cors'\n        }).then(function (response) {\n            var respHeaders = {};\n            response.headers.forEach(function (value, key) {\n                respHeaders[key] = value;\n            });\n            if (response.status < 200 || response.status >= 300) {\n                return response.text()\n                    .then(function (body) { return Object(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"handleRequestError\"])(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Response\"](respHeaders, response.status, body)); });\n            }\n            return new Promise(function (resolve, reject) {\n                return new _EventSourceEventStream__WEBPACK_IMPORTED_MODULE_3__[\"default\"](new EventSource(request.url), function (stream) { return resolve(stream); }, function (error) { return reject(error); }, retryRequest ?\n                    function () { return retryRequest().then(function (es) { return es; }); }\n                    : undefined);\n            });\n        });\n    };\n    return BrowserFetchStreamTransport;\n}(_BrowserFetchTransport__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (BrowserFetchStreamTransport);\n//# sourceMappingURL=BrowserFetchStreamTransport.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL25ldC9Ccm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQuanM/ZjExNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1Qiw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDOEY7QUFDaEQ7QUFDYztBQUNFO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixhQUFhO0FBQzNDLG9DQUFvQztBQUNwQyxtQkFBbUIsK0RBQU8sV0FBVyxvRUFBWTtBQUNqRCxtQkFBbUIsK0RBQU8saUJBQWlCLG9FQUFZO0FBQ3ZELGVBQWUsMERBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUSxrRkFBa0IsS0FBSyxnRUFBUSxzQ0FBc0MsRUFBRTtBQUMxSDtBQUNBO0FBQ0EsMkJBQTJCLCtEQUFzQixrREFBa0Qsd0JBQXdCLEVBQUUsb0JBQW9CLHNCQUFzQixFQUFFO0FBQ3pLLGlDQUFpQywyQ0FBMkMsV0FBVyxFQUFFLEVBQUU7QUFDM0Y7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDLENBQUMsOERBQXFCO0FBQ1IsMEZBQTJCLEVBQUM7QUFDM0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvaW50ZXJuYWwvbmV0L0Jyb3dzZXJGZXRjaFN0cmVhbVRyYW5zcG9ydC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgeyBDb250ZW50VHlwZXMsIGhhbmRsZVJlcXVlc3RFcnJvciwgSGVhZGVycywgUmVzcG9uc2UgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbmltcG9ydCB7IGZldGNoIGFzIGZldGNoIH0gZnJvbSAnd2hhdHdnLWZldGNoJztcbmltcG9ydCBCcm93c2VyRmV0Y2hUcmFuc3BvcnQgZnJvbSBcIi4vQnJvd3NlckZldGNoVHJhbnNwb3J0XCI7XG5pbXBvcnQgRXZlbnRTb3VyY2VFdmVudFN0cmVhbSBmcm9tIFwiLi9FdmVudFNvdXJjZUV2ZW50U3RyZWFtXCI7XG52YXIgQnJvd3NlckZldGNoU3RyZWFtVHJhbnNwb3J0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnJvd3NlckZldGNoU3RyZWFtVHJhbnNwb3J0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJGZXRjaFN0cmVhbVRyYW5zcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQucHJvdG90eXBlLnN0cmVhbSA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBvcGVuLCByZXRyeVJlcXVlc3QpIHtcbiAgICAgICAgaWYgKG9wZW4gPT09IHZvaWQgMCkgeyBvcGVuID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgcmVxSGVhZGVycyA9IF9fYXNzaWduKHt9LCByZXF1ZXN0LmhlYWRlcnMpO1xuICAgICAgICByZXFIZWFkZXJzW0hlYWRlcnMuQUNDRVBUXSA9IENvbnRlbnRUeXBlcy5URVhUX0VWRU5UX1NUUkVBTTtcbiAgICAgICAgcmVxSGVhZGVyc1tIZWFkZXJzLkNPTlRFTlRfVFlQRV0gPSBDb250ZW50VHlwZXMuVEVYVF9FVkVOVF9TVFJFQU07XG4gICAgICAgIHJldHVybiBmZXRjaChyZXF1ZXN0LnVybCArIFwiJnN0aXRjaF92YWxpZGF0ZT10cnVlXCIsIHtcbiAgICAgICAgICAgIGJvZHk6IHJlcXVlc3QuYm9keSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHJlcUhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzcEhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgIHJlc3BIZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPj0gMzAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYm9keSkgeyByZXR1cm4gaGFuZGxlUmVxdWVzdEVycm9yKG5ldyBSZXNwb25zZShyZXNwSGVhZGVycywgcmVzcG9uc2Uuc3RhdHVzLCBib2R5KSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV2ZW50U291cmNlRXZlbnRTdHJlYW0obmV3IEV2ZW50U291cmNlKHJlcXVlc3QudXJsKSwgZnVuY3Rpb24gKHN0cmVhbSkgeyByZXR1cm4gcmVzb2x2ZShzdHJlYW0pOyB9LCBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIHJlamVjdChlcnJvcik7IH0sIHJldHJ5UmVxdWVzdCA/XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJldHJ5UmVxdWVzdCgpLnRoZW4oZnVuY3Rpb24gKGVzKSB7IHJldHVybiBlczsgfSk7IH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJGZXRjaFN0cmVhbVRyYW5zcG9ydDtcbn0oQnJvd3NlckZldGNoVHJhbnNwb3J0KSk7XG5leHBvcnQgZGVmYXVsdCBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ccm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchStreamTransport.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchTransport.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchTransport.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! whatwg-fetch */ \"./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js\");\n/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(whatwg_fetch__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar BrowserFetchTransport = (function () {\n    function BrowserFetchTransport() {\n    }\n    BrowserFetchTransport.prototype.roundTrip = function (request) {\n        var responsePromise = Object(whatwg_fetch__WEBPACK_IMPORTED_MODULE_1__[\"fetch\"])(request.url, {\n            body: request.body,\n            headers: request.headers,\n            method: request.method,\n            mode: 'cors'\n        });\n        var responseTextPromise = responsePromise.then(function (response) {\n            return response.text();\n        });\n        return Promise.all([responsePromise, responseTextPromise]).then(function (values) {\n            var response = values[0];\n            var body = values[1];\n            var headers = {};\n            response.headers.forEach(function (value, key) {\n                headers[key] = value;\n            });\n            return new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Response\"](headers, response.status, body);\n        });\n    };\n    BrowserFetchTransport.prototype.stream = function (request, open, retryRequest) {\n        if (open === void 0) { open = true; }\n        throw new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientError\"](mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientErrorCode\"].StreamingNotSupported);\n    };\n    return BrowserFetchTransport;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (BrowserFetchTransport);\n//# sourceMappingURL=BrowserFetchTransport.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL25ldC9Ccm93c2VyRmV0Y2hUcmFuc3BvcnQuanM/ODhkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE2RjtBQUMvQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwREFBSztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYix1QkFBdUIsZ0VBQVE7QUFDL0IsU0FBUztBQUNUO0FBQ0E7QUFDQSw4QkFBOEIsYUFBYTtBQUMzQyxrQkFBa0IseUVBQWlCLENBQUMsNkVBQXFCO0FBQ3pEO0FBQ0E7QUFDQSxDQUFDO0FBQ2Msb0ZBQXFCLEVBQUM7QUFDckMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvaW50ZXJuYWwvbmV0L0Jyb3dzZXJGZXRjaFRyYW5zcG9ydC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc3BvbnNlLCBTdGl0Y2hDbGllbnRFcnJvciwgU3RpdGNoQ2xpZW50RXJyb3JDb2RlIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG5pbXBvcnQgeyBmZXRjaCBhcyBmZXRjaCB9IGZyb20gJ3doYXR3Zy1mZXRjaCc7XG52YXIgQnJvd3NlckZldGNoVHJhbnNwb3J0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VyRmV0Y2hUcmFuc3BvcnQoKSB7XG4gICAgfVxuICAgIEJyb3dzZXJGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUucm91bmRUcmlwID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlUHJvbWlzZSA9IGZldGNoKHJlcXVlc3QudXJsLCB7XG4gICAgICAgICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcmVzcG9uc2VUZXh0UHJvbWlzZSA9IHJlc3BvbnNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbcmVzcG9uc2VQcm9taXNlLCByZXNwb25zZVRleHRQcm9taXNlXSkudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICB2YXIgYm9keSA9IHZhbHVlc1sxXTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShoZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsIGJvZHkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJyb3dzZXJGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuc3RyZWFtID0gZnVuY3Rpb24gKHJlcXVlc3QsIG9wZW4sIHJldHJ5UmVxdWVzdCkge1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuU3RyZWFtaW5nTm90U3VwcG9ydGVkKTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRmV0Y2hUcmFuc3BvcnQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQnJvd3NlckZldGNoVHJhbnNwb3J0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckZldGNoVHJhbnNwb3J0LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchTransport.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/EventSourceEventStream.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/EventSourceEventStream.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar EventSourceEventStream = (function (_super) {\n    __extends(EventSourceEventStream, _super);\n    function EventSourceEventStream(evtSrc, onOpen, onOpenError, reconnecter) {\n        var _this = _super.call(this, reconnecter) || this;\n        _this.evtSrc = evtSrc;\n        _this.onOpenError = onOpenError;\n        _this.openedOnce = false;\n        _this.evtSrc.onopen = function (e) {\n            onOpen(_this);\n            _this.openedOnce = true;\n        };\n        _this.reset();\n        return _this;\n    }\n    EventSourceEventStream.prototype.open = function () {\n        if (this.closed) {\n            throw new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientError\"](mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientErrorCode\"].StreamClosed);\n        }\n    };\n    EventSourceEventStream.prototype.afterClose = function () {\n        this.evtSrc.close();\n    };\n    EventSourceEventStream.prototype.onReconnect = function (next) {\n        this.evtSrc = next.evtSrc;\n        this.reset();\n        this.events = next.events.concat(this.events);\n    };\n    EventSourceEventStream.prototype.reset = function () {\n        var _this = this;\n        this.evtSrc.onmessage = function (e) {\n            _this.events.push(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Event\"](mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Event\"].MESSAGE_EVENT, e.data));\n            _this.poll();\n        };\n        this.evtSrc.onerror = function (e) {\n            if (e instanceof MessageEvent) {\n                _this.lastErr = e.data;\n                _this.events.push(new mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Event\"](mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchEvent\"].ERROR_EVENT_NAME, _this.lastErr));\n                _this.close();\n                _this.poll();\n                return;\n            }\n            if (!_this.openedOnce) {\n                _this.close();\n                _this.onOpenError(new Error(\"event source failed to open and will not reconnect; check network log for more details\"));\n                return;\n            }\n            _this.evtSrc.close();\n            _this.reconnect();\n        };\n    };\n    return EventSourceEventStream;\n}(mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"BaseEventStream\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (EventSourceEventStream);\n//# sourceMappingURL=EventSourceEventStream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL25ldC9FdmVudFNvdXJjZUV2ZW50U3RyZWFtLmpzPzRmNTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ3VIO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlFQUFpQixDQUFDLDZFQUFxQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw2REFBSyxDQUFDLDZEQUFLO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQUssQ0FBQyxtRUFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsdUVBQWU7QUFDRixxRkFBc0IsRUFBQztBQUN0QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9pbnRlcm5hbC9uZXQvRXZlbnRTb3VyY2VFdmVudFN0cmVhbS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgQmFzZUV2ZW50U3RyZWFtLCBFdmVudCwgU3RpdGNoQ2xpZW50RXJyb3IsIFN0aXRjaENsaWVudEVycm9yQ29kZSwgU3RpdGNoRXZlbnQgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbnZhciBFdmVudFNvdXJjZUV2ZW50U3RyZWFtID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRXZlbnRTb3VyY2VFdmVudFN0cmVhbSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFdmVudFNvdXJjZUV2ZW50U3RyZWFtKGV2dFNyYywgb25PcGVuLCBvbk9wZW5FcnJvciwgcmVjb25uZWN0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVjb25uZWN0ZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmV2dFNyYyA9IGV2dFNyYztcbiAgICAgICAgX3RoaXMub25PcGVuRXJyb3IgPSBvbk9wZW5FcnJvcjtcbiAgICAgICAgX3RoaXMub3BlbmVkT25jZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5ldnRTcmMub25vcGVuID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG9uT3BlbihfdGhpcyk7XG4gICAgICAgICAgICBfdGhpcy5vcGVuZWRPbmNlID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBFdmVudFNvdXJjZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuU3RyZWFtQ2xvc2VkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXZlbnRTb3VyY2VFdmVudFN0cmVhbS5wcm90b3R5cGUuYWZ0ZXJDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ldnRTcmMuY2xvc2UoKTtcbiAgICB9O1xuICAgIEV2ZW50U291cmNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLm9uUmVjb25uZWN0ID0gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgdGhpcy5ldnRTcmMgPSBuZXh0LmV2dFNyYztcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IG5leHQuZXZlbnRzLmNvbmNhdCh0aGlzLmV2ZW50cyk7XG4gICAgfTtcbiAgICBFdmVudFNvdXJjZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5ldnRTcmMub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50cy5wdXNoKG5ldyBFdmVudChFdmVudC5NRVNTQUdFX0VWRU5ULCBlLmRhdGEpKTtcbiAgICAgICAgICAgIF90aGlzLnBvbGwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ldnRTcmMub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxhc3RFcnIgPSBlLmRhdGE7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLnB1c2gobmV3IEV2ZW50KFN0aXRjaEV2ZW50LkVSUk9SX0VWRU5UX05BTUUsIF90aGlzLmxhc3RFcnIpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnBvbGwoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIV90aGlzLm9wZW5lZE9uY2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uT3BlbkVycm9yKG5ldyBFcnJvcihcImV2ZW50IHNvdXJjZSBmYWlsZWQgdG8gb3BlbiBhbmQgd2lsbCBub3QgcmVjb25uZWN0OyBjaGVjayBuZXR3b3JrIGxvZyBmb3IgbW9yZSBkZXRhaWxzXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5ldnRTcmMuY2xvc2UoKTtcbiAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZW50U291cmNlRXZlbnRTdHJlYW07XG59KEJhc2VFdmVudFN0cmVhbSkpO1xuZXhwb3J0IGRlZmF1bHQgRXZlbnRTb3VyY2VFdmVudFN0cmVhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50U291cmNlRXZlbnRTdHJlYW0uanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/EventSourceEventStream.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/index.js ***!
  \********************************************************************/
/*! exports provided: AnonymousAuthProvider, AnonymousCredential, BSON, BrowserFetchTransport, CustomAuthProvider, CustomCredential, FacebookAuthProvider, FacebookCredential, FacebookRedirectCredential, FunctionAuthProvider, FunctionCredential, GoogleAuthProvider, GoogleCredential, GoogleRedirectCredential, MemoryStorage, ServerApiKeyAuthProvider, ServerApiKeyCredential, Stitch, StitchAppClientConfiguration, StitchAppClientInfo, StitchClientError, StitchClientErrorCode, StitchRequestError, StitchRequestErrorCode, StitchServiceError, StitchServiceErrorCode, StitchUserIdentity, Stream, UserApiKey, UserApiKeyAuthProvider, UserApiKeyAuthProviderClient, UserApiKeyCredential, UserPasswordAuthProvider, UserPasswordAuthProviderClient, UserPasswordCredential, UserType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AnonymousAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"AnonymousAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AnonymousCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"AnonymousCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BSON\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"BSON\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CustomAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"CustomCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"FacebookAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"FacebookCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FunctionAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"FunctionAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FunctionCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"FunctionCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"GoogleAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"GoogleCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MemoryStorage\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"MemoryStorage\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ServerApiKeyAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"ServerApiKeyAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ServerApiKeyCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"ServerApiKeyCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppClientConfiguration\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientConfiguration\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppClientInfo\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientInfo\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchClientError\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientError\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchClientErrorCode\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientErrorCode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestError\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchRequestError\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestErrorCode\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchRequestErrorCode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceError\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchServiceError\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceErrorCode\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchServiceErrorCode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchUserIdentity\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"StitchUserIdentity\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Stream\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Stream\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKey\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"UserApiKey\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"UserApiKeyAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"UserApiKeyCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordAuthProvider\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"UserPasswordAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordCredential\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"UserPasswordCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserType\", function() { return mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"UserType\"]; });\n\n/* harmony import */ var _core_auth_providers_facebook_FacebookRedirectCredential__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/auth/providers/facebook/FacebookRedirectCredential */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/facebook/FacebookRedirectCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookRedirectCredential\", function() { return _core_auth_providers_facebook_FacebookRedirectCredential__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _core_auth_providers_google_GoogleRedirectCredential__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/auth/providers/google/GoogleRedirectCredential */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/google/GoogleRedirectCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleRedirectCredential\", function() { return _core_auth_providers_google_GoogleRedirectCredential__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _core_auth_providers_userapikey_UserApiKeyAuthProviderClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/auth/providers/userapikey/UserApiKeyAuthProviderClient */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userapikey/UserApiKeyAuthProviderClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyAuthProviderClient\", function() { return _core_auth_providers_userapikey_UserApiKeyAuthProviderClient__WEBPACK_IMPORTED_MODULE_3__[\"UserApiKeyAuthProviderClient\"]; });\n\n/* harmony import */ var _core_auth_providers_userpassword_UserPasswordAuthProviderClient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/auth/providers/userpassword/UserPasswordAuthProviderClient */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/auth/providers/userpassword/UserPasswordAuthProviderClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordAuthProviderClient\", function() { return _core_auth_providers_userpassword_UserPasswordAuthProviderClient__WEBPACK_IMPORTED_MODULE_4__[\"UserPasswordAuthProviderClient\"]; });\n\n/* harmony import */ var _core_internal_net_BrowserFetchTransport__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/internal/net/BrowserFetchTransport */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/internal/net/BrowserFetchTransport.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BrowserFetchTransport\", function() { return _core_internal_net_BrowserFetchTransport__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _core_Stitch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/Stitch */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/core/Stitch.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Stitch\", function() { return _core_Stitch__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9pbmRleC5qcz9mOTFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBbW9CO0FBQ2hpQjtBQUNOO0FBQ2dCO0FBQ007QUFDckM7QUFDM0M7QUFDcXRCO0FBQ3h2QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbm9ueW1vdXNBdXRoUHJvdmlkZXIsIEFub255bW91c0NyZWRlbnRpYWwsIEJTT04sIEN1c3RvbUF1dGhQcm92aWRlciwgQ3VzdG9tQ3JlZGVudGlhbCwgRmFjZWJvb2tBdXRoUHJvdmlkZXIsIEZhY2Vib29rQ3JlZGVudGlhbCwgRnVuY3Rpb25BdXRoUHJvdmlkZXIsIEZ1bmN0aW9uQ3JlZGVudGlhbCwgR29vZ2xlQXV0aFByb3ZpZGVyLCBHb29nbGVDcmVkZW50aWFsLCBNZW1vcnlTdG9yYWdlLCBTZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXIsIFNlcnZlckFwaUtleUNyZWRlbnRpYWwsIFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24sIFN0aXRjaEFwcENsaWVudEluZm8sIFN0aXRjaENsaWVudEVycm9yLCBTdGl0Y2hDbGllbnRFcnJvckNvZGUsIFN0aXRjaFJlcXVlc3RFcnJvciwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZSwgU3RpdGNoU2VydmljZUVycm9yLCBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLCBTdGl0Y2hVc2VySWRlbnRpdHksIFN0cmVhbSwgVXNlckFwaUtleSwgVXNlckFwaUtleUF1dGhQcm92aWRlciwgVXNlckFwaUtleUNyZWRlbnRpYWwsIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlciwgVXNlclBhc3N3b3JkQ3JlZGVudGlhbCwgVXNlclR5cGUgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbmltcG9ydCBGYWNlYm9va1JlZGlyZWN0Q3JlZGVudGlhbCBmcm9tIFwiLi9jb3JlL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsXCI7XG5pbXBvcnQgR29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsIGZyb20gXCIuL2NvcmUvYXV0aC9wcm92aWRlcnMvZ29vZ2xlL0dvb2dsZVJlZGlyZWN0Q3JlZGVudGlhbFwiO1xuaW1wb3J0IHsgVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCB9IGZyb20gXCIuL2NvcmUvYXV0aC9wcm92aWRlcnMvdXNlcmFwaWtleS9Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50XCI7XG5pbXBvcnQgeyBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQgfSBmcm9tIFwiLi9jb3JlL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzd29yZC9Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRcIjtcbmltcG9ydCBCcm93c2VyRmV0Y2hUcmFuc3BvcnQgZnJvbSBcIi4vY29yZS9pbnRlcm5hbC9uZXQvQnJvd3NlckZldGNoVHJhbnNwb3J0XCI7XG5pbXBvcnQgU3RpdGNoIGZyb20gXCIuL2NvcmUvU3RpdGNoXCI7XG5leHBvcnQgeyBBbm9ueW1vdXNBdXRoUHJvdmlkZXIsIEFub255bW91c0NyZWRlbnRpYWwsIEJTT04sIEJyb3dzZXJGZXRjaFRyYW5zcG9ydCwgQ3VzdG9tQXV0aFByb3ZpZGVyLCBDdXN0b21DcmVkZW50aWFsLCBGYWNlYm9va0F1dGhQcm92aWRlciwgRmFjZWJvb2tDcmVkZW50aWFsLCBGYWNlYm9va1JlZGlyZWN0Q3JlZGVudGlhbCwgRnVuY3Rpb25BdXRoUHJvdmlkZXIsIEZ1bmN0aW9uQ3JlZGVudGlhbCwgR29vZ2xlQXV0aFByb3ZpZGVyLCBHb29nbGVDcmVkZW50aWFsLCBHb29nbGVSZWRpcmVjdENyZWRlbnRpYWwsIE1lbW9yeVN0b3JhZ2UsIFNlcnZlckFwaUtleUF1dGhQcm92aWRlciwgU2VydmVyQXBpS2V5Q3JlZGVudGlhbCwgU3RpdGNoLCBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uLCBTdGl0Y2hBcHBDbGllbnRJbmZvLCBTdGl0Y2hDbGllbnRFcnJvciwgU3RpdGNoQ2xpZW50RXJyb3JDb2RlLCBTdGl0Y2hSZXF1ZXN0RXJyb3IsIFN0aXRjaFJlcXVlc3RFcnJvckNvZGUsIFN0aXRjaFNlcnZpY2VFcnJvciwgU3RpdGNoU2VydmljZUVycm9yQ29kZSwgU3RpdGNoVXNlcklkZW50aXR5LCBTdHJlYW0sIFVzZXJBcGlLZXksIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXIsIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQsIFVzZXJBcGlLZXlDcmVkZW50aWFsLCBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIsIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudCwgVXNlclBhc3N3b3JkQ3JlZGVudGlhbCwgVXNlclR5cGUsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-core/dist/esm/services/internal/StitchServiceClientImpl.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-core/dist/esm/services/internal/StitchServiceClientImpl.js ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar StitchServiceClientImpl = (function () {\n    function StitchServiceClientImpl(proxy) {\n        this.proxy = proxy;\n    }\n    StitchServiceClientImpl.prototype.callFunction = function (name, args, codec) {\n        return this.proxy.callFunction(name, args, codec);\n    };\n    StitchServiceClientImpl.prototype.streamFunction = function (name, args, codec) {\n        return this.proxy.streamFunction(name, args, codec);\n    };\n    return StitchServiceClientImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchServiceClientImpl);\n//# sourceMappingURL=StitchServiceClientImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9zZXJ2aWNlcy9pbnRlcm5hbC9TdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5qcz84YjFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxzRkFBdUIsRUFBQztBQUN2QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vc2VydmljZXMvaW50ZXJuYWwvU3RpdGNoU2VydmljZUNsaWVudEltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3RpdGNoU2VydmljZUNsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFNlcnZpY2VDbGllbnRJbXBsKHByb3h5KSB7XG4gICAgICAgIHRoaXMucHJveHkgPSBwcm94eTtcbiAgICB9XG4gICAgU3RpdGNoU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlLmNhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzLCBjb2RlYykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5jYWxsRnVuY3Rpb24obmFtZSwgYXJncywgY29kZWMpO1xuICAgIH07XG4gICAgU3RpdGNoU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlLnN0cmVhbUZ1bmN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MsIGNvZGVjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LnN0cmVhbUZ1bmN0aW9uKG5hbWUsIGFyZ3MsIGNvZGVjKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-core/dist/esm/services/internal/StitchServiceClientImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-sdk/dist/esm/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-sdk/dist/esm/index.js ***!
  \*******************************************************************/
/*! exports provided: AnonymousAuthProvider, AnonymousCredential, BSON, BrowserFetchTransport, CustomAuthProvider, CustomCredential, FacebookAuthProvider, FacebookCredential, FacebookRedirectCredential, FunctionAuthProvider, FunctionCredential, GoogleAuthProvider, GoogleCredential, GoogleRedirectCredential, MemoryStorage, ServerApiKeyAuthProvider, ServerApiKeyCredential, Stitch, StitchAppClientConfiguration, StitchAppClientInfo, StitchClientError, StitchClientErrorCode, StitchRequestError, StitchRequestErrorCode, StitchServiceError, StitchServiceErrorCode, StitchUserIdentity, Stream, UserApiKey, UserApiKeyAuthProvider, UserApiKeyAuthProviderClient, UserApiKeyCredential, UserPasswordAuthProvider, UserPasswordAuthProviderClient, UserPasswordCredential, UserType, RemoteInsertManyResult, RemoteMongoReadOperation, RemoteMongoClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-browser-core */ \"./node_modules/mongodb-stitch-browser-core/dist/esm/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AnonymousAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"AnonymousAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AnonymousCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"AnonymousCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BSON\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"BSON\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BrowserFetchTransport\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserFetchTransport\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"CustomAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"CustomCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"FacebookAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"FacebookCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookRedirectCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"FacebookRedirectCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FunctionAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"FunctionAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FunctionCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"FunctionCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"GoogleAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"GoogleCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleRedirectCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"GoogleRedirectCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MemoryStorage\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"MemoryStorage\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ServerApiKeyAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"ServerApiKeyAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ServerApiKeyCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"ServerApiKeyCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Stitch\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"Stitch\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppClientConfiguration\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientConfiguration\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppClientInfo\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchAppClientInfo\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchClientError\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientError\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchClientErrorCode\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientErrorCode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestError\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchRequestError\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestErrorCode\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchRequestErrorCode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceError\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchServiceError\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceErrorCode\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchServiceErrorCode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchUserIdentity\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"StitchUserIdentity\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Stream\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"Stream\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKey\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserApiKey\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserApiKeyAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyAuthProviderClient\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserApiKeyAuthProviderClient\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserApiKeyCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordAuthProvider\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserPasswordAuthProvider\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordAuthProviderClient\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserPasswordAuthProviderClient\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordCredential\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserPasswordCredential\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserType\", function() { return mongodb_stitch_browser_core__WEBPACK_IMPORTED_MODULE_0__[\"UserType\"]; });\n\n/* harmony import */ var mongodb_stitch_browser_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb-stitch-browser-services-mongodb-remote */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RemoteInsertManyResult\", function() { return mongodb_stitch_browser_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_1__[\"RemoteInsertManyResult\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RemoteMongoReadOperation\", function() { return mongodb_stitch_browser_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_1__[\"RemoteMongoReadOperation\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RemoteMongoClient\", function() { return mongodb_stitch_browser_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_1__[\"RemoteMongoClient\"]; });\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2RrL2Rpc3QvZXNtL2luZGV4LmpzPzkwNjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRDO0FBQ21CO0FBQy9EIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2RrL2Rpc3QvZXNtL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIm1vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZVwiO1xuZXhwb3J0ICogZnJvbSBcIm1vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGVcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-sdk/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoClient.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoClient.js ***!
  \***************************************************************************************************/
/*! exports provided: RemoteMongoClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RemoteMongoClient\", function() { return RemoteMongoClient; });\n/* harmony import */ var mongodb_stitch_core_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-services-mongodb-remote */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/index.js\");\n/* harmony import */ var _internal_RemoteMongoClientImpl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/RemoteMongoClientImpl */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoClientImpl.js\");\n\n\nvar RemoteMongoClient;\n(function (RemoteMongoClient) {\n    RemoteMongoClient.factory = new (function () {\n        function class_1() {\n        }\n        class_1.prototype.getNamedClient = function (service, client) {\n            return new _internal_RemoteMongoClientImpl__WEBPACK_IMPORTED_MODULE_1__[\"default\"](new mongodb_stitch_core_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_0__[\"CoreRemoteMongoClientImpl\"](service));\n        };\n        return class_1;\n    }())();\n})(RemoteMongoClient || (RemoteMongoClient = {}));\n//# sourceMappingURL=RemoteMongoClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlTW9uZ29DbGllbnQuanM/Mjk1YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF3RjtBQUNuQjtBQUM5RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdUVBQXFCLEtBQUsscUdBQXlCO0FBQzFFO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyw4Q0FBOEM7QUFDL0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZS9kaXN0L2VzbS9SZW1vdGVNb25nb0NsaWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvcmVSZW1vdGVNb25nb0NsaWVudEltcGwgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZVwiO1xuaW1wb3J0IFJlbW90ZU1vbmdvQ2xpZW50SW1wbCBmcm9tIFwiLi9pbnRlcm5hbC9SZW1vdGVNb25nb0NsaWVudEltcGxcIjtcbmV4cG9ydCB2YXIgUmVtb3RlTW9uZ29DbGllbnQ7XG4oZnVuY3Rpb24gKFJlbW90ZU1vbmdvQ2xpZW50KSB7XG4gICAgUmVtb3RlTW9uZ29DbGllbnQuZmFjdG9yeSA9IG5ldyAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBjbGFzc18xKCkge1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldE5hbWVkQ2xpZW50ID0gZnVuY3Rpb24gKHNlcnZpY2UsIGNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZW1vdGVNb25nb0NsaWVudEltcGwobmV3IENvcmVSZW1vdGVNb25nb0NsaWVudEltcGwoc2VydmljZSkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2xhc3NfMTtcbiAgICB9KCkpKCk7XG59KShSZW1vdGVNb25nb0NsaWVudCB8fCAoUmVtb3RlTW9uZ29DbGllbnQgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVtb3RlTW9uZ29DbGllbnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoCursor.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoCursor.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar RemoteMongoCursor = (function () {\n    function RemoteMongoCursor(proxy) {\n        this.proxy = proxy;\n    }\n    RemoteMongoCursor.prototype.next = function () {\n        return Promise.resolve(this.proxy.next().value);\n    };\n    return RemoteMongoCursor;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoteMongoCursor);\n//# sourceMappingURL=RemoteMongoCursor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlTW9uZ29DdXJzb3IuanM/YWYwNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsZ0ZBQWlCLEVBQUM7QUFDakMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZS9kaXN0L2VzbS9SZW1vdGVNb25nb0N1cnNvci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZW1vdGVNb25nb0N1cnNvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVtb3RlTW9uZ29DdXJzb3IocHJveHkpIHtcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xuICAgIH1cbiAgICBSZW1vdGVNb25nb0N1cnNvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnByb3h5Lm5leHQoKS52YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVtb3RlTW9uZ29DdXJzb3I7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVtb3RlTW9uZ29DdXJzb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW1vdGVNb25nb0N1cnNvci5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoCursor.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoReadOperation.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoReadOperation.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RemoteMongoCursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RemoteMongoCursor */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoCursor.js\");\n\nvar RemoteMongoReadOperation = (function () {\n    function RemoteMongoReadOperation(proxy) {\n        this.proxy = proxy;\n    }\n    RemoteMongoReadOperation.prototype.first = function () {\n        return this.proxy.first();\n    };\n    RemoteMongoReadOperation.prototype.toArray = function () {\n        return this.proxy.toArray();\n    };\n    RemoteMongoReadOperation.prototype.asArray = function () {\n        return this.toArray();\n    };\n    RemoteMongoReadOperation.prototype.iterator = function () {\n        return this.proxy.iterator().then(function (res) { return new _RemoteMongoCursor__WEBPACK_IMPORTED_MODULE_0__[\"default\"](res); });\n    };\n    return RemoteMongoReadOperation;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoteMongoReadOperation);\n//# sourceMappingURL=RemoteMongoReadOperation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLmpzP2YxYzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFlBQVksMERBQWlCLE1BQU0sRUFBRTtBQUMvRjtBQUNBO0FBQ0EsQ0FBQztBQUNjLHVGQUF3QixFQUFDO0FBQ3hDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlbW90ZU1vbmdvQ3Vyc29yIGZyb20gXCIuL1JlbW90ZU1vbmdvQ3Vyc29yXCI7XG52YXIgUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ocHJveHkpIHtcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xuICAgIH1cbiAgICBSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5maXJzdCgpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS50b0FycmF5KCk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLmFzQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5Lml0ZXJhdG9yKCkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBuZXcgUmVtb3RlTW9uZ29DdXJzb3IocmVzKTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoReadOperation.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/index.js ***!
  \***************************************************************************************/
/*! exports provided: RemoteInsertManyResult, RemoteMongoReadOperation, RemoteMongoClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-services-mongodb-remote */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RemoteInsertManyResult\", function() { return mongodb_stitch_core_services_mongodb_remote__WEBPACK_IMPORTED_MODULE_0__[\"RemoteInsertManyResult\"]; });\n\n/* harmony import */ var _RemoteMongoClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RemoteMongoClient */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RemoteMongoClient\", function() { return _RemoteMongoClient__WEBPACK_IMPORTED_MODULE_1__[\"RemoteMongoClient\"]; });\n\n/* harmony import */ var _RemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RemoteMongoReadOperation */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoReadOperation.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RemoteMongoReadOperation\", function() { return _RemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW5kZXguanM/ZDI5MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFxRjtBQUM3QjtBQUNVO0FBQ2E7QUFDL0UiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZS9kaXN0L2VzbS9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlbW90ZUluc2VydE1hbnlSZXN1bHQgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZVwiO1xuaW1wb3J0IHsgUmVtb3RlTW9uZ29DbGllbnQgfSBmcm9tIFwiLi9SZW1vdGVNb25nb0NsaWVudFwiO1xuaW1wb3J0IFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbiBmcm9tIFwiLi9SZW1vdGVNb25nb1JlYWRPcGVyYXRpb25cIjtcbmV4cG9ydCB7IFJlbW90ZUluc2VydE1hbnlSZXN1bHQsIFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbiwgUmVtb3RlTW9uZ29DbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoClientImpl.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoClientImpl.js ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RemoteMongoDatabaseImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RemoteMongoDatabaseImpl */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoDatabaseImpl.js\");\n\nvar RemoteMongoClientImpl = (function () {\n    function RemoteMongoClientImpl(proxy) {\n        this.proxy = proxy;\n    }\n    RemoteMongoClientImpl.prototype.db = function (name) {\n        return new _RemoteMongoDatabaseImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.proxy.db(name));\n    };\n    return RemoteMongoClientImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoteMongoClientImpl);\n//# sourceMappingURL=RemoteMongoClientImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVtb3RlTW9uZ29DbGllbnRJbXBsLmpzP2U2NWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdFQUF1QjtBQUMxQztBQUNBO0FBQ0EsQ0FBQztBQUNjLG9GQUFxQixFQUFDO0FBQ3JDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVtb3RlTW9uZ29DbGllbnRJbXBsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsIGZyb20gXCIuL1JlbW90ZU1vbmdvRGF0YWJhc2VJbXBsXCI7XG52YXIgUmVtb3RlTW9uZ29DbGllbnRJbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVNb25nb0NsaWVudEltcGwocHJveHkpIHtcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xuICAgIH1cbiAgICBSZW1vdGVNb25nb0NsaWVudEltcGwucHJvdG90eXBlLmRiID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1vdGVNb25nb0RhdGFiYXNlSW1wbCh0aGlzLnByb3h5LmRiKG5hbWUpKTtcbiAgICB9O1xuICAgIHJldHVybiBSZW1vdGVNb25nb0NsaWVudEltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVtb3RlTW9uZ29DbGllbnRJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVtb3RlTW9uZ29DbGllbnRJbXBsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoClientImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoCollectionImpl.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoCollectionImpl.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RemoteMongoReadOperation */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/RemoteMongoReadOperation.js\");\n\nvar RemoteMongoCollectionImpl = (function () {\n    function RemoteMongoCollectionImpl(proxy) {\n        this.proxy = proxy;\n        this.namespace = this.proxy.namespace;\n    }\n    RemoteMongoCollectionImpl.prototype.withCollectionType = function (codec) {\n        return new RemoteMongoCollectionImpl(this.proxy.withCollectionType(codec));\n    };\n    RemoteMongoCollectionImpl.prototype.count = function (query, options) {\n        return this.proxy.count(query, options);\n    };\n    RemoteMongoCollectionImpl.prototype.find = function (query, options) {\n        return new _RemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.proxy.find(query, options));\n    };\n    RemoteMongoCollectionImpl.prototype.findOne = function (query, options) {\n        return this.proxy.findOne(query, options);\n    };\n    RemoteMongoCollectionImpl.prototype.findOneAndUpdate = function (query, update, options) {\n        return this.proxy.findOneAndUpdate(query, update, options);\n    };\n    RemoteMongoCollectionImpl.prototype.findOneAndReplace = function (query, replacement, options) {\n        return this.proxy.findOneAndReplace(query, replacement, options);\n    };\n    RemoteMongoCollectionImpl.prototype.findOneAndDelete = function (query, options) {\n        return this.proxy.findOneAndDelete(query, options);\n    };\n    RemoteMongoCollectionImpl.prototype.aggregate = function (pipeline) {\n        return new _RemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.proxy.aggregate(pipeline));\n    };\n    RemoteMongoCollectionImpl.prototype.insertOne = function (doc) {\n        return this.proxy.insertOne(doc);\n    };\n    RemoteMongoCollectionImpl.prototype.insertMany = function (docs) {\n        return this.proxy.insertMany(docs);\n    };\n    RemoteMongoCollectionImpl.prototype.deleteOne = function (query) {\n        return this.proxy.deleteOne(query);\n    };\n    RemoteMongoCollectionImpl.prototype.deleteMany = function (query) {\n        return this.proxy.deleteMany(query);\n    };\n    RemoteMongoCollectionImpl.prototype.updateOne = function (query, update, updateOptions) {\n        return this.proxy.updateOne(query, update, updateOptions);\n    };\n    RemoteMongoCollectionImpl.prototype.updateMany = function (query, update, updateOptions) {\n        return this.proxy.updateMany(query, update, updateOptions);\n    };\n    RemoteMongoCollectionImpl.prototype.watch = function (arg) {\n        return this.proxy.watch(arg);\n    };\n    RemoteMongoCollectionImpl.prototype.watchCompact = function (ids) {\n        return this.proxy.watchCompact(ids);\n    };\n    return RemoteMongoCollectionImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoteMongoCollectionImpl);\n//# sourceMappingURL=RemoteMongoCollectionImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5qcz9jMDVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUF3QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUF3QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHdGQUF5QixFQUFDO0FBQ3pDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24gZnJvbSBcIi4uL1JlbW90ZU1vbmdvUmVhZE9wZXJhdGlvblwiO1xudmFyIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwocHJveHkpIHtcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xuICAgICAgICB0aGlzLm5hbWVzcGFjZSA9IHRoaXMucHJveHkubmFtZXNwYWNlO1xuICAgIH1cbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS53aXRoQ29sbGVjdGlvblR5cGUgPSBmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsKHRoaXMucHJveHkud2l0aENvbGxlY3Rpb25UeXBlKGNvZGVjKSk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uIChxdWVyeSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5jb3VudChxdWVyeSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uKHRoaXMucHJveHkuZmluZChxdWVyeSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZmluZE9uZSA9IGZ1bmN0aW9uIChxdWVyeSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5maW5kT25lKHF1ZXJ5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmZpbmRPbmVBbmRVcGRhdGUgPSBmdW5jdGlvbiAocXVlcnksIHVwZGF0ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5maW5kT25lQW5kVXBkYXRlKHF1ZXJ5LCB1cGRhdGUsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZmluZE9uZUFuZFJlcGxhY2UgPSBmdW5jdGlvbiAocXVlcnksIHJlcGxhY2VtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LmZpbmRPbmVBbmRSZXBsYWNlKHF1ZXJ5LCByZXBsYWNlbWVudCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5maW5kT25lQW5kRGVsZXRlID0gZnVuY3Rpb24gKHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LmZpbmRPbmVBbmREZWxldGUocXVlcnksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuYWdncmVnYXRlID0gZnVuY3Rpb24gKHBpcGVsaW5lKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uKHRoaXMucHJveHkuYWdncmVnYXRlKHBpcGVsaW5lKSk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5pbnNlcnRPbmUgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5Lmluc2VydE9uZShkb2MpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuaW5zZXJ0TWFueSA9IGZ1bmN0aW9uIChkb2NzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5Lmluc2VydE1hbnkoZG9jcyk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5kZWxldGVPbmUgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuZGVsZXRlT25lKHF1ZXJ5KTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmRlbGV0ZU1hbnkgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuZGVsZXRlTWFueShxdWVyeSk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS51cGRhdGVPbmUgPSBmdW5jdGlvbiAocXVlcnksIHVwZGF0ZSwgdXBkYXRlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS51cGRhdGVPbmUocXVlcnksIHVwZGF0ZSwgdXBkYXRlT3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS51cGRhdGVNYW55ID0gZnVuY3Rpb24gKHF1ZXJ5LCB1cGRhdGUsIHVwZGF0ZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkudXBkYXRlTWFueShxdWVyeSwgdXBkYXRlLCB1cGRhdGVPcHRpb25zKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLndhdGNoID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS53YXRjaChhcmcpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUud2F0Y2hDb21wYWN0ID0gZnVuY3Rpb24gKGlkcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS53YXRjaENvbXBhY3QoaWRzKTtcbiAgICB9O1xuICAgIHJldHVybiBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoCollectionImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoDatabaseImpl.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoDatabaseImpl.js ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RemoteMongoCollectionImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RemoteMongoCollectionImpl */ \"./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoCollectionImpl.js\");\n\nvar RemoteMongoDatabaseImpl = (function () {\n    function RemoteMongoDatabaseImpl(proxy) {\n        this.proxy = proxy;\n        this.name = this.proxy.name;\n    }\n    RemoteMongoDatabaseImpl.prototype.collection = function (name, codec) {\n        return new _RemoteMongoCollectionImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.proxy.collection(name, codec));\n    };\n    return RemoteMongoDatabaseImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoteMongoDatabaseImpl);\n//# sourceMappingURL=RemoteMongoDatabaseImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwuanM/MmM2MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQW9FO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrRUFBeUI7QUFDNUM7QUFDQTtBQUNBLENBQUM7QUFDYyxzRkFBdUIsRUFBQztBQUN2QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLXNlcnZpY2VzLW1vbmdvZGItcmVtb3RlL2Rpc3QvZXNtL2ludGVybmFsL1JlbW90ZU1vbmdvRGF0YWJhc2VJbXBsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwgZnJvbSBcIi4vUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbFwiO1xudmFyIFJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVNb25nb0RhdGFiYXNlSW1wbChwcm94eSkge1xuICAgICAgICB0aGlzLnByb3h5ID0gcHJveHk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMucHJveHkubmFtZTtcbiAgICB9XG4gICAgUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwucHJvdG90eXBlLmNvbGxlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSwgY29kZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsKHRoaXMucHJveHkuY29sbGVjdGlvbihuYW1lLCBjb2RlYykpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVtb3RlTW9uZ29EYXRhYmFzZUltcGwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-browser-services-mongodb-remote/dist/esm/internal/RemoteMongoDatabaseImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientConfiguration.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientConfiguration.js ***!
  \***************************************************************************************/
/*! exports provided: StitchAppClientConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchAppClientConfiguration\", function() { return StitchAppClientConfiguration; });\n/* harmony import */ var _StitchClientConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchClientConfiguration */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientConfiguration.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar StitchAppClientConfiguration = (function (_super) {\n    __extends(StitchAppClientConfiguration, _super);\n    function StitchAppClientConfiguration(config, localAppName, localAppVersion) {\n        var _this = _super.call(this, config.baseUrl, config.storage, config.dataDirectory, config.transport) || this;\n        _this.localAppVersion = localAppVersion;\n        _this.localAppName = localAppName;\n        return _this;\n    }\n    StitchAppClientConfiguration.prototype.builder = function () {\n        return new StitchAppClientConfiguration.Builder(this);\n    };\n    return StitchAppClientConfiguration;\n}(_StitchClientConfiguration__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientConfiguration\"]));\n\n(function (StitchAppClientConfiguration) {\n    var Builder = (function (_super) {\n        __extends(Builder, _super);\n        function Builder(config) {\n            var _this = _super.call(this, config) || this;\n            if (config) {\n                _this.localAppVersion = config.localAppVersion;\n                _this.localAppName = config.localAppName;\n            }\n            return _this;\n        }\n        Builder.prototype.withLocalAppName = function (localAppName) {\n            this.localAppName = localAppName;\n            return this;\n        };\n        Builder.prototype.withLocalAppVersion = function (localAppVersion) {\n            this.localAppVersion = localAppVersion;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            var config = _super.prototype.build.call(this);\n            return new StitchAppClientConfiguration(config, this.localAppName, this.localAppVersion);\n        };\n        return Builder;\n    }(_StitchClientConfiguration__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientConfiguration\"].Builder));\n    StitchAppClientConfiguration.Builder = Builder;\n})(StitchAppClientConfiguration || (StitchAppClientConfiguration = {}));\n//# sourceMappingURL=StitchAppClientConfiguration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uanM/YTQ4YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUN1RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsb0ZBQXlCO0FBQ2E7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxDQUFDLG9GQUF5QjtBQUMvQjtBQUNBLENBQUMsb0VBQW9FO0FBQ3JFIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9TdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uXCI7XG52YXIgU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbihjb25maWcsIGxvY2FsQXBwTmFtZSwgbG9jYWxBcHBWZXJzaW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZy5iYXNlVXJsLCBjb25maWcuc3RvcmFnZSwgY29uZmlnLmRhdGFEaXJlY3RvcnksIGNvbmZpZy50cmFuc3BvcnQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxvY2FsQXBwVmVyc2lvbiA9IGxvY2FsQXBwVmVyc2lvbjtcbiAgICAgICAgX3RoaXMubG9jYWxBcHBOYW1lID0gbG9jYWxBcHBOYW1lO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmJ1aWxkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbi5CdWlsZGVyKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb247XG59KFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24pKTtcbmV4cG9ydCB7IFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24gfTtcbihmdW5jdGlvbiAoU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbikge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJ1aWxkZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIoY29uZmlnKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XG4gICAgICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9jYWxBcHBWZXJzaW9uID0gY29uZmlnLmxvY2FsQXBwVmVyc2lvbjtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2NhbEFwcE5hbWUgPSBjb25maWcubG9jYWxBcHBOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhMb2NhbEFwcE5hbWUgPSBmdW5jdGlvbiAobG9jYWxBcHBOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2FsQXBwTmFtZSA9IGxvY2FsQXBwTmFtZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoTG9jYWxBcHBWZXJzaW9uID0gZnVuY3Rpb24gKGxvY2FsQXBwVmVyc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2NhbEFwcFZlcnNpb24gPSBsb2NhbEFwcFZlcnNpb247XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0gX3N1cGVyLnByb3RvdHlwZS5idWlsZC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uKGNvbmZpZywgdGhpcy5sb2NhbEFwcE5hbWUsIHRoaXMubG9jYWxBcHBWZXJzaW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfShTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uLkJ1aWxkZXIpKTtcbiAgICBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uLkJ1aWxkZXIgPSBCdWlsZGVyO1xufSkoU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbiB8fCAoU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbiA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientConfiguration.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientInfo.js":
/*!******************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientInfo.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar StitchAppClientInfo = (function () {\n    function StitchAppClientInfo(clientAppId, dataDirectory, localAppName, localAppVersion) {\n        this.clientAppId = clientAppId;\n        this.dataDirectory = dataDirectory;\n        this.localAppName = localAppName;\n        this.localAppVersion = localAppVersion;\n    }\n    return StitchAppClientInfo;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchAppClientInfo);\n//# sourceMappingURL=StitchAppClientInfo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaEFwcENsaWVudEluZm8uanM/ZDllZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2Msa0ZBQW1CLEVBQUM7QUFDbkMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RpdGNoQXBwQ2xpZW50SW5mby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTdGl0Y2hBcHBDbGllbnRJbmZvID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hBcHBDbGllbnRJbmZvKGNsaWVudEFwcElkLCBkYXRhRGlyZWN0b3J5LCBsb2NhbEFwcE5hbWUsIGxvY2FsQXBwVmVyc2lvbikge1xuICAgICAgICB0aGlzLmNsaWVudEFwcElkID0gY2xpZW50QXBwSWQ7XG4gICAgICAgIHRoaXMuZGF0YURpcmVjdG9yeSA9IGRhdGFEaXJlY3Rvcnk7XG4gICAgICAgIHRoaXMubG9jYWxBcHBOYW1lID0gbG9jYWxBcHBOYW1lO1xuICAgICAgICB0aGlzLmxvY2FsQXBwVmVyc2lvbiA9IGxvY2FsQXBwVmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIFN0aXRjaEFwcENsaWVudEluZm87XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXBwQ2xpZW50SW5mbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEFwcENsaWVudEluZm8uanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientInfo.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientConfiguration.js":
/*!************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientConfiguration.js ***!
  \************************************************************************************/
/*! exports provided: StitchClientConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchClientConfiguration\", function() { return StitchClientConfiguration; });\nvar StitchClientConfiguration = (function () {\n    function StitchClientConfiguration(baseUrl, storage, dataDirectory, transport) {\n        this.baseUrl = baseUrl;\n        this.storage = storage;\n        this.dataDirectory = dataDirectory;\n        this.transport = transport;\n    }\n    StitchClientConfiguration.prototype.builder = function () {\n        return new StitchClientConfiguration.Builder(this);\n    };\n    return StitchClientConfiguration;\n}());\n\n(function (StitchClientConfiguration) {\n    var Builder = (function () {\n        function Builder(config) {\n            if (config) {\n                this.baseUrl = config.baseUrl;\n                this.storage = config.storage;\n                this.dataDirectory = config.dataDirectory;\n                this.transport = config.transport;\n            }\n        }\n        Builder.prototype.withBaseUrl = function (baseUrl) {\n            this.baseUrl = baseUrl;\n            return this;\n        };\n        Builder.prototype.withStorage = function (storage) {\n            this.storage = storage;\n            return this;\n        };\n        Builder.prototype.withDataDirectory = function (dataDirectory) {\n            this.dataDirectory = dataDirectory;\n            return this;\n        };\n        Builder.prototype.withTransport = function (transport) {\n            this.transport = transport;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            return new StitchClientConfiguration(this.baseUrl, this.storage, this.dataDirectory, this.transport);\n        };\n        return Builder;\n    }());\n    StitchClientConfiguration.Builder = Builder;\n})(StitchClientConfiguration || (StitchClientConfiguration = {}));\n//# sourceMappingURL=StitchClientConfiguration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaENsaWVudENvbmZpZ3VyYXRpb24uanM/Mjc4NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDb0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyw4REFBOEQ7QUFDL0QiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uKGJhc2VVcmwsIHN0b3JhZ2UsIGRhdGFEaXJlY3RvcnksIHRyYW5zcG9ydCkge1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICAgICAgICB0aGlzLmRhdGFEaXJlY3RvcnkgPSBkYXRhRGlyZWN0b3J5O1xuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICB9XG4gICAgU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbi5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uLkJ1aWxkZXIodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uIH07XG4oZnVuY3Rpb24gKFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIoY29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVXJsID0gY29uZmlnLmJhc2VVcmw7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gY29uZmlnLnN0b3JhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhRGlyZWN0b3J5ID0gY29uZmlnLmRhdGFEaXJlY3Rvcnk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSBjb25maWcudHJhbnNwb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhCYXNlVXJsID0gZnVuY3Rpb24gKGJhc2VVcmwpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aFN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoRGF0YURpcmVjdG9yeSA9IGZ1bmN0aW9uIChkYXRhRGlyZWN0b3J5KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFEaXJlY3RvcnkgPSBkYXRhRGlyZWN0b3J5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhUcmFuc3BvcnQgPSBmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbih0aGlzLmJhc2VVcmwsIHRoaXMuc3RvcmFnZSwgdGhpcy5kYXRhRGlyZWN0b3J5LCB0aGlzLnRyYW5zcG9ydCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBCdWlsZGVyO1xuICAgIH0oKSk7XG4gICAgU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbi5CdWlsZGVyID0gQnVpbGRlcjtcbn0pKFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24gfHwgKFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbi5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientConfiguration.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientError.js":
/*!****************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientError.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchClientErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientErrorCode.js\");\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar StitchClientError = (function (_super) {\n    __extends(StitchClientError, _super);\n    function StitchClientError(errorCode) {\n        var _this = this;\n        var message = \"(\" + _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientErrorCode\"][errorCode] + \"): \" + _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_0__[\"clientErrorCodeDescs\"][errorCode];\n        _this = _super.call(this, message) || this;\n        _this.errorCode = errorCode;\n        _this.errorCodeName = _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_0__[\"StitchClientErrorCode\"][errorCode];\n        return _this;\n    }\n    return StitchClientError;\n}(_StitchError__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchClientError);\n//# sourceMappingURL=StitchClientError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaENsaWVudEVycm9yLmpzPzY3MWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDcUY7QUFDOUM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEVBQXFCLHNCQUFzQiwyRUFBb0I7QUFDM0Y7QUFDQTtBQUNBLDhCQUE4Qiw0RUFBcUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLG9EQUFXO0FBQ0UsZ0ZBQWlCLEVBQUM7QUFDakMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RpdGNoQ2xpZW50RXJyb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IGNsaWVudEVycm9yQ29kZURlc2NzLCBTdGl0Y2hDbGllbnRFcnJvckNvZGUgfSBmcm9tIFwiLi9TdGl0Y2hDbGllbnRFcnJvckNvZGVcIjtcbmltcG9ydCBTdGl0Y2hFcnJvciBmcm9tIFwiLi9TdGl0Y2hFcnJvclwiO1xudmFyIFN0aXRjaENsaWVudEVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoQ2xpZW50RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoQ2xpZW50RXJyb3IoZXJyb3JDb2RlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCIoXCIgKyBTdGl0Y2hDbGllbnRFcnJvckNvZGVbZXJyb3JDb2RlXSArIFwiKTogXCIgKyBjbGllbnRFcnJvckNvZGVEZXNjc1tlcnJvckNvZGVdO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmVycm9yQ29kZSA9IGVycm9yQ29kZTtcbiAgICAgICAgX3RoaXMuZXJyb3JDb2RlTmFtZSA9IFN0aXRjaENsaWVudEVycm9yQ29kZVtlcnJvckNvZGVdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hDbGllbnRFcnJvcjtcbn0oU3RpdGNoRXJyb3IpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaENsaWVudEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQ2xpZW50RXJyb3IuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientError.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientErrorCode.js":
/*!********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientErrorCode.js ***!
  \********************************************************************************/
/*! exports provided: StitchClientErrorCode, clientErrorCodeDescs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchClientErrorCode\", function() { return StitchClientErrorCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clientErrorCodeDescs\", function() { return clientErrorCodeDescs; });\nvar _a;\nvar StitchClientErrorCode;\n(function (StitchClientErrorCode) {\n    StitchClientErrorCode[StitchClientErrorCode[\"LoggedOutDuringRequest\"] = 0] = \"LoggedOutDuringRequest\";\n    StitchClientErrorCode[StitchClientErrorCode[\"MustAuthenticateFirst\"] = 1] = \"MustAuthenticateFirst\";\n    StitchClientErrorCode[StitchClientErrorCode[\"UserNoLongerValid\"] = 2] = \"UserNoLongerValid\";\n    StitchClientErrorCode[StitchClientErrorCode[\"UserNotFound\"] = 3] = \"UserNotFound\";\n    StitchClientErrorCode[StitchClientErrorCode[\"UserNotLoggedIn\"] = 4] = \"UserNotLoggedIn\";\n    StitchClientErrorCode[StitchClientErrorCode[\"CouldNotLoadPersistedAuthInfo\"] = 5] = \"CouldNotLoadPersistedAuthInfo\";\n    StitchClientErrorCode[StitchClientErrorCode[\"CouldNotPersistAuthInfo\"] = 6] = \"CouldNotPersistAuthInfo\";\n    StitchClientErrorCode[StitchClientErrorCode[\"StreamingNotSupported\"] = 7] = \"StreamingNotSupported\";\n    StitchClientErrorCode[StitchClientErrorCode[\"StreamClosed\"] = 8] = \"StreamClosed\";\n    StitchClientErrorCode[StitchClientErrorCode[\"UnexpectedArguments\"] = 9] = \"UnexpectedArguments\";\n})(StitchClientErrorCode || (StitchClientErrorCode = {}));\nvar clientErrorCodeDescs = (_a = {},\n    _a[StitchClientErrorCode.LoggedOutDuringRequest] = \"logged out while making a request to Stitch\",\n    _a[StitchClientErrorCode.MustAuthenticateFirst] = \"method called requires being authenticated\",\n    _a[StitchClientErrorCode.UserNoLongerValid] = \"user instance being accessed is no longer valid; please get a new user with auth.getUser()\",\n    _a[StitchClientErrorCode.UserNotFound] = \"user not found in list of users\",\n    _a[StitchClientErrorCode.UserNotLoggedIn] = \"cannot make the active user a logged out user; please use loginWithCredential() to switch to this user\",\n    _a[StitchClientErrorCode.CouldNotLoadPersistedAuthInfo] = \"failed to load stored auth information for Stitch\",\n    _a[StitchClientErrorCode.CouldNotPersistAuthInfo] = \"failed to save auth information for Stitch\",\n    _a[StitchClientErrorCode.StreamingNotSupported] = \"streaming not supported in this SDK\",\n    _a[StitchClientErrorCode.StreamClosed] = \"stream is closed\",\n    _a[StitchClientErrorCode.UnexpectedArguments] = \"function does not accept arguments\",\n    _a);\n//# sourceMappingURL=StitchClientErrorCode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaENsaWVudEVycm9yQ29kZS5qcz9mYmExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzREFBc0Q7QUFDaEQsbUNBQW1DO0FBQzFDO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkc7QUFDQSwrRkFBK0Y7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RpdGNoQ2xpZW50RXJyb3JDb2RlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hO1xuZXhwb3J0IHZhciBTdGl0Y2hDbGllbnRFcnJvckNvZGU7XG4oZnVuY3Rpb24gKFN0aXRjaENsaWVudEVycm9yQ29kZSkge1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJMb2dnZWRPdXREdXJpbmdSZXF1ZXN0XCJdID0gMF0gPSBcIkxvZ2dlZE91dER1cmluZ1JlcXVlc3RcIjtcbiAgICBTdGl0Y2hDbGllbnRFcnJvckNvZGVbU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1wiTXVzdEF1dGhlbnRpY2F0ZUZpcnN0XCJdID0gMV0gPSBcIk11c3RBdXRoZW50aWNhdGVGaXJzdFwiO1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJVc2VyTm9Mb25nZXJWYWxpZFwiXSA9IDJdID0gXCJVc2VyTm9Mb25nZXJWYWxpZFwiO1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJVc2VyTm90Rm91bmRcIl0gPSAzXSA9IFwiVXNlck5vdEZvdW5kXCI7XG4gICAgU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1N0aXRjaENsaWVudEVycm9yQ29kZVtcIlVzZXJOb3RMb2dnZWRJblwiXSA9IDRdID0gXCJVc2VyTm90TG9nZ2VkSW5cIjtcbiAgICBTdGl0Y2hDbGllbnRFcnJvckNvZGVbU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1wiQ291bGROb3RMb2FkUGVyc2lzdGVkQXV0aEluZm9cIl0gPSA1XSA9IFwiQ291bGROb3RMb2FkUGVyc2lzdGVkQXV0aEluZm9cIjtcbiAgICBTdGl0Y2hDbGllbnRFcnJvckNvZGVbU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1wiQ291bGROb3RQZXJzaXN0QXV0aEluZm9cIl0gPSA2XSA9IFwiQ291bGROb3RQZXJzaXN0QXV0aEluZm9cIjtcbiAgICBTdGl0Y2hDbGllbnRFcnJvckNvZGVbU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1wiU3RyZWFtaW5nTm90U3VwcG9ydGVkXCJdID0gN10gPSBcIlN0cmVhbWluZ05vdFN1cHBvcnRlZFwiO1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJTdHJlYW1DbG9zZWRcIl0gPSA4XSA9IFwiU3RyZWFtQ2xvc2VkXCI7XG4gICAgU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1N0aXRjaENsaWVudEVycm9yQ29kZVtcIlVuZXhwZWN0ZWRBcmd1bWVudHNcIl0gPSA5XSA9IFwiVW5leHBlY3RlZEFyZ3VtZW50c1wiO1xufSkoU3RpdGNoQ2xpZW50RXJyb3JDb2RlIHx8IChTdGl0Y2hDbGllbnRFcnJvckNvZGUgPSB7fSkpO1xuZXhwb3J0IHZhciBjbGllbnRFcnJvckNvZGVEZXNjcyA9IChfYSA9IHt9LFxuICAgIF9hW1N0aXRjaENsaWVudEVycm9yQ29kZS5Mb2dnZWRPdXREdXJpbmdSZXF1ZXN0XSA9IFwibG9nZ2VkIG91dCB3aGlsZSBtYWtpbmcgYSByZXF1ZXN0IHRvIFN0aXRjaFwiLFxuICAgIF9hW1N0aXRjaENsaWVudEVycm9yQ29kZS5NdXN0QXV0aGVudGljYXRlRmlyc3RdID0gXCJtZXRob2QgY2FsbGVkIHJlcXVpcmVzIGJlaW5nIGF1dGhlbnRpY2F0ZWRcIixcbiAgICBfYVtTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vTG9uZ2VyVmFsaWRdID0gXCJ1c2VyIGluc3RhbmNlIGJlaW5nIGFjY2Vzc2VkIGlzIG5vIGxvbmdlciB2YWxpZDsgcGxlYXNlIGdldCBhIG5ldyB1c2VyIHdpdGggYXV0aC5nZXRVc2VyKClcIixcbiAgICBfYVtTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vdEZvdW5kXSA9IFwidXNlciBub3QgZm91bmQgaW4gbGlzdCBvZiB1c2Vyc1wiLFxuICAgIF9hW1N0aXRjaENsaWVudEVycm9yQ29kZS5Vc2VyTm90TG9nZ2VkSW5dID0gXCJjYW5ub3QgbWFrZSB0aGUgYWN0aXZlIHVzZXIgYSBsb2dnZWQgb3V0IHVzZXI7IHBsZWFzZSB1c2UgbG9naW5XaXRoQ3JlZGVudGlhbCgpIHRvIHN3aXRjaCB0byB0aGlzIHVzZXJcIixcbiAgICBfYVtTdGl0Y2hDbGllbnRFcnJvckNvZGUuQ291bGROb3RMb2FkUGVyc2lzdGVkQXV0aEluZm9dID0gXCJmYWlsZWQgdG8gbG9hZCBzdG9yZWQgYXV0aCBpbmZvcm1hdGlvbiBmb3IgU3RpdGNoXCIsXG4gICAgX2FbU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkNvdWxkTm90UGVyc2lzdEF1dGhJbmZvXSA9IFwiZmFpbGVkIHRvIHNhdmUgYXV0aCBpbmZvcm1hdGlvbiBmb3IgU3RpdGNoXCIsXG4gICAgX2FbU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlN0cmVhbWluZ05vdFN1cHBvcnRlZF0gPSBcInN0cmVhbWluZyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgU0RLXCIsXG4gICAgX2FbU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlN0cmVhbUNsb3NlZF0gPSBcInN0cmVhbSBpcyBjbG9zZWRcIixcbiAgICBfYVtTdGl0Y2hDbGllbnRFcnJvckNvZGUuVW5leHBlY3RlZEFyZ3VtZW50c10gPSBcImZ1bmN0aW9uIGRvZXMgbm90IGFjY2VwdCBhcmd1bWVudHNcIixcbiAgICBfYSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hDbGllbnRFcnJvckNvZGUuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientErrorCode.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js":
/*!**********************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _Error = function (message) {\n    Error.call(this, message);\n    if (Error.captureStackTrace) {\n        Error.captureStackTrace(this);\n    }\n    this.message = message;\n    this.name = this.constructor.name;\n};\n_Error.prototype = Object.create(Error.prototype);\nvar StitchError = (function (_super) {\n    __extends(StitchError, _super);\n    function StitchError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StitchError;\n}(_Error));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchError);\n//# sourceMappingURL=StitchError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaEVycm9yLmpzP2JjNWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYywwRUFBVyxFQUFDO0FBQzNCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaEVycm9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX0Vycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG59O1xuX0Vycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbnZhciBTdGl0Y2hFcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaEVycm9yKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hFcnJvcjtcbn0oX0Vycm9yKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEVycm9yLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\n/* harmony import */ var _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StitchRequestErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar StitchRequestError = (function (_super) {\n    __extends(StitchRequestError, _super);\n    function StitchRequestError(underlyingError, errorCode) {\n        var _this = this;\n        var message = \"(\" + _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_1__[\"StitchRequestErrorCode\"][errorCode] + \"): \" + _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_1__[\"requestErrorCodeDescs\"][errorCode] + \": \" + underlyingError.message;\n        _this = _super.call(this, message) || this;\n        _this.underlyingError = underlyingError;\n        _this.errorCode = errorCode;\n        _this.errorCodeName = _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_1__[\"StitchRequestErrorCode\"][errorCode];\n        return _this;\n    }\n    return StitchRequestError;\n}(_StitchError__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchRequestError);\n//# sourceMappingURL=StitchRequestError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaFJlcXVlc3RFcnJvci5qcz82ZDFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ3VDO0FBQ2lEO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhFQUFzQixzQkFBc0IsNkVBQXFCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4RUFBc0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLG9EQUFXO0FBQ0UsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RpdGNoUmVxdWVzdEVycm9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RpdGNoRXJyb3IgZnJvbSBcIi4vU3RpdGNoRXJyb3JcIjtcbmltcG9ydCB7IHJlcXVlc3RFcnJvckNvZGVEZXNjcywgU3RpdGNoUmVxdWVzdEVycm9yQ29kZSB9IGZyb20gXCIuL1N0aXRjaFJlcXVlc3RFcnJvckNvZGVcIjtcbnZhciBTdGl0Y2hSZXF1ZXN0RXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hSZXF1ZXN0RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoUmVxdWVzdEVycm9yKHVuZGVybHlpbmdFcnJvciwgZXJyb3JDb2RlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCIoXCIgKyBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlW2Vycm9yQ29kZV0gKyBcIik6IFwiICsgcmVxdWVzdEVycm9yQ29kZURlc2NzW2Vycm9yQ29kZV0gKyBcIjogXCIgKyB1bmRlcmx5aW5nRXJyb3IubWVzc2FnZTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51bmRlcmx5aW5nRXJyb3IgPSB1bmRlcmx5aW5nRXJyb3I7XG4gICAgICAgIF90aGlzLmVycm9yQ29kZSA9IGVycm9yQ29kZTtcbiAgICAgICAgX3RoaXMuZXJyb3JDb2RlTmFtZSA9IFN0aXRjaFJlcXVlc3RFcnJvckNvZGVbZXJyb3JDb2RlXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3RpdGNoUmVxdWVzdEVycm9yO1xufShTdGl0Y2hFcnJvcikpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoUmVxdWVzdEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoUmVxdWVzdEVycm9yLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js ***!
  \*********************************************************************************/
/*! exports provided: StitchRequestErrorCode, requestErrorCodeDescs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestErrorCode\", function() { return StitchRequestErrorCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"requestErrorCodeDescs\", function() { return requestErrorCodeDescs; });\nvar _a;\nvar StitchRequestErrorCode;\n(function (StitchRequestErrorCode) {\n    StitchRequestErrorCode[StitchRequestErrorCode[\"TRANSPORT_ERROR\"] = 0] = \"TRANSPORT_ERROR\";\n    StitchRequestErrorCode[StitchRequestErrorCode[\"DECODING_ERROR\"] = 1] = \"DECODING_ERROR\";\n    StitchRequestErrorCode[StitchRequestErrorCode[\"ENCODING_ERROR\"] = 2] = \"ENCODING_ERROR\";\n})(StitchRequestErrorCode || (StitchRequestErrorCode = {}));\nvar requestErrorCodeDescs = (_a = {},\n    _a[StitchRequestErrorCode.TRANSPORT_ERROR] = \"the request transport encountered an error communicating with Stitch\",\n    _a[StitchRequestErrorCode.DECODING_ERROR] = \"an error occurred while decoding a response from Stitch\",\n    _a[StitchRequestErrorCode.ENCODING_ERROR] = \"an error occurred while encoding a request for Stitch\",\n    _a);\n//# sourceMappingURL=StitchRequestErrorCode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaFJlcXVlc3RFcnJvckNvZGUuanM/ZDBjYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdEQUF3RDtBQUNsRCxvQ0FBb0M7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hO1xuZXhwb3J0IHZhciBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlKSB7XG4gICAgU3RpdGNoUmVxdWVzdEVycm9yQ29kZVtTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlW1wiVFJBTlNQT1JUX0VSUk9SXCJdID0gMF0gPSBcIlRSQU5TUE9SVF9FUlJPUlwiO1xuICAgIFN0aXRjaFJlcXVlc3RFcnJvckNvZGVbU3RpdGNoUmVxdWVzdEVycm9yQ29kZVtcIkRFQ09ESU5HX0VSUk9SXCJdID0gMV0gPSBcIkRFQ09ESU5HX0VSUk9SXCI7XG4gICAgU3RpdGNoUmVxdWVzdEVycm9yQ29kZVtTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlW1wiRU5DT0RJTkdfRVJST1JcIl0gPSAyXSA9IFwiRU5DT0RJTkdfRVJST1JcIjtcbn0pKFN0aXRjaFJlcXVlc3RFcnJvckNvZGUgfHwgKFN0aXRjaFJlcXVlc3RFcnJvckNvZGUgPSB7fSkpO1xuZXhwb3J0IHZhciByZXF1ZXN0RXJyb3JDb2RlRGVzY3MgPSAoX2EgPSB7fSxcbiAgICBfYVtTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLlRSQU5TUE9SVF9FUlJPUl0gPSBcInRoZSByZXF1ZXN0IHRyYW5zcG9ydCBlbmNvdW50ZXJlZCBhbiBlcnJvciBjb21tdW5pY2F0aW5nIHdpdGggU3RpdGNoXCIsXG4gICAgX2FbU3RpdGNoUmVxdWVzdEVycm9yQ29kZS5ERUNPRElOR19FUlJPUl0gPSBcImFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGRlY29kaW5nIGEgcmVzcG9uc2UgZnJvbSBTdGl0Y2hcIixcbiAgICBfYVtTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLkVOQ09ESU5HX0VSUk9SXSA9IFwiYW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZW5jb2RpbmcgYSByZXF1ZXN0IGZvciBTdGl0Y2hcIixcbiAgICBfYSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceError.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceError.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\n/* harmony import */ var _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StitchServiceErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar StitchServiceError = (function (_super) {\n    __extends(StitchServiceError, _super);\n    function StitchServiceError(message, errorCode) {\n        if (errorCode === void 0) { errorCode = _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_1__[\"StitchServiceErrorCode\"].Unknown; }\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.errorCode = errorCode;\n        _this.errorCodeName = _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_1__[\"StitchServiceErrorCode\"][errorCode];\n        return _this;\n    }\n    return StitchServiceError;\n}(_StitchError__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchServiceError);\n//# sourceMappingURL=StitchServiceError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaFNlcnZpY2VFcnJvci5qcz9iMjkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ3VDO0FBQzBCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxhQUFhLDhFQUFzQixTQUFTO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4RUFBc0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLG9EQUFXO0FBQ0UsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RpdGNoU2VydmljZUVycm9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RpdGNoRXJyb3IgZnJvbSBcIi4vU3RpdGNoRXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUgfSBmcm9tIFwiLi9TdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlXCI7XG52YXIgU3RpdGNoU2VydmljZUVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoU2VydmljZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaFNlcnZpY2VFcnJvcihtZXNzYWdlLCBlcnJvckNvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gdm9pZCAwKSB7IGVycm9yQ29kZSA9IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVW5rbm93bjsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgX3RoaXMuZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xuICAgICAgICBfdGhpcy5lcnJvckNvZGVOYW1lID0gU3RpdGNoU2VydmljZUVycm9yQ29kZVtlcnJvckNvZGVdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hTZXJ2aWNlRXJyb3I7XG59KFN0aXRjaEVycm9yKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hTZXJ2aWNlRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hTZXJ2aWNlRXJyb3IuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceError.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js ***!
  \*********************************************************************************/
/*! exports provided: StitchServiceErrorCode, stitchServiceErrorCodeFromApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceErrorCode\", function() { return StitchServiceErrorCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stitchServiceErrorCodeFromApi\", function() { return stitchServiceErrorCodeFromApi; });\nvar StitchServiceErrorCode;\n(function (StitchServiceErrorCode) {\n    StitchServiceErrorCode[StitchServiceErrorCode[\"MissingAuthReq\"] = 0] = \"MissingAuthReq\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"InvalidSession\"] = 1] = \"InvalidSession\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"UserAppDomainMismatch\"] = 2] = \"UserAppDomainMismatch\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"DomainNotAllowed\"] = 3] = \"DomainNotAllowed\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ReadSizeLimitExceeded\"] = 4] = \"ReadSizeLimitExceeded\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"InvalidParameter\"] = 5] = \"InvalidParameter\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"MissingParameter\"] = 6] = \"MissingParameter\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"TwilioError\"] = 7] = \"TwilioError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"GCMError\"] = 8] = \"GCMError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"HTTPError\"] = 9] = \"HTTPError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"AWSError\"] = 10] = \"AWSError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"MongoDBError\"] = 11] = \"MongoDBError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ArgumentsNotAllowed\"] = 12] = \"ArgumentsNotAllowed\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"FunctionExecutionError\"] = 13] = \"FunctionExecutionError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"NoMatchingRuleFound\"] = 14] = \"NoMatchingRuleFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"InternalServerError\"] = 15] = \"InternalServerError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"AuthProviderNotFound\"] = 16] = \"AuthProviderNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"AuthProviderAlreadyExists\"] = 17] = \"AuthProviderAlreadyExists\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ServiceNotFound\"] = 18] = \"ServiceNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ServiceTypeNotFound\"] = 19] = \"ServiceTypeNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ServiceAlreadyExists\"] = 20] = \"ServiceAlreadyExists\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ServiceCommandNotFound\"] = 21] = \"ServiceCommandNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ValueNotFound\"] = 22] = \"ValueNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ValueAlreadyExists\"] = 23] = \"ValueAlreadyExists\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ValueDuplicateName\"] = 24] = \"ValueDuplicateName\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"FunctionNotFound\"] = 25] = \"FunctionNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"FunctionAlreadyExists\"] = 26] = \"FunctionAlreadyExists\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"FunctionDuplicateName\"] = 27] = \"FunctionDuplicateName\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"FunctionSyntaxError\"] = 28] = \"FunctionSyntaxError\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"FunctionInvalid\"] = 29] = \"FunctionInvalid\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"IncomingWebhookNotFound\"] = 30] = \"IncomingWebhookNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"IncomingWebhookAlreadyExists\"] = 31] = \"IncomingWebhookAlreadyExists\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"IncomingWebhookDuplicateName\"] = 32] = \"IncomingWebhookDuplicateName\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"RuleNotFound\"] = 33] = \"RuleNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ApiKeyNotFound\"] = 34] = \"ApiKeyNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"RuleAlreadyExists\"] = 35] = \"RuleAlreadyExists\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"RuleDuplicateName\"] = 36] = \"RuleDuplicateName\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"AuthProviderDuplicateName\"] = 37] = \"AuthProviderDuplicateName\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"RestrictedHost\"] = 38] = \"RestrictedHost\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ApiKeyAlreadyExists\"] = 39] = \"ApiKeyAlreadyExists\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"IncomingWebhookAuthFailed\"] = 40] = \"IncomingWebhookAuthFailed\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"ExecutionTimeLimitExceeded\"] = 41] = \"ExecutionTimeLimitExceeded\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"FunctionNotCallable\"] = 42] = \"FunctionNotCallable\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"UserAlreadyConfirmed\"] = 43] = \"UserAlreadyConfirmed\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"UserNotFound\"] = 44] = \"UserNotFound\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"UserDisabled\"] = 45] = \"UserDisabled\";\n    StitchServiceErrorCode[StitchServiceErrorCode[\"Unknown\"] = 46] = \"Unknown\";\n})(StitchServiceErrorCode || (StitchServiceErrorCode = {}));\nvar apiErrorCodes = {\n    APIKeyAlreadyExists: StitchServiceErrorCode.ApiKeyAlreadyExists,\n    APIKeyNotFound: StitchServiceErrorCode.ApiKeyNotFound,\n    AWSError: StitchServiceErrorCode.AWSError,\n    ArgumentsNotAllowed: StitchServiceErrorCode.ArgumentsNotAllowed,\n    AuthProviderAlreadyExists: StitchServiceErrorCode.AuthProviderAlreadyExists,\n    AuthProviderDuplicateName: StitchServiceErrorCode.AuthProviderDuplicateName,\n    AuthProviderNotFound: StitchServiceErrorCode.AuthProviderNotFound,\n    DomainNotAllowed: StitchServiceErrorCode.DomainNotAllowed,\n    ExecutionTimeLimitExceeded: StitchServiceErrorCode.ExecutionTimeLimitExceeded,\n    FunctionAlreadyExists: StitchServiceErrorCode.FunctionAlreadyExists,\n    FunctionDuplicateName: StitchServiceErrorCode.FunctionDuplicateName,\n    FunctionExecutionError: StitchServiceErrorCode.FunctionExecutionError,\n    FunctionInvalid: StitchServiceErrorCode.FunctionInvalid,\n    FunctionNotCallable: StitchServiceErrorCode.FunctionNotCallable,\n    FunctionNotFound: StitchServiceErrorCode.FunctionNotFound,\n    FunctionSyntaxError: StitchServiceErrorCode.FunctionSyntaxError,\n    GCMError: StitchServiceErrorCode.GCMError,\n    HTTPError: StitchServiceErrorCode.HTTPError,\n    IncomingWebhookAlreadyExists: StitchServiceErrorCode.IncomingWebhookAlreadyExists,\n    IncomingWebhookAuthFailed: StitchServiceErrorCode.IncomingWebhookAuthFailed,\n    IncomingWebhookDuplicateName: StitchServiceErrorCode.IncomingWebhookDuplicateName,\n    IncomingWebhookNotFound: StitchServiceErrorCode.IncomingWebhookNotFound,\n    InternalServerError: StitchServiceErrorCode.InternalServerError,\n    InvalidParameter: StitchServiceErrorCode.InvalidParameter,\n    InvalidSession: StitchServiceErrorCode.InvalidSession,\n    MissingAuthReq: StitchServiceErrorCode.MissingAuthReq,\n    MissingParameter: StitchServiceErrorCode.MissingParameter,\n    MongoDBError: StitchServiceErrorCode.MongoDBError,\n    NoMatchingRuleFound: StitchServiceErrorCode.NoMatchingRuleFound,\n    ReadSizeLimitExceeded: StitchServiceErrorCode.ReadSizeLimitExceeded,\n    RestrictedHost: StitchServiceErrorCode.RestrictedHost,\n    RuleAlreadyExists: StitchServiceErrorCode.RuleAlreadyExists,\n    RuleDuplicateName: StitchServiceErrorCode.RuleDuplicateName,\n    RuleNotFound: StitchServiceErrorCode.RuleNotFound,\n    ServiceAlreadyExists: StitchServiceErrorCode.ServiceAlreadyExists,\n    ServiceCommandNotFound: StitchServiceErrorCode.ServiceCommandNotFound,\n    ServiceNotFound: StitchServiceErrorCode.ServiceNotFound,\n    ServiceTypeNotFound: StitchServiceErrorCode.ServiceTypeNotFound,\n    TwilioError: StitchServiceErrorCode.TwilioError,\n    UserAlreadyConfirmed: StitchServiceErrorCode.UserAlreadyConfirmed,\n    UserAppDomainMismatch: StitchServiceErrorCode.UserAppDomainMismatch,\n    UserDisabled: StitchServiceErrorCode.UserDisabled,\n    UserNotFound: StitchServiceErrorCode.UserNotFound,\n    ValueAlreadyExists: StitchServiceErrorCode.ValueAlreadyExists,\n    ValueDuplicateName: StitchServiceErrorCode.ValueDuplicateName,\n    ValueNotFound: StitchServiceErrorCode.ValueNotFound\n};\nfunction stitchServiceErrorCodeFromApi(code) {\n    if (!(code in apiErrorCodes)) {\n        return StitchServiceErrorCode.Unknown;\n    }\n    return apiErrorCodes[code];\n}\n//# sourceMappingURL=StitchServiceErrorCode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaFNlcnZpY2VFcnJvckNvZGUuanM/NjEwNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0RBQXdEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaFNlcnZpY2VFcnJvckNvZGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIFN0aXRjaFNlcnZpY2VFcnJvckNvZGU7XG4oZnVuY3Rpb24gKFN0aXRjaFNlcnZpY2VFcnJvckNvZGUpIHtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJNaXNzaW5nQXV0aFJlcVwiXSA9IDBdID0gXCJNaXNzaW5nQXV0aFJlcVwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkludmFsaWRTZXNzaW9uXCJdID0gMV0gPSBcIkludmFsaWRTZXNzaW9uXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiVXNlckFwcERvbWFpbk1pc21hdGNoXCJdID0gMl0gPSBcIlVzZXJBcHBEb21haW5NaXNtYXRjaFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkRvbWFpbk5vdEFsbG93ZWRcIl0gPSAzXSA9IFwiRG9tYWluTm90QWxsb3dlZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlJlYWRTaXplTGltaXRFeGNlZWRlZFwiXSA9IDRdID0gXCJSZWFkU2l6ZUxpbWl0RXhjZWVkZWRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJJbnZhbGlkUGFyYW1ldGVyXCJdID0gNV0gPSBcIkludmFsaWRQYXJhbWV0ZXJcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJNaXNzaW5nUGFyYW1ldGVyXCJdID0gNl0gPSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJUd2lsaW9FcnJvclwiXSA9IDddID0gXCJUd2lsaW9FcnJvclwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkdDTUVycm9yXCJdID0gOF0gPSBcIkdDTUVycm9yXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiSFRUUEVycm9yXCJdID0gOV0gPSBcIkhUVFBFcnJvclwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkFXU0Vycm9yXCJdID0gMTBdID0gXCJBV1NFcnJvclwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIk1vbmdvREJFcnJvclwiXSA9IDExXSA9IFwiTW9uZ29EQkVycm9yXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiQXJndW1lbnRzTm90QWxsb3dlZFwiXSA9IDEyXSA9IFwiQXJndW1lbnRzTm90QWxsb3dlZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkZ1bmN0aW9uRXhlY3V0aW9uRXJyb3JcIl0gPSAxM10gPSBcIkZ1bmN0aW9uRXhlY3V0aW9uRXJyb3JcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJOb01hdGNoaW5nUnVsZUZvdW5kXCJdID0gMTRdID0gXCJOb01hdGNoaW5nUnVsZUZvdW5kXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiSW50ZXJuYWxTZXJ2ZXJFcnJvclwiXSA9IDE1XSA9IFwiSW50ZXJuYWxTZXJ2ZXJFcnJvclwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkF1dGhQcm92aWRlck5vdEZvdW5kXCJdID0gMTZdID0gXCJBdXRoUHJvdmlkZXJOb3RGb3VuZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkF1dGhQcm92aWRlckFscmVhZHlFeGlzdHNcIl0gPSAxN10gPSBcIkF1dGhQcm92aWRlckFscmVhZHlFeGlzdHNcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJTZXJ2aWNlTm90Rm91bmRcIl0gPSAxOF0gPSBcIlNlcnZpY2VOb3RGb3VuZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlNlcnZpY2VUeXBlTm90Rm91bmRcIl0gPSAxOV0gPSBcIlNlcnZpY2VUeXBlTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJTZXJ2aWNlQWxyZWFkeUV4aXN0c1wiXSA9IDIwXSA9IFwiU2VydmljZUFscmVhZHlFeGlzdHNcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJTZXJ2aWNlQ29tbWFuZE5vdEZvdW5kXCJdID0gMjFdID0gXCJTZXJ2aWNlQ29tbWFuZE5vdEZvdW5kXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiVmFsdWVOb3RGb3VuZFwiXSA9IDIyXSA9IFwiVmFsdWVOb3RGb3VuZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlZhbHVlQWxyZWFkeUV4aXN0c1wiXSA9IDIzXSA9IFwiVmFsdWVBbHJlYWR5RXhpc3RzXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiVmFsdWVEdXBsaWNhdGVOYW1lXCJdID0gMjRdID0gXCJWYWx1ZUR1cGxpY2F0ZU5hbWVcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJGdW5jdGlvbk5vdEZvdW5kXCJdID0gMjVdID0gXCJGdW5jdGlvbk5vdEZvdW5kXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiRnVuY3Rpb25BbHJlYWR5RXhpc3RzXCJdID0gMjZdID0gXCJGdW5jdGlvbkFscmVhZHlFeGlzdHNcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJGdW5jdGlvbkR1cGxpY2F0ZU5hbWVcIl0gPSAyN10gPSBcIkZ1bmN0aW9uRHVwbGljYXRlTmFtZVwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkZ1bmN0aW9uU3ludGF4RXJyb3JcIl0gPSAyOF0gPSBcIkZ1bmN0aW9uU3ludGF4RXJyb3JcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJGdW5jdGlvbkludmFsaWRcIl0gPSAyOV0gPSBcIkZ1bmN0aW9uSW52YWxpZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkluY29taW5nV2ViaG9va05vdEZvdW5kXCJdID0gMzBdID0gXCJJbmNvbWluZ1dlYmhvb2tOb3RGb3VuZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkluY29taW5nV2ViaG9va0FscmVhZHlFeGlzdHNcIl0gPSAzMV0gPSBcIkluY29taW5nV2ViaG9va0FscmVhZHlFeGlzdHNcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJJbmNvbWluZ1dlYmhvb2tEdXBsaWNhdGVOYW1lXCJdID0gMzJdID0gXCJJbmNvbWluZ1dlYmhvb2tEdXBsaWNhdGVOYW1lXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiUnVsZU5vdEZvdW5kXCJdID0gMzNdID0gXCJSdWxlTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJBcGlLZXlOb3RGb3VuZFwiXSA9IDM0XSA9IFwiQXBpS2V5Tm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJSdWxlQWxyZWFkeUV4aXN0c1wiXSA9IDM1XSA9IFwiUnVsZUFscmVhZHlFeGlzdHNcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJSdWxlRHVwbGljYXRlTmFtZVwiXSA9IDM2XSA9IFwiUnVsZUR1cGxpY2F0ZU5hbWVcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJBdXRoUHJvdmlkZXJEdXBsaWNhdGVOYW1lXCJdID0gMzddID0gXCJBdXRoUHJvdmlkZXJEdXBsaWNhdGVOYW1lXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiUmVzdHJpY3RlZEhvc3RcIl0gPSAzOF0gPSBcIlJlc3RyaWN0ZWRIb3N0XCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiQXBpS2V5QWxyZWFkeUV4aXN0c1wiXSA9IDM5XSA9IFwiQXBpS2V5QWxyZWFkeUV4aXN0c1wiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkluY29taW5nV2ViaG9va0F1dGhGYWlsZWRcIl0gPSA0MF0gPSBcIkluY29taW5nV2ViaG9va0F1dGhGYWlsZWRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJFeGVjdXRpb25UaW1lTGltaXRFeGNlZWRlZFwiXSA9IDQxXSA9IFwiRXhlY3V0aW9uVGltZUxpbWl0RXhjZWVkZWRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJGdW5jdGlvbk5vdENhbGxhYmxlXCJdID0gNDJdID0gXCJGdW5jdGlvbk5vdENhbGxhYmxlXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiVXNlckFscmVhZHlDb25maXJtZWRcIl0gPSA0M10gPSBcIlVzZXJBbHJlYWR5Q29uZmlybWVkXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiVXNlck5vdEZvdW5kXCJdID0gNDRdID0gXCJVc2VyTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJVc2VyRGlzYWJsZWRcIl0gPSA0NV0gPSBcIlVzZXJEaXNhYmxlZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlVua25vd25cIl0gPSA0Nl0gPSBcIlVua25vd25cIjtcbn0pKFN0aXRjaFNlcnZpY2VFcnJvckNvZGUgfHwgKFN0aXRjaFNlcnZpY2VFcnJvckNvZGUgPSB7fSkpO1xudmFyIGFwaUVycm9yQ29kZXMgPSB7XG4gICAgQVBJS2V5QWxyZWFkeUV4aXN0czogU3RpdGNoU2VydmljZUVycm9yQ29kZS5BcGlLZXlBbHJlYWR5RXhpc3RzLFxuICAgIEFQSUtleU5vdEZvdW5kOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkFwaUtleU5vdEZvdW5kLFxuICAgIEFXU0Vycm9yOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkFXU0Vycm9yLFxuICAgIEFyZ3VtZW50c05vdEFsbG93ZWQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuQXJndW1lbnRzTm90QWxsb3dlZCxcbiAgICBBdXRoUHJvdmlkZXJBbHJlYWR5RXhpc3RzOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkF1dGhQcm92aWRlckFscmVhZHlFeGlzdHMsXG4gICAgQXV0aFByb3ZpZGVyRHVwbGljYXRlTmFtZTogU3RpdGNoU2VydmljZUVycm9yQ29kZS5BdXRoUHJvdmlkZXJEdXBsaWNhdGVOYW1lLFxuICAgIEF1dGhQcm92aWRlck5vdEZvdW5kOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkF1dGhQcm92aWRlck5vdEZvdW5kLFxuICAgIERvbWFpbk5vdEFsbG93ZWQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRG9tYWluTm90QWxsb3dlZCxcbiAgICBFeGVjdXRpb25UaW1lTGltaXRFeGNlZWRlZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5FeGVjdXRpb25UaW1lTGltaXRFeGNlZWRlZCxcbiAgICBGdW5jdGlvbkFscmVhZHlFeGlzdHM6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRnVuY3Rpb25BbHJlYWR5RXhpc3RzLFxuICAgIEZ1bmN0aW9uRHVwbGljYXRlTmFtZTogU3RpdGNoU2VydmljZUVycm9yQ29kZS5GdW5jdGlvbkR1cGxpY2F0ZU5hbWUsXG4gICAgRnVuY3Rpb25FeGVjdXRpb25FcnJvcjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5GdW5jdGlvbkV4ZWN1dGlvbkVycm9yLFxuICAgIEZ1bmN0aW9uSW52YWxpZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5GdW5jdGlvbkludmFsaWQsXG4gICAgRnVuY3Rpb25Ob3RDYWxsYWJsZTogU3RpdGNoU2VydmljZUVycm9yQ29kZS5GdW5jdGlvbk5vdENhbGxhYmxlLFxuICAgIEZ1bmN0aW9uTm90Rm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRnVuY3Rpb25Ob3RGb3VuZCxcbiAgICBGdW5jdGlvblN5bnRheEVycm9yOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkZ1bmN0aW9uU3ludGF4RXJyb3IsXG4gICAgR0NNRXJyb3I6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuR0NNRXJyb3IsXG4gICAgSFRUUEVycm9yOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkhUVFBFcnJvcixcbiAgICBJbmNvbWluZ1dlYmhvb2tBbHJlYWR5RXhpc3RzOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkluY29taW5nV2ViaG9va0FscmVhZHlFeGlzdHMsXG4gICAgSW5jb21pbmdXZWJob29rQXV0aEZhaWxlZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbmNvbWluZ1dlYmhvb2tBdXRoRmFpbGVkLFxuICAgIEluY29taW5nV2ViaG9va0R1cGxpY2F0ZU5hbWU6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuSW5jb21pbmdXZWJob29rRHVwbGljYXRlTmFtZSxcbiAgICBJbmNvbWluZ1dlYmhvb2tOb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbmNvbWluZ1dlYmhvb2tOb3RGb3VuZCxcbiAgICBJbnRlcm5hbFNlcnZlckVycm9yOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkludGVybmFsU2VydmVyRXJyb3IsXG4gICAgSW52YWxpZFBhcmFtZXRlcjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbnZhbGlkUGFyYW1ldGVyLFxuICAgIEludmFsaWRTZXNzaW9uOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkludmFsaWRTZXNzaW9uLFxuICAgIE1pc3NpbmdBdXRoUmVxOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLk1pc3NpbmdBdXRoUmVxLFxuICAgIE1pc3NpbmdQYXJhbWV0ZXI6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuTWlzc2luZ1BhcmFtZXRlcixcbiAgICBNb25nb0RCRXJyb3I6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuTW9uZ29EQkVycm9yLFxuICAgIE5vTWF0Y2hpbmdSdWxlRm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuTm9NYXRjaGluZ1J1bGVGb3VuZCxcbiAgICBSZWFkU2l6ZUxpbWl0RXhjZWVkZWQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuUmVhZFNpemVMaW1pdEV4Y2VlZGVkLFxuICAgIFJlc3RyaWN0ZWRIb3N0OiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlJlc3RyaWN0ZWRIb3N0LFxuICAgIFJ1bGVBbHJlYWR5RXhpc3RzOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlJ1bGVBbHJlYWR5RXhpc3RzLFxuICAgIFJ1bGVEdXBsaWNhdGVOYW1lOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlJ1bGVEdXBsaWNhdGVOYW1lLFxuICAgIFJ1bGVOb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5SdWxlTm90Rm91bmQsXG4gICAgU2VydmljZUFscmVhZHlFeGlzdHM6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuU2VydmljZUFscmVhZHlFeGlzdHMsXG4gICAgU2VydmljZUNvbW1hbmROb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5TZXJ2aWNlQ29tbWFuZE5vdEZvdW5kLFxuICAgIFNlcnZpY2VOb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5TZXJ2aWNlTm90Rm91bmQsXG4gICAgU2VydmljZVR5cGVOb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5TZXJ2aWNlVHlwZU5vdEZvdW5kLFxuICAgIFR3aWxpb0Vycm9yOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlR3aWxpb0Vycm9yLFxuICAgIFVzZXJBbHJlYWR5Q29uZmlybWVkOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlVzZXJBbHJlYWR5Q29uZmlybWVkLFxuICAgIFVzZXJBcHBEb21haW5NaXNtYXRjaDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5Vc2VyQXBwRG9tYWluTWlzbWF0Y2gsXG4gICAgVXNlckRpc2FibGVkOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlVzZXJEaXNhYmxlZCxcbiAgICBVc2VyTm90Rm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVXNlck5vdEZvdW5kLFxuICAgIFZhbHVlQWxyZWFkeUV4aXN0czogU3RpdGNoU2VydmljZUVycm9yQ29kZS5WYWx1ZUFscmVhZHlFeGlzdHMsXG4gICAgVmFsdWVEdXBsaWNhdGVOYW1lOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlZhbHVlRHVwbGljYXRlTmFtZSxcbiAgICBWYWx1ZU5vdEZvdW5kOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlZhbHVlTm90Rm91bmRcbn07XG5leHBvcnQgZnVuY3Rpb24gc3RpdGNoU2VydmljZUVycm9yQ29kZUZyb21BcGkoY29kZSkge1xuICAgIGlmICghKGNvZGUgaW4gYXBpRXJyb3JDb2RlcykpIHtcbiAgICAgICAgcmV0dXJuIFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVW5rbm93bjtcbiAgICB9XG4gICAgcmV0dXJuIGFwaUVycm9yQ29kZXNbY29kZV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/Stream.js":
/*!*****************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/Stream.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_net_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/net/Event */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Event.js\");\n/* harmony import */ var _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/net/StitchEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchEvent.js\");\n\n\nvar Stream = (function () {\n    function Stream(eventStream, decoder) {\n        this.eventStream = eventStream;\n        this.decoder = decoder;\n        this.listeners = [];\n    }\n    Stream.prototype.next = function () {\n        var _this = this;\n        return this.eventStream.nextEvent()\n            .then(function (event) {\n            var se = _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fromEvent(event, _this.decoder);\n            if (se.eventName === _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ERROR_EVENT_NAME) {\n                throw se.error;\n            }\n            if (se.eventName === _internal_net_Event__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MESSAGE_EVENT) {\n                return se.data;\n            }\n            return _this.next();\n        });\n    };\n    Stream.prototype.onNext = function (callback) {\n        var _this = this;\n        var wrapper = {\n            onEvent: function (e) {\n                var se = _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fromEvent(e, _this.decoder);\n                if (se.eventName !== _internal_net_Event__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MESSAGE_EVENT) {\n                    return;\n                }\n                callback(se.data);\n            }\n        };\n        this.eventStream.addListener(wrapper);\n    };\n    Stream.prototype.onError = function (callback) {\n        var _this = this;\n        var wrapper = {\n            onEvent: function (e) {\n                var se = _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fromEvent(e, _this.decoder);\n                if (se.eventName === _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ERROR_EVENT_NAME) {\n                    callback(se.error);\n                }\n            }\n        };\n        this.eventStream.addListener(wrapper);\n    };\n    Stream.prototype.addListener = function (listener) {\n        var _this = this;\n        var wrapper = {\n            onEvent: function (e) {\n                var se = _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fromEvent(e, _this.decoder);\n                if (se.eventName === _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ERROR_EVENT_NAME) {\n                    if (listener.onError) {\n                        listener.onError(se.error);\n                    }\n                }\n                else {\n                    if (listener.onNext) {\n                        listener.onNext(se.data);\n                    }\n                }\n            }\n        };\n        this.listeners.push([listener, wrapper]);\n        this.eventStream.addListener(wrapper);\n    };\n    Stream.prototype.removeListener = function (listener) {\n        var index = -1;\n        for (var i = 0; i < this.listeners.length; i++) {\n            if (this.listeners[i][0] === listener) {\n                index = i;\n                break;\n            }\n        }\n        if (index === -1) {\n            return;\n        }\n        var wrapper = this.listeners[index][1];\n        this.listeners.splice(index, 1);\n        this.eventStream.removeListener(wrapper);\n    };\n    Stream.prototype.isOpen = function () {\n        return this.eventStream.isOpen();\n    };\n    Stream.prototype.close = function () {\n        this.eventStream.close();\n    };\n    return Stream;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Stream);\n//# sourceMappingURL=Stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0cmVhbS5qcz9lODU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUF5QztBQUNZO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlFQUFXO0FBQ2hDLGlDQUFpQyxpRUFBVztBQUM1QztBQUNBO0FBQ0EsaUNBQWlDLDJEQUFLO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlFQUFXO0FBQ3BDLHFDQUFxQywyREFBSztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlFQUFXO0FBQ3BDLHFDQUFxQyxpRUFBVztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixpRUFBVztBQUNwQyxxQ0FBcUMsaUVBQVc7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkJBQTJCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHFFQUFNLEVBQUM7QUFDdEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RyZWFtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50IGZyb20gXCIuL2ludGVybmFsL25ldC9FdmVudFwiO1xuaW1wb3J0IFN0aXRjaEV2ZW50IGZyb20gXCIuL2ludGVybmFsL25ldC9TdGl0Y2hFdmVudFwiO1xudmFyIFN0cmVhbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyZWFtKGV2ZW50U3RyZWFtLCBkZWNvZGVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRTdHJlYW0gPSBldmVudFN0cmVhbTtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gZGVjb2RlcjtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICB9XG4gICAgU3RyZWFtLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudFN0cmVhbS5uZXh0RXZlbnQoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2UgPSBTdGl0Y2hFdmVudC5mcm9tRXZlbnQoZXZlbnQsIF90aGlzLmRlY29kZXIpO1xuICAgICAgICAgICAgaWYgKHNlLmV2ZW50TmFtZSA9PT0gU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSkge1xuICAgICAgICAgICAgICAgIHRocm93IHNlLmVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlLmV2ZW50TmFtZSA9PT0gRXZlbnQuTUVTU0FHRV9FVkVOVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdHJlYW0ucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgd3JhcHBlciA9IHtcbiAgICAgICAgICAgIG9uRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlID0gU3RpdGNoRXZlbnQuZnJvbUV2ZW50KGUsIF90aGlzLmRlY29kZXIpO1xuICAgICAgICAgICAgICAgIGlmIChzZS5ldmVudE5hbWUgIT09IEV2ZW50Lk1FU1NBR0VfRVZFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhzZS5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ldmVudFN0cmVhbS5hZGRMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICB9O1xuICAgIFN0cmVhbS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgd3JhcHBlciA9IHtcbiAgICAgICAgICAgIG9uRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlID0gU3RpdGNoRXZlbnQuZnJvbUV2ZW50KGUsIF90aGlzLmRlY29kZXIpO1xuICAgICAgICAgICAgICAgIGlmIChzZS5ldmVudE5hbWUgPT09IFN0aXRjaEV2ZW50LkVSUk9SX0VWRU5UX05BTUUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soc2UuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ldmVudFN0cmVhbS5hZGRMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICB9O1xuICAgIFN0cmVhbS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7XG4gICAgICAgICAgICBvbkV2ZW50OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZSA9IFN0aXRjaEV2ZW50LmZyb21FdmVudChlLCBfdGhpcy5kZWNvZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc2UuZXZlbnROYW1lID09PSBTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vbkVycm9yKHNlLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25OZXh0KHNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKFtsaXN0ZW5lciwgd3JhcHBlcl0pO1xuICAgICAgICB0aGlzLmV2ZW50U3RyZWFtLmFkZExpc3RlbmVyKHdyYXBwZXIpO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzW2ldWzBdID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmxpc3RlbmVyc1tpbmRleF1bMV07XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuZXZlbnRTdHJlYW0ucmVtb3ZlTGlzdGVuZXIod3JhcHBlcik7XG4gICAgfTtcbiAgICBTdHJlYW0ucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRTdHJlYW0uaXNPcGVuKCk7XG4gICAgfTtcbiAgICBTdHJlYW0ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmV2ZW50U3RyZWFtLmNsb3NlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RyZWFtO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0cmVhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0cmVhbS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/Stream.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js":
/*!************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ProviderCapabilities = (function () {\n    function ProviderCapabilities(reusesExistingSession) {\n        if (reusesExistingSession === void 0) { reusesExistingSession = false; }\n        this.reusesExistingSession = reusesExistingSession;\n    }\n    return ProviderCapabilities;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProviderCapabilities);\n//# sourceMappingURL=ProviderCapabilities.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvUHJvdmlkZXJDYXBhYmlsaXRpZXMuanM/YWE4YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQSwrQ0FBK0MsK0JBQStCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxtRkFBb0IsRUFBQztBQUNwQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL1Byb3ZpZGVyQ2FwYWJpbGl0aWVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFByb3ZpZGVyQ2FwYWJpbGl0aWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm92aWRlckNhcGFiaWxpdGllcyhyZXVzZXNFeGlzdGluZ1Nlc3Npb24pIHtcbiAgICAgICAgaWYgKHJldXNlc0V4aXN0aW5nU2Vzc2lvbiA9PT0gdm9pZCAwKSB7IHJldXNlc0V4aXN0aW5nU2Vzc2lvbiA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMucmV1c2VzRXhpc3RpbmdTZXNzaW9uID0gcmV1c2VzRXhpc3RpbmdTZXNzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gUHJvdmlkZXJDYXBhYmlsaXRpZXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUHJvdmlkZXJDYXBhYmlsaXRpZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm92aWRlckNhcGFiaWxpdGllcy5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/StitchUserIdentity.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/StitchUserIdentity.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar StitchUserIdentity = (function () {\n    function StitchUserIdentity(id, providerType) {\n        this.id = id;\n        this.providerType = providerType;\n    }\n    return StitchUserIdentity;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchUserIdentity);\n//# sourceMappingURL=StitchUserIdentity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvU3RpdGNoVXNlcklkZW50aXR5LmpzPzdjMjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9TdGl0Y2hVc2VySWRlbnRpdHkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3RpdGNoVXNlcklkZW50aXR5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hVc2VySWRlbnRpdHkoaWQsIHByb3ZpZGVyVHlwZSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gcHJvdmlkZXJUeXBlO1xuICAgIH1cbiAgICByZXR1cm4gU3RpdGNoVXNlcklkZW50aXR5O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaFVzZXJJZGVudGl0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFVzZXJJZGVudGl0eS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/StitchUserIdentity.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/UserType.js":
/*!************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/UserType.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar UserType;\n(function (UserType) {\n    UserType[\"Normal\"] = \"normal\";\n    UserType[\"Server\"] = \"server\";\n    UserType[\"Unknown\"] = \"unknown\";\n})(UserType || (UserType = {}));\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserType);\n//# sourceMappingURL=UserType.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvVXNlclR5cGUuanM/ODI5MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUNkLHVFQUFRLEVBQUM7QUFDeEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9Vc2VyVHlwZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBVc2VyVHlwZTtcbihmdW5jdGlvbiAoVXNlclR5cGUpIHtcbiAgICBVc2VyVHlwZVtcIk5vcm1hbFwiXSA9IFwibm9ybWFsXCI7XG4gICAgVXNlclR5cGVbXCJTZXJ2ZXJcIl0gPSBcInNlcnZlclwiO1xuICAgIFVzZXJUeXBlW1wiVW5rbm93blwiXSA9IFwidW5rbm93blwiO1xufSkoVXNlclR5cGUgfHwgKFVzZXJUeXBlID0ge30pKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJUeXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXNlclR5cGUuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/UserType.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AccessTokenRefresher.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AccessTokenRefresher.js ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _JWT__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JWT */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/JWT.js\");\n\nvar SLEEP_MILLIS = 60000;\nvar EXPIRATION_WINDOW_SECS = 300;\nvar AccessTokenRefresher = (function () {\n    function AccessTokenRefresher(auth) {\n        this.auth = auth;\n    }\n    AccessTokenRefresher.prototype.shouldRefresh = function () {\n        var auth = this.auth;\n        if (auth === undefined) {\n            return false;\n        }\n        if (!auth.isLoggedIn) {\n            return false;\n        }\n        var info = auth.authInfo;\n        if (info === undefined) {\n            return false;\n        }\n        if (!info.isLoggedIn) {\n            return false;\n        }\n        var jwt;\n        try {\n            jwt = _JWT__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromEncoded(info.accessToken);\n        }\n        catch (e) {\n            console.log(e);\n            return false;\n        }\n        if (Date.now() / 1000 < jwt.expires - EXPIRATION_WINDOW_SECS) {\n            return false;\n        }\n        return true;\n    };\n    AccessTokenRefresher.prototype.run = function () {\n        var _this = this;\n        if (!this.shouldRefresh()) {\n            this.nextTimeout = setTimeout(function () { return _this.run(); }, SLEEP_MILLIS);\n        }\n        else {\n            this.auth.refreshAccessToken().then(function () {\n                _this.nextTimeout = setTimeout(function () { return _this.run(); }, SLEEP_MILLIS);\n            }).catch(function () {\n                _this.nextTimeout = setTimeout(function () { return _this.run(); }, SLEEP_MILLIS);\n            });\n        }\n    };\n    AccessTokenRefresher.prototype.stop = function () {\n        clearTimeout(this.nextTimeout);\n    };\n    return AccessTokenRefresher;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (AccessTokenRefresher);\n//# sourceMappingURL=AccessTokenRefresher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQWNjZXNzVG9rZW5SZWZyZXNoZXIuanM/NzZjYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNENBQUc7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0JBQW9CLEVBQUU7QUFDN0U7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9CQUFvQixFQUFFO0FBQ2xGLGFBQWE7QUFDYiw0REFBNEQsb0JBQW9CLEVBQUU7QUFDbEYsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxtRkFBb0IsRUFBQztBQUNwQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL0FjY2Vzc1Rva2VuUmVmcmVzaGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpXVCBmcm9tIFwiLi9KV1RcIjtcbnZhciBTTEVFUF9NSUxMSVMgPSA2MDAwMDtcbnZhciBFWFBJUkFUSU9OX1dJTkRPV19TRUNTID0gMzAwO1xudmFyIEFjY2Vzc1Rva2VuUmVmcmVzaGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBY2Nlc3NUb2tlblJlZnJlc2hlcihhdXRoKSB7XG4gICAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgfVxuICAgIEFjY2Vzc1Rva2VuUmVmcmVzaGVyLnByb3RvdHlwZS5zaG91bGRSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXV0aCA9IHRoaXMuYXV0aDtcbiAgICAgICAgaWYgKGF1dGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXV0aC5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZm8gPSBhdXRoLmF1dGhJbmZvO1xuICAgICAgICBpZiAoaW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbmZvLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgand0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgand0ID0gSldULmZyb21FbmNvZGVkKGluZm8uYWNjZXNzVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAvIDEwMDAgPCBqd3QuZXhwaXJlcyAtIEVYUElSQVRJT05fV0lORE9XX1NFQ1MpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEFjY2Vzc1Rva2VuUmVmcmVzaGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRSZWZyZXNoKCkpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJ1bigpOyB9LCBTTEVFUF9NSUxMSVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hdXRoLnJlZnJlc2hBY2Nlc3NUb2tlbigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm5leHRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5ydW4oKTsgfSwgU0xFRVBfTUlMTElTKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5uZXh0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucnVuKCk7IH0sIFNMRUVQX01JTExJUyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWNjZXNzVG9rZW5SZWZyZXNoZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm5leHRUaW1lb3V0KTtcbiAgICB9O1xuICAgIHJldHVybiBBY2Nlc3NUb2tlblJlZnJlc2hlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBBY2Nlc3NUb2tlblJlZnJlc2hlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY2Vzc1Rva2VuUmVmcmVzaGVyLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AccessTokenRefresher.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthEvent.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthEvent.js ***!
  \**********************************************************************************/
/*! exports provided: AuthEventKind */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthEventKind\", function() { return AuthEventKind; });\nvar AuthEventKind;\n(function (AuthEventKind) {\n    AuthEventKind[AuthEventKind[\"ActiveUserChanged\"] = 0] = \"ActiveUserChanged\";\n    AuthEventKind[AuthEventKind[\"ListenerRegistered\"] = 1] = \"ListenerRegistered\";\n    AuthEventKind[AuthEventKind[\"UserAdded\"] = 2] = \"UserAdded\";\n    AuthEventKind[AuthEventKind[\"UserLinked\"] = 3] = \"UserLinked\";\n    AuthEventKind[AuthEventKind[\"UserLoggedIn\"] = 4] = \"UserLoggedIn\";\n    AuthEventKind[AuthEventKind[\"UserLoggedOut\"] = 5] = \"UserLoggedOut\";\n    AuthEventKind[AuthEventKind[\"UserRemoved\"] = 6] = \"UserRemoved\";\n})(AuthEventKind || (AuthEventKind = {}));\n//# sourceMappingURL=AuthEvent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQXV0aEV2ZW50LmpzPzcyNTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0NBQXNDO0FBQ3ZDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQXV0aEV2ZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBBdXRoRXZlbnRLaW5kO1xuKGZ1bmN0aW9uIChBdXRoRXZlbnRLaW5kKSB7XG4gICAgQXV0aEV2ZW50S2luZFtBdXRoRXZlbnRLaW5kW1wiQWN0aXZlVXNlckNoYW5nZWRcIl0gPSAwXSA9IFwiQWN0aXZlVXNlckNoYW5nZWRcIjtcbiAgICBBdXRoRXZlbnRLaW5kW0F1dGhFdmVudEtpbmRbXCJMaXN0ZW5lclJlZ2lzdGVyZWRcIl0gPSAxXSA9IFwiTGlzdGVuZXJSZWdpc3RlcmVkXCI7XG4gICAgQXV0aEV2ZW50S2luZFtBdXRoRXZlbnRLaW5kW1wiVXNlckFkZGVkXCJdID0gMl0gPSBcIlVzZXJBZGRlZFwiO1xuICAgIEF1dGhFdmVudEtpbmRbQXV0aEV2ZW50S2luZFtcIlVzZXJMaW5rZWRcIl0gPSAzXSA9IFwiVXNlckxpbmtlZFwiO1xuICAgIEF1dGhFdmVudEtpbmRbQXV0aEV2ZW50S2luZFtcIlVzZXJMb2dnZWRJblwiXSA9IDRdID0gXCJVc2VyTG9nZ2VkSW5cIjtcbiAgICBBdXRoRXZlbnRLaW5kW0F1dGhFdmVudEtpbmRbXCJVc2VyTG9nZ2VkT3V0XCJdID0gNV0gPSBcIlVzZXJMb2dnZWRPdXRcIjtcbiAgICBBdXRoRXZlbnRLaW5kW0F1dGhFdmVudEtpbmRbXCJVc2VyUmVtb3ZlZFwiXSA9IDZdID0gXCJVc2VyUmVtb3ZlZFwiO1xufSkoQXV0aEV2ZW50S2luZCB8fCAoQXV0aEV2ZW50S2luZCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRoRXZlbnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthEvent.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthInfo.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthInfo.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar AuthInfo = (function () {\n    function AuthInfo(userId, deviceId, accessToken, refreshToken, loggedInProviderType, loggedInProviderName, lastAuthActivity, userProfile) {\n        this.userId = userId;\n        this.deviceId = deviceId;\n        this.accessToken = accessToken;\n        this.refreshToken = refreshToken;\n        this.loggedInProviderType = loggedInProviderType;\n        this.loggedInProviderName = loggedInProviderName;\n        this.lastAuthActivity = lastAuthActivity;\n        this.userProfile = userProfile;\n    }\n    AuthInfo.empty = function () {\n        return new AuthInfo(undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined);\n    };\n    Object.defineProperty(AuthInfo.prototype, \"hasUser\", {\n        get: function () {\n            return this.userId !== undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AuthInfo.prototype, \"isEmpty\", {\n        get: function () {\n            return this.deviceId === undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AuthInfo.prototype.loggedOut = function () {\n        return new AuthInfo(this.userId, this.deviceId, undefined, undefined, this.loggedInProviderType, this.loggedInProviderName, new Date(), this.userProfile);\n    };\n    AuthInfo.prototype.withClearedUser = function () {\n        return new AuthInfo(undefined, this.deviceId, undefined, undefined, undefined, undefined, undefined, undefined);\n    };\n    AuthInfo.prototype.withAuthProvider = function (providerType, providerName) {\n        return new AuthInfo(this.userId, this.deviceId, this.accessToken, this.refreshToken, providerType, providerName, new Date(), this.userProfile);\n    };\n    AuthInfo.prototype.withNewAuthActivityTime = function () {\n        return new AuthInfo(this.userId, this.deviceId, this.accessToken, this.refreshToken, this.loggedInProviderType, this.loggedInProviderName, new Date(), this.userProfile);\n    };\n    Object.defineProperty(AuthInfo.prototype, \"isLoggedIn\", {\n        get: function () {\n            return this.accessToken !== undefined && this.refreshToken !== undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AuthInfo.prototype.merge = function (newInfo) {\n        return new AuthInfo(newInfo.userId === undefined ? this.userId : newInfo.userId, newInfo.deviceId === undefined ? this.deviceId : newInfo.deviceId, newInfo.accessToken === undefined\n            ? this.accessToken\n            : newInfo.accessToken, newInfo.refreshToken === undefined\n            ? this.refreshToken\n            : newInfo.refreshToken, newInfo.loggedInProviderType === undefined\n            ? this.loggedInProviderType\n            : newInfo.loggedInProviderType, newInfo.loggedInProviderName === undefined\n            ? this.loggedInProviderName\n            : newInfo.loggedInProviderName, newInfo.lastAuthActivity === undefined\n            ? this.lastAuthActivity\n            : newInfo.lastAuthActivity, newInfo.userProfile === undefined\n            ? this.userProfile\n            : newInfo.userProfile);\n    };\n    return AuthInfo;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (AuthInfo);\n//# sourceMappingURL=AuthInfo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQXV0aEluZm8uanM/YWJlMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyx1RUFBUSxFQUFDO0FBQ3hCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQXV0aEluZm8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQXV0aEluZm8gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1dGhJbmZvKHVzZXJJZCwgZGV2aWNlSWQsIGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIGxvZ2dlZEluUHJvdmlkZXJUeXBlLCBsb2dnZWRJblByb3ZpZGVyTmFtZSwgbGFzdEF1dGhBY3Rpdml0eSwgdXNlclByb2ZpbGUpIHtcbiAgICAgICAgdGhpcy51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIHRoaXMuZGV2aWNlSWQgPSBkZXZpY2VJZDtcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgICAgICB0aGlzLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2hUb2tlbjtcbiAgICAgICAgdGhpcy5sb2dnZWRJblByb3ZpZGVyVHlwZSA9IGxvZ2dlZEluUHJvdmlkZXJUeXBlO1xuICAgICAgICB0aGlzLmxvZ2dlZEluUHJvdmlkZXJOYW1lID0gbG9nZ2VkSW5Qcm92aWRlck5hbWU7XG4gICAgICAgIHRoaXMubGFzdEF1dGhBY3Rpdml0eSA9IGxhc3RBdXRoQWN0aXZpdHk7XG4gICAgICAgIHRoaXMudXNlclByb2ZpbGUgPSB1c2VyUHJvZmlsZTtcbiAgICB9XG4gICAgQXV0aEluZm8uZW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXV0aEluZm8odW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1dGhJbmZvLnByb3RvdHlwZSwgXCJoYXNVc2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51c2VySWQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1dGhJbmZvLnByb3RvdHlwZSwgXCJpc0VtcHR5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2VJZCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBdXRoSW5mby5wcm90b3R5cGUubG9nZ2VkT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEF1dGhJbmZvKHRoaXMudXNlcklkLCB0aGlzLmRldmljZUlkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcy5sb2dnZWRJblByb3ZpZGVyVHlwZSwgdGhpcy5sb2dnZWRJblByb3ZpZGVyTmFtZSwgbmV3IERhdGUoKSwgdGhpcy51c2VyUHJvZmlsZSk7XG4gICAgfTtcbiAgICBBdXRoSW5mby5wcm90b3R5cGUud2l0aENsZWFyZWRVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEF1dGhJbmZvKHVuZGVmaW5lZCwgdGhpcy5kZXZpY2VJZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICBBdXRoSW5mby5wcm90b3R5cGUud2l0aEF1dGhQcm92aWRlciA9IGZ1bmN0aW9uIChwcm92aWRlclR5cGUsIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEF1dGhJbmZvKHRoaXMudXNlcklkLCB0aGlzLmRldmljZUlkLCB0aGlzLmFjY2Vzc1Rva2VuLCB0aGlzLnJlZnJlc2hUb2tlbiwgcHJvdmlkZXJUeXBlLCBwcm92aWRlck5hbWUsIG5ldyBEYXRlKCksIHRoaXMudXNlclByb2ZpbGUpO1xuICAgIH07XG4gICAgQXV0aEluZm8ucHJvdG90eXBlLndpdGhOZXdBdXRoQWN0aXZpdHlUaW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEF1dGhJbmZvKHRoaXMudXNlcklkLCB0aGlzLmRldmljZUlkLCB0aGlzLmFjY2Vzc1Rva2VuLCB0aGlzLnJlZnJlc2hUb2tlbiwgdGhpcy5sb2dnZWRJblByb3ZpZGVyVHlwZSwgdGhpcy5sb2dnZWRJblByb3ZpZGVyTmFtZSwgbmV3IERhdGUoKSwgdGhpcy51c2VyUHJvZmlsZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aEluZm8ucHJvdG90eXBlLCBcImlzTG9nZ2VkSW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjY2Vzc1Rva2VuICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yZWZyZXNoVG9rZW4gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQXV0aEluZm8ucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKG5ld0luZm8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXRoSW5mbyhuZXdJbmZvLnVzZXJJZCA9PT0gdW5kZWZpbmVkID8gdGhpcy51c2VySWQgOiBuZXdJbmZvLnVzZXJJZCwgbmV3SW5mby5kZXZpY2VJZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5kZXZpY2VJZCA6IG5ld0luZm8uZGV2aWNlSWQsIG5ld0luZm8uYWNjZXNzVG9rZW4gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLmFjY2Vzc1Rva2VuXG4gICAgICAgICAgICA6IG5ld0luZm8uYWNjZXNzVG9rZW4sIG5ld0luZm8ucmVmcmVzaFRva2VuID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGhpcy5yZWZyZXNoVG9rZW5cbiAgICAgICAgICAgIDogbmV3SW5mby5yZWZyZXNoVG9rZW4sIG5ld0luZm8ubG9nZ2VkSW5Qcm92aWRlclR5cGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLmxvZ2dlZEluUHJvdmlkZXJUeXBlXG4gICAgICAgICAgICA6IG5ld0luZm8ubG9nZ2VkSW5Qcm92aWRlclR5cGUsIG5ld0luZm8ubG9nZ2VkSW5Qcm92aWRlck5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLmxvZ2dlZEluUHJvdmlkZXJOYW1lXG4gICAgICAgICAgICA6IG5ld0luZm8ubG9nZ2VkSW5Qcm92aWRlck5hbWUsIG5ld0luZm8ubGFzdEF1dGhBY3Rpdml0eSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRoaXMubGFzdEF1dGhBY3Rpdml0eVxuICAgICAgICAgICAgOiBuZXdJbmZvLmxhc3RBdXRoQWN0aXZpdHksIG5ld0luZm8udXNlclByb2ZpbGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLnVzZXJQcm9maWxlXG4gICAgICAgICAgICA6IG5ld0luZm8udXNlclByb2ZpbGUpO1xuICAgIH07XG4gICAgcmV0dXJuIEF1dGhJbmZvO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEF1dGhJbmZvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aEluZm8uanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthInfo.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchAuth.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchAuth.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../internal/common/StitchErrorUtils */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/StitchErrorUtils.js\");\n/* harmony import */ var _internal_net_Headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../internal/net/Headers */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js\");\n/* harmony import */ var _internal_net_Method__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../internal/net/Method */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js\");\n/* harmony import */ var _internal_net_StitchAuthDocRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../internal/net/StitchAuthDocRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthDocRequest.js\");\n/* harmony import */ var _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../internal/net/StitchAuthRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js\");\n/* harmony import */ var _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../internal/net/StitchDocRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchDocRequest.js\");\n/* harmony import */ var _StitchClientError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../StitchClientError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientError.js\");\n/* harmony import */ var _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../StitchClientErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientErrorCode.js\");\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\n/* harmony import */ var _StitchRequestError__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../StitchRequestError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js\");\n/* harmony import */ var _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../StitchRequestErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js\");\n/* harmony import */ var _StitchServiceError__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../StitchServiceError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceError.js\");\n/* harmony import */ var _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../StitchServiceErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js\");\n/* harmony import */ var _Stream__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../Stream */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/Stream.js\");\n/* harmony import */ var _internal_CoreStitchUserImpl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../internal/CoreStitchUserImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchUserImpl.js\");\n/* harmony import */ var _providers_anonymous_AnonymousAuthProvider__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../providers/anonymous/AnonymousAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousAuthProvider.js\");\n/* harmony import */ var _providers_internal_StitchAuthResponseCredential__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../providers/internal/StitchAuthResponseCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/StitchAuthResponseCredential.js\");\n/* harmony import */ var _AccessTokenRefresher__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./AccessTokenRefresher */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AccessTokenRefresher.js\");\n/* harmony import */ var _AuthEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./AuthEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthEvent.js\");\n/* harmony import */ var _AuthInfo__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./AuthInfo */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthInfo.js\");\n/* harmony import */ var _JWT__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./JWT */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/JWT.js\");\n/* harmony import */ var _models_ApiAuthInfo__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./models/ApiAuthInfo */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiAuthInfo.js\");\n/* harmony import */ var _models_ApiCoreUserProfile__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./models/ApiCoreUserProfile */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiCoreUserProfile.js\");\n/* harmony import */ var _models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./models/StoreAuthInfo */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreAuthInfo.js\");\nvar __values = (undefined && undefined.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nvar __read = (undefined && undefined.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar OPTIONS = \"options\";\nvar DEVICE = \"device\";\nvar CoreStitchAuth = (function () {\n    function CoreStitchAuth(requestClient, authRoutes, storage, useTokenRefresher) {\n        if (useTokenRefresher === void 0) { useTokenRefresher = true; }\n        this.requestClient = requestClient;\n        this.authRoutes = authRoutes;\n        this.storage = storage;\n        var allUsersAuthInfo;\n        try {\n            allUsersAuthInfo = Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"readCurrentUsersFromStorage\"])(storage);\n        }\n        catch (e) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].CouldNotLoadPersistedAuthInfo);\n        }\n        this.allUsersAuthInfo = allUsersAuthInfo;\n        var activeUserAuthInfo;\n        try {\n            activeUserAuthInfo = Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"readActiveUserFromStorage\"])(storage);\n        }\n        catch (e) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].CouldNotLoadPersistedAuthInfo);\n        }\n        this.activeUserAuthInfo =\n            activeUserAuthInfo === undefined ? _AuthInfo__WEBPACK_IMPORTED_MODULE_20__[\"default\"].empty() : activeUserAuthInfo;\n        if (this.activeUserAuthInfo.hasUser) {\n            this.currentUser = this.prepUser(this.activeUserAuthInfo);\n        }\n        if (useTokenRefresher) {\n            this.accessTokenRefresher = new _AccessTokenRefresher__WEBPACK_IMPORTED_MODULE_18__[\"default\"](this);\n            this.accessTokenRefresher.run();\n        }\n    }\n    Object.defineProperty(CoreStitchAuth.prototype, \"authInfo\", {\n        get: function () {\n            return this.activeUserAuthInfo;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CoreStitchAuth.prototype, \"isLoggedIn\", {\n        get: function () {\n            return this.currentUser !== undefined && this.currentUser.isLoggedIn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CoreStitchAuth.prototype, \"user\", {\n        get: function () {\n            return this.currentUser;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CoreStitchAuth.prototype, \"hasDeviceId\", {\n        get: function () {\n            return (this.activeUserAuthInfo.deviceId !== undefined &&\n                this.activeUserAuthInfo.deviceId !== \"\" &&\n                this.activeUserAuthInfo.deviceId !== \"000000000000000000000000\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CoreStitchAuth.prototype, \"deviceId\", {\n        get: function () {\n            if (!this.hasDeviceId) {\n                return undefined;\n            }\n            return this.activeUserAuthInfo.deviceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CoreStitchAuth.prototype.listUsers = function () {\n        var _this = this;\n        var list = [];\n        this.allUsersAuthInfo.forEach(function (authInfo) {\n            list.push(_this.prepUser(authInfo));\n        });\n        return list;\n    };\n    CoreStitchAuth.prototype.doAuthenticatedRequest = function (stitchReq, authInfo) {\n        var _this = this;\n        try {\n            return this.requestClient\n                .doRequest(this.prepareAuthRequest(stitchReq, authInfo || this.activeUserAuthInfo))\n                .catch(function (err) {\n                return _this.handleAuthFailure(err, stitchReq);\n            });\n        }\n        catch (err) {\n            return Promise.reject(err);\n        }\n    };\n    CoreStitchAuth.prototype.doAuthenticatedRequestWithDecoder = function (stitchReq, decoder) {\n        return this.doAuthenticatedRequest(stitchReq)\n            .then(function (response) {\n            var obj = bson__WEBPACK_IMPORTED_MODULE_0__[\"EJSON\"].parse(response.body, { strict: false });\n            if (decoder) {\n                return decoder.decode(obj);\n            }\n            return obj;\n        })\n            .catch(function (err) {\n            throw Object(_internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_1__[\"wrapDecodingError\"])(err);\n        });\n    };\n    CoreStitchAuth.prototype.openAuthenticatedEventStream = function (stitchReq, open) {\n        var _this = this;\n        if (open === void 0) { open = true; }\n        if (!this.isLoggedIn) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].MustAuthenticateFirst);\n        }\n        var authToken = stitchReq.useRefreshToken ?\n            this.activeUserAuthInfo.refreshToken : this.activeUserAuthInfo.accessToken;\n        return this.requestClient.doStreamRequest(stitchReq.builder\n            .withPath(stitchReq.path + \"&stitch_at=\" + authToken)\n            .build(), open, function () { return _this.openAuthenticatedEventStream(stitchReq, false); })\n            .catch(function (err) {\n            return _this.handleAuthFailureForEventStream(err, stitchReq, open);\n        });\n    };\n    CoreStitchAuth.prototype.openAuthenticatedStreamWithDecoder = function (stitchReq, decoder) {\n        return this.openAuthenticatedEventStream(stitchReq)\n            .then(function (eventStream) {\n            return new _Stream__WEBPACK_IMPORTED_MODULE_14__[\"default\"](eventStream, decoder);\n        });\n    };\n    CoreStitchAuth.prototype.refreshAccessToken = function () {\n        var _this = this;\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_5__[\"StitchAuthRequest\"].Builder()\n            .withRefreshToken()\n            .withPath(this.authRoutes.sessionRoute)\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_3__[\"default\"].POST);\n        return this.doAuthenticatedRequest(reqBuilder.build()).then(function (response) {\n            try {\n                var partialInfo = _models_ApiAuthInfo__WEBPACK_IMPORTED_MODULE_22__[\"default\"].fromJSON(JSON.parse(response.body));\n                _this.activeUserAuthInfo = _this.activeUserAuthInfo.merge(partialInfo);\n                if (partialInfo.accessToken && _this.user instanceof _internal_CoreStitchUserImpl__WEBPACK_IMPORTED_MODULE_15__[\"default\"]) {\n                    var userData = _JWT__WEBPACK_IMPORTED_MODULE_21__[\"default\"].fromEncoded(partialInfo.accessToken).userData;\n                    _this.user.customData = userData === undefined ? {} : userData;\n                }\n            }\n            catch (err) {\n                throw new _StitchRequestError__WEBPACK_IMPORTED_MODULE_10__[\"default\"](err, _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_11__[\"StitchRequestErrorCode\"].DECODING_ERROR);\n            }\n            try {\n                Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeActiveUserAuthInfoToStorage\"])(_this.activeUserAuthInfo, _this.storage);\n                _this.allUsersAuthInfo.set(_this.activeUserAuthInfo.userId, _this.activeUserAuthInfo);\n                Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeAllUsersAuthInfoToStorage\"])(_this.allUsersAuthInfo, _this.storage);\n            }\n            catch (err) {\n                throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].CouldNotPersistAuthInfo);\n            }\n        });\n    };\n    CoreStitchAuth.prototype.switchToUserWithId = function (userId) {\n        var authInfo = this.allUsersAuthInfo.get(userId);\n        if (authInfo === undefined) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].UserNotFound);\n        }\n        if (!authInfo.isLoggedIn) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].UserNotLoggedIn);\n        }\n        if (this.activeUserAuthInfo.hasUser) {\n            this.allUsersAuthInfo.set(this.activeUserAuthInfo.userId, this.activeUserAuthInfo.withNewAuthActivityTime());\n        }\n        var newAuthInfo = authInfo.withNewAuthActivityTime();\n        this.allUsersAuthInfo.set(userId, newAuthInfo);\n        Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeActiveUserAuthInfoToStorage\"])(newAuthInfo, this.storage);\n        this.activeUserAuthInfo = newAuthInfo;\n        var previousUser = this.currentUser;\n        this.currentUser = this.prepUser(newAuthInfo);\n        this.onAuthEvent();\n        this.dispatchAuthEvent({\n            currentActiveUser: this.currentUser,\n            kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].ActiveUserChanged,\n            previousActiveUser: previousUser\n        });\n        return this.currentUser;\n    };\n    CoreStitchAuth.prototype.loginWithCredentialInternal = function (credential) {\n        var _this = this;\n        var e_1, _a;\n        if (credential instanceof _providers_internal_StitchAuthResponseCredential__WEBPACK_IMPORTED_MODULE_17__[\"default\"]) {\n            return this.processLogin(credential, credential.authInfo, credential.asLink).then(function (user) {\n                _this.dispatchAuthEvent({\n                    kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].UserLoggedIn,\n                    loggedInUser: user\n                });\n                return user;\n            });\n        }\n        if (credential.providerCapabilities.reusesExistingSession) {\n            try {\n                for (var _b = __values(this.allUsersAuthInfo), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var _d = __read(_c.value, 2), userId = _d[0], authInfo = _d[1];\n                    if (authInfo.loggedInProviderType === credential.providerType) {\n                        if (authInfo.isLoggedIn) {\n                            try {\n                                return Promise.resolve(this.switchToUserWithId(userId));\n                            }\n                            catch (error) {\n                                return Promise.reject(error);\n                            }\n                        }\n                        if (authInfo.userId !== undefined) {\n                            this.removeUserWithIdInternal(authInfo.userId);\n                        }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        return this.doLogin(credential, false);\n    };\n    CoreStitchAuth.prototype.linkUserWithCredentialInternal = function (user, credential) {\n        if (this.currentUser !== undefined && user.id !== this.currentUser.id) {\n            return Promise.reject(new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].UserNoLongerValid));\n        }\n        return this.doLogin(credential, true);\n    };\n    CoreStitchAuth.prototype.logoutInternal = function () {\n        if (!this.isLoggedIn || !this.currentUser) {\n            return Promise.resolve();\n        }\n        return this.logoutUserWithIdInternal(this.currentUser.id);\n    };\n    CoreStitchAuth.prototype.logoutUserWithIdInternal = function (userId) {\n        var _this = this;\n        var authInfo = this.allUsersAuthInfo.get(userId);\n        if (authInfo === undefined) {\n            return Promise.reject(new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].UserNotFound));\n        }\n        if (!authInfo.isLoggedIn) {\n            return Promise.resolve();\n        }\n        var clearAuthBlock = function () {\n            _this.clearUserAuthTokens(authInfo.userId);\n            if (authInfo.loggedInProviderType === _providers_anonymous_AnonymousAuthProvider__WEBPACK_IMPORTED_MODULE_16__[\"default\"].TYPE) {\n                _this.removeUserWithIdInternal(authInfo.userId);\n            }\n        };\n        return this.doLogout(authInfo)\n            .then(function () {\n            clearAuthBlock();\n        })\n            .catch(function () {\n            clearAuthBlock();\n        });\n    };\n    CoreStitchAuth.prototype.removeUserInternal = function () {\n        if (!this.isLoggedIn || this.currentUser === undefined) {\n            return Promise.resolve();\n        }\n        return this.removeUserWithIdInternal(this.currentUser.id);\n    };\n    CoreStitchAuth.prototype.removeUserWithIdInternal = function (userId) {\n        var _this = this;\n        var authInfo = this.allUsersAuthInfo.get(userId);\n        if (authInfo === undefined) {\n            return Promise.reject(new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].UserNotFound));\n        }\n        var removeBlock = function () {\n            _this.clearUserAuthTokens(authInfo.userId);\n            _this.allUsersAuthInfo.delete(userId);\n            Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeAllUsersAuthInfoToStorage\"])(_this.allUsersAuthInfo, _this.storage);\n            var removedUser = _this.prepUser(authInfo.loggedOut());\n            _this.onAuthEvent();\n            _this.dispatchAuthEvent({\n                kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].UserRemoved,\n                removedUser: removedUser\n            });\n        };\n        if (authInfo.isLoggedIn) {\n            return this.doLogout(authInfo).then(function () {\n                removeBlock();\n            }).catch(function (err) {\n                removeBlock();\n            });\n        }\n        removeBlock();\n        return Promise.resolve();\n    };\n    CoreStitchAuth.prototype.close = function () {\n        if (this.accessTokenRefresher) {\n            this.accessTokenRefresher.stop();\n        }\n    };\n    CoreStitchAuth.prototype.prepareAuthRequest = function (stitchReq, authInfo) {\n        if (!authInfo.isLoggedIn) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].MustAuthenticateFirst);\n        }\n        var newReq = stitchReq.builder;\n        var newHeaders = newReq.headers || {};\n        if (stitchReq.useRefreshToken) {\n            newHeaders[_internal_net_Headers__WEBPACK_IMPORTED_MODULE_2__[\"default\"].AUTHORIZATION] = _internal_net_Headers__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getAuthorizationBearer(authInfo.refreshToken);\n        }\n        else {\n            newHeaders[_internal_net_Headers__WEBPACK_IMPORTED_MODULE_2__[\"default\"].AUTHORIZATION] = _internal_net_Headers__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getAuthorizationBearer(authInfo.accessToken);\n        }\n        newReq.withHeaders(newHeaders);\n        return newReq.build();\n    };\n    CoreStitchAuth.prototype.handleAuthFailureForEventStream = function (ex, req, open) {\n        var _this = this;\n        if (open === void 0) { open = true; }\n        if (!(ex instanceof _StitchServiceError__WEBPACK_IMPORTED_MODULE_12__[\"default\"]) ||\n            ex.errorCode !== _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_13__[\"StitchServiceErrorCode\"].InvalidSession) {\n            throw ex;\n        }\n        if (req.useRefreshToken || !req.shouldRefreshOnFailure) {\n            this.clearActiveUserAuth();\n            throw ex;\n        }\n        return this.tryRefreshAccessToken(req.startedAt).then(function () {\n            return _this.openAuthenticatedEventStream(req.builder.withShouldRefreshOnFailure(false).build(), open);\n        });\n    };\n    CoreStitchAuth.prototype.handleAuthFailure = function (ex, req) {\n        var _this = this;\n        if (!(ex instanceof _StitchServiceError__WEBPACK_IMPORTED_MODULE_12__[\"default\"]) ||\n            ex.errorCode !== _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_13__[\"StitchServiceErrorCode\"].InvalidSession) {\n            throw ex;\n        }\n        if (req.useRefreshToken || !req.shouldRefreshOnFailure) {\n            this.clearActiveUserAuth();\n            throw ex;\n        }\n        return this.tryRefreshAccessToken(req.startedAt).then(function () {\n            return _this.doAuthenticatedRequest(req.builder.withShouldRefreshOnFailure(false).build());\n        });\n    };\n    CoreStitchAuth.prototype.tryRefreshAccessToken = function (reqStartedAt) {\n        if (!this.isLoggedIn) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].LoggedOutDuringRequest);\n        }\n        try {\n            var jwt = _JWT__WEBPACK_IMPORTED_MODULE_21__[\"default\"].fromEncoded(this.activeUserAuthInfo.accessToken);\n            if (jwt.issuedAt >= reqStartedAt) {\n                return Promise.resolve();\n            }\n        }\n        catch (e) {\n        }\n        return this.refreshAccessToken();\n    };\n    CoreStitchAuth.prototype.prepUser = function (authInfo) {\n        return this.userFactory.makeUser(authInfo.userId, authInfo.loggedInProviderType, authInfo.loggedInProviderName, authInfo.isLoggedIn, authInfo.lastAuthActivity, authInfo.userProfile);\n    };\n    CoreStitchAuth.prototype.attachAuthOptions = function (authBody) {\n        var options = {};\n        options[DEVICE] = this.deviceInfo;\n        authBody[OPTIONS] = options;\n    };\n    CoreStitchAuth.prototype.doLogin = function (credential, asLinkRequest) {\n        var _this = this;\n        var previousActiveUser = this.currentUser;\n        return this.doLoginRequest(credential, asLinkRequest)\n            .then(function (response) { return _this.processLoginResponse(credential, response, asLinkRequest); })\n            .then(function (user) {\n            _this.onAuthEvent();\n            if (asLinkRequest) {\n                _this.dispatchAuthEvent({\n                    kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].UserLinked,\n                    linkedUser: user\n                });\n            }\n            else {\n                _this.dispatchAuthEvent({\n                    kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].UserLoggedIn,\n                    loggedInUser: user,\n                });\n                _this.dispatchAuthEvent({\n                    currentActiveUser: user,\n                    kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].ActiveUserChanged,\n                    previousActiveUser: previousActiveUser\n                });\n            }\n            return user;\n        });\n    };\n    CoreStitchAuth.prototype.doLoginRequest = function (credential, asLinkRequest) {\n        var reqBuilder = new _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_6__[\"StitchDocRequest\"].Builder();\n        reqBuilder.withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_3__[\"default\"].POST);\n        if (asLinkRequest) {\n            reqBuilder.withPath(this.authRoutes.getAuthProviderLinkRoute(credential.providerName));\n        }\n        else {\n            reqBuilder.withPath(this.authRoutes.getAuthProviderLoginRoute(credential.providerName));\n        }\n        var material = credential.material;\n        this.attachAuthOptions(material);\n        reqBuilder.withDocument(material);\n        if (!asLinkRequest) {\n            return this.requestClient.doRequest(reqBuilder.build());\n        }\n        var linkRequest = new _internal_net_StitchAuthDocRequest__WEBPACK_IMPORTED_MODULE_4__[\"StitchAuthDocRequest\"](reqBuilder.build(), reqBuilder.document);\n        return this.doAuthenticatedRequest(linkRequest);\n    };\n    CoreStitchAuth.prototype.processLogin = function (credential, newAuthInfo, asLinkRequest) {\n        var _this = this;\n        var oldActiveUserInfo = this.activeUserAuthInfo;\n        var oldActiveUser = this.currentUser;\n        newAuthInfo = this.activeUserAuthInfo.merge(new _AuthInfo__WEBPACK_IMPORTED_MODULE_20__[\"default\"](newAuthInfo.userId, newAuthInfo.deviceId, newAuthInfo.accessToken, newAuthInfo.refreshToken, credential.providerType, credential.providerName, undefined, undefined));\n        this.activeUserAuthInfo = newAuthInfo;\n        this.currentUser = this.userFactory.makeUser(this.activeUserAuthInfo.userId, credential.providerType, credential.providerName, this.activeUserAuthInfo.isLoggedIn, new Date(), undefined, _JWT__WEBPACK_IMPORTED_MODULE_21__[\"default\"].fromEncoded(newAuthInfo.accessToken).userData);\n        return this.doGetUserProfile()\n            .then(function (profile) {\n            if (oldActiveUserInfo.hasUser) {\n                _this.allUsersAuthInfo.set(oldActiveUserInfo.userId, oldActiveUserInfo.withNewAuthActivityTime());\n            }\n            newAuthInfo = newAuthInfo.merge(new _AuthInfo__WEBPACK_IMPORTED_MODULE_20__[\"default\"](newAuthInfo.userId, newAuthInfo.deviceId, newAuthInfo.accessToken, newAuthInfo.refreshToken, credential.providerType, credential.providerName, new Date(), profile));\n            var newUserAdded = !_this.allUsersAuthInfo.has(newAuthInfo.userId);\n            try {\n                Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeActiveUserAuthInfoToStorage\"])(newAuthInfo, _this.storage);\n                _this.allUsersAuthInfo.set(newAuthInfo.userId, newAuthInfo);\n                Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeAllUsersAuthInfoToStorage\"])(_this.allUsersAuthInfo, _this.storage);\n            }\n            catch (err) {\n                _this.activeUserAuthInfo = oldActiveUserInfo;\n                _this.currentUser = oldActiveUser;\n                if (newAuthInfo.userId !== oldActiveUserInfo.userId && newAuthInfo.userId) {\n                    _this.allUsersAuthInfo.delete(newAuthInfo.userId);\n                }\n                throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].CouldNotPersistAuthInfo);\n            }\n            _this.activeUserAuthInfo = newAuthInfo;\n            _this.currentUser = _this.userFactory.makeUser(_this.activeUserAuthInfo.userId, credential.providerType, credential.providerName, _this.activeUserAuthInfo.isLoggedIn, _this.activeUserAuthInfo.lastAuthActivity, profile, _JWT__WEBPACK_IMPORTED_MODULE_21__[\"default\"].fromEncoded(newAuthInfo.accessToken).userData);\n            if (newUserAdded) {\n                _this.onAuthEvent();\n                _this.dispatchAuthEvent({\n                    addedUser: _this.currentUser,\n                    kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].UserAdded\n                });\n            }\n            return _this.currentUser;\n        })\n            .catch(function (err) {\n            if (err instanceof _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"]) {\n                throw err;\n            }\n            if (asLinkRequest || oldActiveUserInfo.hasUser) {\n                var linkedAuthInfo = _this.activeUserAuthInfo;\n                _this.activeUserAuthInfo = oldActiveUserInfo;\n                _this.currentUser = oldActiveUser;\n                if (asLinkRequest) {\n                    _this.activeUserAuthInfo = _this.activeUserAuthInfo.withAuthProvider(linkedAuthInfo.loggedInProviderType, linkedAuthInfo.loggedInProviderName);\n                }\n            }\n            else {\n                _this.clearActiveUserAuth();\n            }\n            throw err;\n        });\n    };\n    CoreStitchAuth.prototype.processLoginResponse = function (credential, response, asLinkRequest) {\n        try {\n            if (!response) {\n                throw new _StitchServiceError__WEBPACK_IMPORTED_MODULE_12__[\"default\"](\"the login response could not be processed for credential: \" + credential + \";\" +\n                    \"response was undefined\");\n            }\n            if (!response.body) {\n                throw new _StitchServiceError__WEBPACK_IMPORTED_MODULE_12__[\"default\"](\"response with status code \" + response.statusCode + \" has empty body\");\n            }\n            return this.processLogin(credential, _models_ApiAuthInfo__WEBPACK_IMPORTED_MODULE_22__[\"default\"].fromJSON(JSON.parse(response.body)), asLinkRequest);\n        }\n        catch (err) {\n            throw new _StitchRequestError__WEBPACK_IMPORTED_MODULE_10__[\"default\"](err, _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_11__[\"StitchRequestErrorCode\"].DECODING_ERROR);\n        }\n    };\n    CoreStitchAuth.prototype.doGetUserProfile = function () {\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_5__[\"StitchAuthRequest\"].Builder();\n        reqBuilder.withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_3__[\"default\"].GET).withPath(this.authRoutes.profileRoute);\n        return this.doAuthenticatedRequest(reqBuilder.build())\n            .then(function (response) { return _models_ApiCoreUserProfile__WEBPACK_IMPORTED_MODULE_23__[\"default\"].fromJSON(JSON.parse(response.body)); })\n            .catch(function (err) {\n            if (err instanceof _StitchError__WEBPACK_IMPORTED_MODULE_9__[\"default\"]) {\n                throw err;\n            }\n            else {\n                throw new _StitchRequestError__WEBPACK_IMPORTED_MODULE_10__[\"default\"](err, _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_11__[\"StitchRequestErrorCode\"].DECODING_ERROR);\n            }\n        });\n    };\n    CoreStitchAuth.prototype.doLogout = function (authInfo) {\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_5__[\"StitchAuthRequest\"].Builder();\n        reqBuilder\n            .withRefreshToken()\n            .withPath(this.authRoutes.sessionRoute)\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_3__[\"default\"].DELETE);\n        return this.doAuthenticatedRequest(reqBuilder.build(), authInfo).then(function () {\n            return;\n        });\n    };\n    CoreStitchAuth.prototype.clearActiveUserAuth = function () {\n        if (!this.isLoggedIn) {\n            return;\n        }\n        this.clearUserAuthTokens(this.activeUserAuthInfo.userId);\n    };\n    CoreStitchAuth.prototype.clearUserAuthTokens = function (userId) {\n        var unclearedAuthInfo = this.allUsersAuthInfo.get(userId);\n        if (unclearedAuthInfo === undefined) {\n            if (this.activeUserAuthInfo.userId !== userId) {\n                throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].UserNotFound);\n            }\n        }\n        else if (!unclearedAuthInfo.isLoggedIn) {\n            return;\n        }\n        try {\n            var loggedOutUser = void 0;\n            if (unclearedAuthInfo) {\n                var loggedOutAuthInfo = unclearedAuthInfo.loggedOut();\n                this.allUsersAuthInfo.set(userId, loggedOutAuthInfo);\n                Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeAllUsersAuthInfoToStorage\"])(this.allUsersAuthInfo, this.storage);\n                loggedOutUser = this.userFactory.makeUser(loggedOutAuthInfo.userId, loggedOutAuthInfo.loggedInProviderType, loggedOutAuthInfo.loggedInProviderName, loggedOutAuthInfo.isLoggedIn, loggedOutAuthInfo.lastAuthActivity, loggedOutAuthInfo.userProfile);\n            }\n            var wasActiveUser = false;\n            if (this.activeUserAuthInfo.hasUser && this.activeUserAuthInfo.userId === userId) {\n                wasActiveUser = true;\n                this.activeUserAuthInfo = this.activeUserAuthInfo.withClearedUser();\n                this.currentUser = undefined;\n                Object(_models_StoreAuthInfo__WEBPACK_IMPORTED_MODULE_24__[\"writeActiveUserAuthInfoToStorage\"])(this.activeUserAuthInfo, this.storage);\n            }\n            if (loggedOutUser) {\n                this.onAuthEvent();\n                this.dispatchAuthEvent({\n                    kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].UserLoggedOut,\n                    loggedOutUser: loggedOutUser,\n                });\n                if (wasActiveUser) {\n                    this.dispatchAuthEvent({\n                        currentActiveUser: undefined,\n                        kind: _AuthEvent__WEBPACK_IMPORTED_MODULE_19__[\"AuthEventKind\"].ActiveUserChanged,\n                        previousActiveUser: loggedOutUser\n                    });\n                }\n            }\n        }\n        catch (err) {\n            throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_8__[\"StitchClientErrorCode\"].CouldNotPersistAuthInfo);\n        }\n    };\n    return CoreStitchAuth;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreStitchAuth);\n//# sourceMappingURL=CoreStitchAuth.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQ29yZVN0aXRjaEF1dGguanM/ODJhYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsTUFBTSxnQkFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUM2QjtBQUM4QztBQUMxQjtBQUNGO0FBQ2dDO0FBQ047QUFDRjtBQUNmO0FBQ1k7QUFDeEI7QUFDYztBQUNZO0FBQ1o7QUFDWTtBQUNwQztBQUM4QjtBQUNpQjtBQUNhO0FBQ3BDO0FBQ2Q7QUFDVjtBQUNWO0FBQ3VCO0FBQ2M7QUFDcUc7QUFDbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMEJBQTBCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEZBQTJCO0FBQzFEO0FBQ0E7QUFDQSxzQkFBc0IsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdGQUF5QjtBQUMxRDtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFpQixDQUFDLDRFQUFxQjtBQUM3RDtBQUNBO0FBQ0EsK0NBQStDLGtEQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDhEQUFvQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwQ0FBSyx1QkFBdUIsZ0JBQWdCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0JBQWtCLDJGQUFpQjtBQUNuQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQSxzQkFBc0IsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsNkRBQTZELEVBQUU7QUFDeEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBTTtBQUM3QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlGQUFpQjtBQUM5QztBQUNBO0FBQ0Esd0JBQXdCLDREQUFNO0FBQzlCO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQVc7QUFDN0M7QUFDQSxxRUFBcUUscUVBQWtCO0FBQ3ZGLG1DQUFtQyw2Q0FBRztBQUN0Qyx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDREQUFrQixNQUFNLCtFQUFzQjtBQUN4RTtBQUNBO0FBQ0EsZ0JBQWdCLCtGQUFnQztBQUNoRDtBQUNBLGdCQUFnQiw2RkFBOEI7QUFDOUM7QUFDQTtBQUNBLDBCQUEwQiwwREFBaUIsQ0FBQyw0RUFBcUI7QUFDakU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdEO0FBQ0E7QUFDQSxzQkFBc0IsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0ZBQWdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5REFBYTtBQUMvQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHlGQUE0QjtBQUM5RDtBQUNBO0FBQ0EsMEJBQTBCLHlEQUFhO0FBQ3ZDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxVQUFVO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFFBQVEsZ0JBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBCQUEwQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDBEQUFpQixDQUFDLDRFQUFxQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsbUZBQXFCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2RkFBOEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlEQUFhO0FBQ25DO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFPLGtCQUFrQiw2REFBTztBQUN2RDtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFPLGtCQUFrQiw2REFBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsYUFBYTtBQUMzQyw0QkFBNEIsNERBQWtCO0FBQzlDLDZCQUE2QiwrRUFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQWtCO0FBQzlDLDZCQUE2QiwrRUFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQWlCLENBQUMsNEVBQXFCO0FBQzdEO0FBQ0E7QUFDQSxzQkFBc0IsNkNBQUc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3RUFBd0UsRUFBRTtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5REFBYTtBQUN2QztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseURBQWE7QUFDdkM7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDBCQUEwQix5REFBYTtBQUN2QztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw2QkFBNkIsK0VBQWdCO0FBQzdDLDhCQUE4Qiw0REFBTTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdUZBQW9CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxrREFBUTtBQUNoRTtBQUNBLGtNQUFrTSw2Q0FBRztBQUNyTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGtEQUFRO0FBQ3hEO0FBQ0E7QUFDQSxnQkFBZ0IsK0ZBQWdDO0FBQ2hEO0FBQ0EsZ0JBQWdCLDZGQUE4QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwwREFBaUIsQ0FBQyw0RUFBcUI7QUFDakU7QUFDQTtBQUNBLHVPQUF1Tyw2Q0FBRztBQUMxTztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5REFBYTtBQUN2QyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLCtCQUErQiwwREFBaUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0REFBa0IsK0VBQStFO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0REFBa0I7QUFDNUM7QUFDQSxpREFBaUQsNERBQVc7QUFDNUQ7QUFDQTtBQUNBLHNCQUFzQiw0REFBa0IsTUFBTSwrRUFBc0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlGQUFpQjtBQUM5Qyw4QkFBOEIsNERBQU07QUFDcEM7QUFDQSx1Q0FBdUMsUUFBUSxtRUFBa0IscUNBQXFDLEVBQUU7QUFDeEc7QUFDQSwrQkFBK0Isb0RBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDREQUFrQixNQUFNLCtFQUFzQjtBQUN4RTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsNkJBQTZCLGlGQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNERBQU07QUFDOUI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDBEQUFpQixDQUFDLDRFQUFxQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2RkFBOEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0ZBQWdDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlEQUFhO0FBQ3ZDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix5REFBYTtBQUMzQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBaUIsQ0FBQyw0RUFBcUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLDZFQUFjLEVBQUM7QUFDOUIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9Db3JlU3RpdGNoQXV0aC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG5pbXBvcnQgeyBFSlNPTiB9IGZyb20gXCJic29uXCI7XG5pbXBvcnQgeyB3cmFwRGVjb2RpbmdFcnJvciB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9jb21tb24vU3RpdGNoRXJyb3JVdGlsc1wiO1xuaW1wb3J0IEhlYWRlcnMgZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9IZWFkZXJzXCI7XG5pbXBvcnQgTWV0aG9kIGZyb20gXCIuLi8uLi9pbnRlcm5hbC9uZXQvTWV0aG9kXCI7XG5pbXBvcnQgeyBTdGl0Y2hBdXRoRG9jUmVxdWVzdCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9uZXQvU3RpdGNoQXV0aERvY1JlcXVlc3RcIjtcbmltcG9ydCB7IFN0aXRjaEF1dGhSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoUmVxdWVzdFwiO1xuaW1wb3J0IHsgU3RpdGNoRG9jUmVxdWVzdCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9uZXQvU3RpdGNoRG9jUmVxdWVzdFwiO1xuaW1wb3J0IFN0aXRjaENsaWVudEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hDbGllbnRFcnJvclwiO1xuaW1wb3J0IHsgU3RpdGNoQ2xpZW50RXJyb3JDb2RlIH0gZnJvbSBcIi4uLy4uL1N0aXRjaENsaWVudEVycm9yQ29kZVwiO1xuaW1wb3J0IFN0aXRjaEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hFcnJvclwiO1xuaW1wb3J0IFN0aXRjaFJlcXVlc3RFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlIH0gZnJvbSBcIi4uLy4uL1N0aXRjaFJlcXVlc3RFcnJvckNvZGVcIjtcbmltcG9ydCBTdGl0Y2hTZXJ2aWNlRXJyb3IgZnJvbSBcIi4uLy4uL1N0aXRjaFNlcnZpY2VFcnJvclwiO1xuaW1wb3J0IHsgU3RpdGNoU2VydmljZUVycm9yQ29kZSB9IGZyb20gXCIuLi8uLi9TdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlXCI7XG5pbXBvcnQgU3RyZWFtIGZyb20gXCIuLi8uLi9TdHJlYW1cIjtcbmltcG9ydCBDb3JlU3RpdGNoVXNlckltcGwgZnJvbSBcIi4uL2ludGVybmFsL0NvcmVTdGl0Y2hVc2VySW1wbFwiO1xuaW1wb3J0IEFub255bW91c0F1dGhQcm92aWRlciBmcm9tIFwiLi4vcHJvdmlkZXJzL2Fub255bW91cy9Bbm9ueW1vdXNBdXRoUHJvdmlkZXJcIjtcbmltcG9ydCBTdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsIGZyb20gXCIuLi9wcm92aWRlcnMvaW50ZXJuYWwvU3RpdGNoQXV0aFJlc3BvbnNlQ3JlZGVudGlhbFwiO1xuaW1wb3J0IEFjY2Vzc1Rva2VuUmVmcmVzaGVyIGZyb20gXCIuL0FjY2Vzc1Rva2VuUmVmcmVzaGVyXCI7XG5pbXBvcnQgeyBBdXRoRXZlbnRLaW5kIH0gZnJvbSBcIi4vQXV0aEV2ZW50XCI7XG5pbXBvcnQgQXV0aEluZm8gZnJvbSBcIi4vQXV0aEluZm9cIjtcbmltcG9ydCBKV1QgZnJvbSBcIi4vSldUXCI7XG5pbXBvcnQgQXBpQXV0aEluZm8gZnJvbSBcIi4vbW9kZWxzL0FwaUF1dGhJbmZvXCI7XG5pbXBvcnQgQXBpQ29yZVVzZXJQcm9maWxlIGZyb20gXCIuL21vZGVscy9BcGlDb3JlVXNlclByb2ZpbGVcIjtcbmltcG9ydCB7IHJlYWRBY3RpdmVVc2VyRnJvbVN0b3JhZ2UsIHJlYWRDdXJyZW50VXNlcnNGcm9tU3RvcmFnZSwgd3JpdGVBY3RpdmVVc2VyQXV0aEluZm9Ub1N0b3JhZ2UsIHdyaXRlQWxsVXNlcnNBdXRoSW5mb1RvU3RvcmFnZSB9IGZyb20gXCIuL21vZGVscy9TdG9yZUF1dGhJbmZvXCI7XG52YXIgT1BUSU9OUyA9IFwib3B0aW9uc1wiO1xudmFyIERFVklDRSA9IFwiZGV2aWNlXCI7XG52YXIgQ29yZVN0aXRjaEF1dGggPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVTdGl0Y2hBdXRoKHJlcXVlc3RDbGllbnQsIGF1dGhSb3V0ZXMsIHN0b3JhZ2UsIHVzZVRva2VuUmVmcmVzaGVyKSB7XG4gICAgICAgIGlmICh1c2VUb2tlblJlZnJlc2hlciA9PT0gdm9pZCAwKSB7IHVzZVRva2VuUmVmcmVzaGVyID0gdHJ1ZTsgfVxuICAgICAgICB0aGlzLnJlcXVlc3RDbGllbnQgPSByZXF1ZXN0Q2xpZW50O1xuICAgICAgICB0aGlzLmF1dGhSb3V0ZXMgPSBhdXRoUm91dGVzO1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICAgICAgICB2YXIgYWxsVXNlcnNBdXRoSW5mbztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGFsbFVzZXJzQXV0aEluZm8gPSByZWFkQ3VycmVudFVzZXJzRnJvbVN0b3JhZ2Uoc3RvcmFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuQ291bGROb3RMb2FkUGVyc2lzdGVkQXV0aEluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWxsVXNlcnNBdXRoSW5mbyA9IGFsbFVzZXJzQXV0aEluZm87XG4gICAgICAgIHZhciBhY3RpdmVVc2VyQXV0aEluZm87XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhY3RpdmVVc2VyQXV0aEluZm8gPSByZWFkQWN0aXZlVXNlckZyb21TdG9yYWdlKHN0b3JhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkNvdWxkTm90TG9hZFBlcnNpc3RlZEF1dGhJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyA9XG4gICAgICAgICAgICBhY3RpdmVVc2VyQXV0aEluZm8gPT09IHVuZGVmaW5lZCA/IEF1dGhJbmZvLmVtcHR5KCkgOiBhY3RpdmVVc2VyQXV0aEluZm87XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5oYXNVc2VyKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdGhpcy5wcmVwVXNlcih0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZVRva2VuUmVmcmVzaGVyKSB7XG4gICAgICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuUmVmcmVzaGVyID0gbmV3IEFjY2Vzc1Rva2VuUmVmcmVzaGVyKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hY2Nlc3NUb2tlblJlZnJlc2hlci5ydW4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLCBcImF1dGhJbmZvXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVVc2VyQXV0aEluZm87XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUsIFwiaXNMb2dnZWRJblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFVzZXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRVc2VyLmlzTG9nZ2VkSW47XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUsIFwidXNlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFVzZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUsIFwiaGFzRGV2aWNlSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5hY3RpdmVVc2VyQXV0aEluZm8uZGV2aWNlSWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLmRldmljZUlkICE9PSBcIlwiICYmXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8uZGV2aWNlSWQgIT09IFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLCBcImRldmljZUlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzRGV2aWNlSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUubGlzdFVzZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmFsbFVzZXJzQXV0aEluZm8uZm9yRWFjaChmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChfdGhpcy5wcmVwVXNlcihhdXRoSW5mbykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuZG9BdXRoZW50aWNhdGVkUmVxdWVzdCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIGF1dGhJbmZvKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50XG4gICAgICAgICAgICAgICAgLmRvUmVxdWVzdCh0aGlzLnByZXBhcmVBdXRoUmVxdWVzdChzdGl0Y2hSZXEsIGF1dGhJbmZvIHx8IHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVBdXRoRmFpbHVyZShlcnIsIHN0aXRjaFJlcSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmRvQXV0aGVudGljYXRlZFJlcXVlc3RXaXRoRGVjb2RlciA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIGRlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChzdGl0Y2hSZXEpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBFSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5LCB7IHN0cmljdDogZmFsc2UgfSk7XG4gICAgICAgICAgICBpZiAoZGVjb2Rlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVyLmRlY29kZShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyB3cmFwRGVjb2RpbmdFcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5vcGVuQXV0aGVudGljYXRlZEV2ZW50U3RyZWFtID0gZnVuY3Rpb24gKHN0aXRjaFJlcSwgb3Blbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLk11c3RBdXRoZW50aWNhdGVGaXJzdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF1dGhUb2tlbiA9IHN0aXRjaFJlcS51c2VSZWZyZXNoVG9rZW4gP1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8ucmVmcmVzaFRva2VuIDogdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8uYWNjZXNzVG9rZW47XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9TdHJlYW1SZXF1ZXN0KHN0aXRjaFJlcS5idWlsZGVyXG4gICAgICAgICAgICAud2l0aFBhdGgoc3RpdGNoUmVxLnBhdGggKyBcIiZzdGl0Y2hfYXQ9XCIgKyBhdXRoVG9rZW4pXG4gICAgICAgICAgICAuYnVpbGQoKSwgb3BlbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub3BlbkF1dGhlbnRpY2F0ZWRFdmVudFN0cmVhbShzdGl0Y2hSZXEsIGZhbHNlKTsgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlQXV0aEZhaWx1cmVGb3JFdmVudFN0cmVhbShlcnIsIHN0aXRjaFJlcSwgb3Blbik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLm9wZW5BdXRoZW50aWNhdGVkU3RyZWFtV2l0aERlY29kZXIgPSBmdW5jdGlvbiAoc3RpdGNoUmVxLCBkZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5BdXRoZW50aWNhdGVkRXZlbnRTdHJlYW0oc3RpdGNoUmVxKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGV2ZW50U3RyZWFtKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0cmVhbShldmVudFN0cmVhbSwgZGVjb2Rlcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLnJlZnJlc2hBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoQXV0aFJlcXVlc3QuQnVpbGRlcigpXG4gICAgICAgICAgICAud2l0aFJlZnJlc2hUb2tlbigpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5hdXRoUm91dGVzLnNlc3Npb25Sb3V0ZSlcbiAgICAgICAgICAgIC53aXRoTWV0aG9kKE1ldGhvZC5QT1NUKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsSW5mbyA9IEFwaUF1dGhJbmZvLmZyb21KU09OKEpTT04ucGFyc2UocmVzcG9uc2UuYm9keSkpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyA9IF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5tZXJnZShwYXJ0aWFsSW5mbyk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpYWxJbmZvLmFjY2Vzc1Rva2VuICYmIF90aGlzLnVzZXIgaW5zdGFuY2VvZiBDb3JlU3RpdGNoVXNlckltcGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJEYXRhID0gSldULmZyb21FbmNvZGVkKHBhcnRpYWxJbmZvLmFjY2Vzc1Rva2VuKS51c2VyRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXNlci5jdXN0b21EYXRhID0gdXNlckRhdGEgPT09IHVuZGVmaW5lZCA/IHt9IDogdXNlckRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZXF1ZXN0RXJyb3IoZXJyLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLkRFQ09ESU5HX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd3JpdGVBY3RpdmVVc2VyQXV0aEluZm9Ub1N0b3JhZ2UoX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvLCBfdGhpcy5zdG9yYWdlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLnNldChfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8udXNlcklkLCBfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8pO1xuICAgICAgICAgICAgICAgIHdyaXRlQWxsVXNlcnNBdXRoSW5mb1RvU3RvcmFnZShfdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLCBfdGhpcy5zdG9yYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkNvdWxkTm90UGVyc2lzdEF1dGhJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuc3dpdGNoVG9Vc2VyV2l0aElkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICB2YXIgYXV0aEluZm8gPSB0aGlzLmFsbFVzZXJzQXV0aEluZm8uZ2V0KHVzZXJJZCk7XG4gICAgICAgIGlmIChhdXRoSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb3RGb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhdXRoSW5mby5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb3RMb2dnZWRJbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLmhhc1VzZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYWxsVXNlcnNBdXRoSW5mby5zZXQodGhpcy5hY3RpdmVVc2VyQXV0aEluZm8udXNlcklkLCB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby53aXRoTmV3QXV0aEFjdGl2aXR5VGltZSgpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3QXV0aEluZm8gPSBhdXRoSW5mby53aXRoTmV3QXV0aEFjdGl2aXR5VGltZSgpO1xuICAgICAgICB0aGlzLmFsbFVzZXJzQXV0aEluZm8uc2V0KHVzZXJJZCwgbmV3QXV0aEluZm8pO1xuICAgICAgICB3cml0ZUFjdGl2ZVVzZXJBdXRoSW5mb1RvU3RvcmFnZShuZXdBdXRoSW5mbywgdGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8gPSBuZXdBdXRoSW5mbztcbiAgICAgICAgdmFyIHByZXZpb3VzVXNlciA9IHRoaXMuY3VycmVudFVzZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB0aGlzLnByZXBVc2VyKG5ld0F1dGhJbmZvKTtcbiAgICAgICAgdGhpcy5vbkF1dGhFdmVudCgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgIGN1cnJlbnRBY3RpdmVVc2VyOiB0aGlzLmN1cnJlbnRVc2VyLFxuICAgICAgICAgICAga2luZDogQXV0aEV2ZW50S2luZC5BY3RpdmVVc2VyQ2hhbmdlZCxcbiAgICAgICAgICAgIHByZXZpb3VzQWN0aXZlVXNlcjogcHJldmlvdXNVc2VyXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlcjtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5sb2dpbldpdGhDcmVkZW50aWFsSW50ZXJuYWwgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgaWYgKGNyZWRlbnRpYWwgaW5zdGFuY2VvZiBTdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzTG9naW4oY3JlZGVudGlhbCwgY3JlZGVudGlhbC5hdXRoSW5mbywgY3JlZGVudGlhbC5hc0xpbmspLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuVXNlckxvZ2dlZEluLFxuICAgICAgICAgICAgICAgICAgICBsb2dnZWRJblVzZXI6IHVzZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjcmVkZW50aWFsLnByb3ZpZGVyQ2FwYWJpbGl0aWVzLnJldXNlc0V4aXN0aW5nU2Vzc2lvbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuYWxsVXNlcnNBdXRoSW5mbyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kID0gX19yZWFkKF9jLnZhbHVlLCAyKSwgdXNlcklkID0gX2RbMF0sIGF1dGhJbmZvID0gX2RbMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyVHlwZSA9PT0gY3JlZGVudGlhbC5wcm92aWRlclR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRoSW5mby5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnN3aXRjaFRvVXNlcldpdGhJZCh1c2VySWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhJbmZvLnVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVVc2VyV2l0aElkSW50ZXJuYWwoYXV0aEluZm8udXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kb0xvZ2luKGNyZWRlbnRpYWwsIGZhbHNlKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5saW5rVXNlcldpdGhDcmVkZW50aWFsSW50ZXJuYWwgPSBmdW5jdGlvbiAodXNlciwgY3JlZGVudGlhbCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50VXNlciAhPT0gdW5kZWZpbmVkICYmIHVzZXIuaWQgIT09IHRoaXMuY3VycmVudFVzZXIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb0xvbmdlclZhbGlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZG9Mb2dpbihjcmVkZW50aWFsLCB0cnVlKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5sb2dvdXRJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkSW4gfHwgIXRoaXMuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sb2dvdXRVc2VyV2l0aElkSW50ZXJuYWwodGhpcy5jdXJyZW50VXNlci5pZCk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUubG9nb3V0VXNlcldpdGhJZEludGVybmFsID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXV0aEluZm8gPSB0aGlzLmFsbFVzZXJzQXV0aEluZm8uZ2V0KHVzZXJJZCk7XG4gICAgICAgIGlmIChhdXRoSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5Vc2VyTm90Rm91bmQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWF1dGhJbmZvLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xlYXJBdXRoQmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGVhclVzZXJBdXRoVG9rZW5zKGF1dGhJbmZvLnVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoYXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlclR5cGUgPT09IEFub255bW91c0F1dGhQcm92aWRlci5UWVBFKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlVXNlcldpdGhJZEludGVybmFsKGF1dGhJbmZvLnVzZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmRvTG9nb3V0KGF1dGhJbmZvKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJBdXRoQmxvY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhckF1dGhCbG9jaygpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5yZW1vdmVVc2VySW50ZXJuYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZEluIHx8IHRoaXMuY3VycmVudFVzZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZVVzZXJXaXRoSWRJbnRlcm5hbCh0aGlzLmN1cnJlbnRVc2VyLmlkKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5yZW1vdmVVc2VyV2l0aElkSW50ZXJuYWwgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhdXRoSW5mbyA9IHRoaXMuYWxsVXNlcnNBdXRoSW5mby5nZXQodXNlcklkKTtcbiAgICAgICAgaWYgKGF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb3RGb3VuZCkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW1vdmVCbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmNsZWFyVXNlckF1dGhUb2tlbnMoYXV0aEluZm8udXNlcklkKTtcbiAgICAgICAgICAgIF90aGlzLmFsbFVzZXJzQXV0aEluZm8uZGVsZXRlKHVzZXJJZCk7XG4gICAgICAgICAgICB3cml0ZUFsbFVzZXJzQXV0aEluZm9Ub1N0b3JhZ2UoX3RoaXMuYWxsVXNlcnNBdXRoSW5mbywgX3RoaXMuc3RvcmFnZSk7XG4gICAgICAgICAgICB2YXIgcmVtb3ZlZFVzZXIgPSBfdGhpcy5wcmVwVXNlcihhdXRoSW5mby5sb2dnZWRPdXQoKSk7XG4gICAgICAgICAgICBfdGhpcy5vbkF1dGhFdmVudCgpO1xuICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hBdXRoRXZlbnQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuVXNlclJlbW92ZWQsXG4gICAgICAgICAgICAgICAgcmVtb3ZlZFVzZXI6IHJlbW92ZWRVc2VyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGF1dGhJbmZvLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvTG9nb3V0KGF1dGhJbmZvKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVCbG9jaygpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHJlbW92ZUJsb2NrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVCbG9jaygpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjY2Vzc1Rva2VuUmVmcmVzaGVyKSB7XG4gICAgICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuUmVmcmVzaGVyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLnByZXBhcmVBdXRoUmVxdWVzdCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIGF1dGhJbmZvKSB7XG4gICAgICAgIGlmICghYXV0aEluZm8uaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5NdXN0QXV0aGVudGljYXRlRmlyc3QpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdSZXEgPSBzdGl0Y2hSZXEuYnVpbGRlcjtcbiAgICAgICAgdmFyIG5ld0hlYWRlcnMgPSBuZXdSZXEuaGVhZGVycyB8fCB7fTtcbiAgICAgICAgaWYgKHN0aXRjaFJlcS51c2VSZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgIG5ld0hlYWRlcnNbSGVhZGVycy5BVVRIT1JJWkFUSU9OXSA9IEhlYWRlcnMuZ2V0QXV0aG9yaXphdGlvbkJlYXJlcihhdXRoSW5mby5yZWZyZXNoVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3SGVhZGVyc1tIZWFkZXJzLkFVVEhPUklaQVRJT05dID0gSGVhZGVycy5nZXRBdXRob3JpemF0aW9uQmVhcmVyKGF1dGhJbmZvLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdSZXEud2l0aEhlYWRlcnMobmV3SGVhZGVycyk7XG4gICAgICAgIHJldHVybiBuZXdSZXEuYnVpbGQoKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5oYW5kbGVBdXRoRmFpbHVyZUZvckV2ZW50U3RyZWFtID0gZnVuY3Rpb24gKGV4LCByZXEsIG9wZW4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wZW4gPT09IHZvaWQgMCkgeyBvcGVuID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoIShleCBpbnN0YW5jZW9mIFN0aXRjaFNlcnZpY2VFcnJvcikgfHxcbiAgICAgICAgICAgIGV4LmVycm9yQ29kZSAhPT0gU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbnZhbGlkU2Vzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS51c2VSZWZyZXNoVG9rZW4gfHwgIXJlcS5zaG91bGRSZWZyZXNoT25GYWlsdXJlKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQWN0aXZlVXNlckF1dGgoKTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyeVJlZnJlc2hBY2Nlc3NUb2tlbihyZXEuc3RhcnRlZEF0KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vcGVuQXV0aGVudGljYXRlZEV2ZW50U3RyZWFtKHJlcS5idWlsZGVyLndpdGhTaG91bGRSZWZyZXNoT25GYWlsdXJlKGZhbHNlKS5idWlsZCgpLCBvcGVuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuaGFuZGxlQXV0aEZhaWx1cmUgPSBmdW5jdGlvbiAoZXgsIHJlcSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIShleCBpbnN0YW5jZW9mIFN0aXRjaFNlcnZpY2VFcnJvcikgfHxcbiAgICAgICAgICAgIGV4LmVycm9yQ29kZSAhPT0gU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbnZhbGlkU2Vzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS51c2VSZWZyZXNoVG9rZW4gfHwgIXJlcS5zaG91bGRSZWZyZXNoT25GYWlsdXJlKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQWN0aXZlVXNlckF1dGgoKTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyeVJlZnJlc2hBY2Nlc3NUb2tlbihyZXEuc3RhcnRlZEF0KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcS5idWlsZGVyLndpdGhTaG91bGRSZWZyZXNoT25GYWlsdXJlKGZhbHNlKS5idWlsZCgpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUudHJ5UmVmcmVzaEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKHJlcVN0YXJ0ZWRBdCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5Mb2dnZWRPdXREdXJpbmdSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGp3dCA9IEpXVC5mcm9tRW5jb2RlZCh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5hY2Nlc3NUb2tlbik7XG4gICAgICAgICAgICBpZiAoand0Lmlzc3VlZEF0ID49IHJlcVN0YXJ0ZWRBdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hBY2Nlc3NUb2tlbigpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLnByZXBVc2VyID0gZnVuY3Rpb24gKGF1dGhJbmZvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJGYWN0b3J5Lm1ha2VVc2VyKGF1dGhJbmZvLnVzZXJJZCwgYXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlclR5cGUsIGF1dGhJbmZvLmxvZ2dlZEluUHJvdmlkZXJOYW1lLCBhdXRoSW5mby5pc0xvZ2dlZEluLCBhdXRoSW5mby5sYXN0QXV0aEFjdGl2aXR5LCBhdXRoSW5mby51c2VyUHJvZmlsZSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuYXR0YWNoQXV0aE9wdGlvbnMgPSBmdW5jdGlvbiAoYXV0aEJvZHkpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgb3B0aW9uc1tERVZJQ0VdID0gdGhpcy5kZXZpY2VJbmZvO1xuICAgICAgICBhdXRoQm9keVtPUFRJT05TXSA9IG9wdGlvbnM7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuZG9Mb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFsLCBhc0xpbmtSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwcmV2aW91c0FjdGl2ZVVzZXIgPSB0aGlzLmN1cnJlbnRVc2VyO1xuICAgICAgICByZXR1cm4gdGhpcy5kb0xvZ2luUmVxdWVzdChjcmVkZW50aWFsLCBhc0xpbmtSZXF1ZXN0KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiBfdGhpcy5wcm9jZXNzTG9naW5SZXNwb25zZShjcmVkZW50aWFsLCByZXNwb25zZSwgYXNMaW5rUmVxdWVzdCk7IH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgX3RoaXMub25BdXRoRXZlbnQoKTtcbiAgICAgICAgICAgIGlmIChhc0xpbmtSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hBdXRoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBBdXRoRXZlbnRLaW5kLlVzZXJMaW5rZWQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmtlZFVzZXI6IHVzZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogQXV0aEV2ZW50S2luZC5Vc2VyTG9nZ2VkSW4sXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlZEluVXNlcjogdXNlcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBY3RpdmVVc2VyOiB1c2VyLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBBdXRoRXZlbnRLaW5kLkFjdGl2ZVVzZXJDaGFuZ2VkLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0FjdGl2ZVVzZXI6IHByZXZpb3VzQWN0aXZlVXNlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmRvTG9naW5SZXF1ZXN0ID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwsIGFzTGlua1JlcXVlc3QpIHtcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoRG9jUmVxdWVzdC5CdWlsZGVyKCk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aE1ldGhvZChNZXRob2QuUE9TVCk7XG4gICAgICAgIGlmIChhc0xpbmtSZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXFCdWlsZGVyLndpdGhQYXRoKHRoaXMuYXV0aFJvdXRlcy5nZXRBdXRoUHJvdmlkZXJMaW5rUm91dGUoY3JlZGVudGlhbC5wcm92aWRlck5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcUJ1aWxkZXIud2l0aFBhdGgodGhpcy5hdXRoUm91dGVzLmdldEF1dGhQcm92aWRlckxvZ2luUm91dGUoY3JlZGVudGlhbC5wcm92aWRlck5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0ZXJpYWwgPSBjcmVkZW50aWFsLm1hdGVyaWFsO1xuICAgICAgICB0aGlzLmF0dGFjaEF1dGhPcHRpb25zKG1hdGVyaWFsKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoRG9jdW1lbnQobWF0ZXJpYWwpO1xuICAgICAgICBpZiAoIWFzTGlua1JlcXVlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9SZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmtSZXF1ZXN0ID0gbmV3IFN0aXRjaEF1dGhEb2NSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSwgcmVxQnVpbGRlci5kb2N1bWVudCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvQXV0aGVudGljYXRlZFJlcXVlc3QobGlua1JlcXVlc3QpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLnByb2Nlc3NMb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFsLCBuZXdBdXRoSW5mbywgYXNMaW5rUmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2xkQWN0aXZlVXNlckluZm8gPSB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbztcbiAgICAgICAgdmFyIG9sZEFjdGl2ZVVzZXIgPSB0aGlzLmN1cnJlbnRVc2VyO1xuICAgICAgICBuZXdBdXRoSW5mbyA9IHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLm1lcmdlKG5ldyBBdXRoSW5mbyhuZXdBdXRoSW5mby51c2VySWQsIG5ld0F1dGhJbmZvLmRldmljZUlkLCBuZXdBdXRoSW5mby5hY2Nlc3NUb2tlbiwgbmV3QXV0aEluZm8ucmVmcmVzaFRva2VuLCBjcmVkZW50aWFsLnByb3ZpZGVyVHlwZSwgY3JlZGVudGlhbC5wcm92aWRlck5hbWUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvID0gbmV3QXV0aEluZm87XG4gICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB0aGlzLnVzZXJGYWN0b3J5Lm1ha2VVc2VyKHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLnVzZXJJZCwgY3JlZGVudGlhbC5wcm92aWRlclR5cGUsIGNyZWRlbnRpYWwucHJvdmlkZXJOYW1lLCB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5pc0xvZ2dlZEluLCBuZXcgRGF0ZSgpLCB1bmRlZmluZWQsIEpXVC5mcm9tRW5jb2RlZChuZXdBdXRoSW5mby5hY2Nlc3NUb2tlbikudXNlckRhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb0dldFVzZXJQcm9maWxlKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcm9maWxlKSB7XG4gICAgICAgICAgICBpZiAob2xkQWN0aXZlVXNlckluZm8uaGFzVXNlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmFsbFVzZXJzQXV0aEluZm8uc2V0KG9sZEFjdGl2ZVVzZXJJbmZvLnVzZXJJZCwgb2xkQWN0aXZlVXNlckluZm8ud2l0aE5ld0F1dGhBY3Rpdml0eVRpbWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBdXRoSW5mbyA9IG5ld0F1dGhJbmZvLm1lcmdlKG5ldyBBdXRoSW5mbyhuZXdBdXRoSW5mby51c2VySWQsIG5ld0F1dGhJbmZvLmRldmljZUlkLCBuZXdBdXRoSW5mby5hY2Nlc3NUb2tlbiwgbmV3QXV0aEluZm8ucmVmcmVzaFRva2VuLCBjcmVkZW50aWFsLnByb3ZpZGVyVHlwZSwgY3JlZGVudGlhbC5wcm92aWRlck5hbWUsIG5ldyBEYXRlKCksIHByb2ZpbGUpKTtcbiAgICAgICAgICAgIHZhciBuZXdVc2VyQWRkZWQgPSAhX3RoaXMuYWxsVXNlcnNBdXRoSW5mby5oYXMobmV3QXV0aEluZm8udXNlcklkKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd3JpdGVBY3RpdmVVc2VyQXV0aEluZm9Ub1N0b3JhZ2UobmV3QXV0aEluZm8sIF90aGlzLnN0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFsbFVzZXJzQXV0aEluZm8uc2V0KG5ld0F1dGhJbmZvLnVzZXJJZCwgbmV3QXV0aEluZm8pO1xuICAgICAgICAgICAgICAgIHdyaXRlQWxsVXNlcnNBdXRoSW5mb1RvU3RvcmFnZShfdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLCBfdGhpcy5zdG9yYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8gPSBvbGRBY3RpdmVVc2VySW5mbztcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50VXNlciA9IG9sZEFjdGl2ZVVzZXI7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhJbmZvLnVzZXJJZCAhPT0gb2xkQWN0aXZlVXNlckluZm8udXNlcklkICYmIG5ld0F1dGhJbmZvLnVzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLmRlbGV0ZShuZXdBdXRoSW5mby51c2VySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkNvdWxkTm90UGVyc2lzdEF1dGhJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyA9IG5ld0F1dGhJbmZvO1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudFVzZXIgPSBfdGhpcy51c2VyRmFjdG9yeS5tYWtlVXNlcihfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8udXNlcklkLCBjcmVkZW50aWFsLnByb3ZpZGVyVHlwZSwgY3JlZGVudGlhbC5wcm92aWRlck5hbWUsIF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5pc0xvZ2dlZEluLCBfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8ubGFzdEF1dGhBY3Rpdml0eSwgcHJvZmlsZSwgSldULmZyb21FbmNvZGVkKG5ld0F1dGhJbmZvLmFjY2Vzc1Rva2VuKS51c2VyRGF0YSk7XG4gICAgICAgICAgICBpZiAobmV3VXNlckFkZGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25BdXRoRXZlbnQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGFkZGVkVXNlcjogX3RoaXMuY3VycmVudFVzZXIsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuVXNlckFkZGVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY3VycmVudFVzZXI7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFN0aXRjaENsaWVudEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFzTGlua1JlcXVlc3QgfHwgb2xkQWN0aXZlVXNlckluZm8uaGFzVXNlcikge1xuICAgICAgICAgICAgICAgIHZhciBsaW5rZWRBdXRoSW5mbyA9IF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbztcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8gPSBvbGRBY3RpdmVVc2VySW5mbztcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50VXNlciA9IG9sZEFjdGl2ZVVzZXI7XG4gICAgICAgICAgICAgICAgaWYgKGFzTGlua1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvID0gX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvLndpdGhBdXRoUHJvdmlkZXIobGlua2VkQXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlclR5cGUsIGxpbmtlZEF1dGhJbmZvLmxvZ2dlZEluUHJvdmlkZXJOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbGVhckFjdGl2ZVVzZXJBdXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLnByb2Nlc3NMb2dpblJlc3BvbnNlID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwsIHJlc3BvbnNlLCBhc0xpbmtSZXF1ZXN0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFNlcnZpY2VFcnJvcihcInRoZSBsb2dpbiByZXNwb25zZSBjb3VsZCBub3QgYmUgcHJvY2Vzc2VkIGZvciBjcmVkZW50aWFsOiBcIiArIGNyZWRlbnRpYWwgKyBcIjtcIiArXG4gICAgICAgICAgICAgICAgICAgIFwicmVzcG9uc2Ugd2FzIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hTZXJ2aWNlRXJyb3IoXCJyZXNwb25zZSB3aXRoIHN0YXR1cyBjb2RlIFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSArIFwiIGhhcyBlbXB0eSBib2R5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0xvZ2luKGNyZWRlbnRpYWwsIEFwaUF1dGhJbmZvLmZyb21KU09OKEpTT04ucGFyc2UocmVzcG9uc2UuYm9keSkpLCBhc0xpbmtSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVxdWVzdEVycm9yKGVyciwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZS5ERUNPRElOR19FUlJPUik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5kb0dldFVzZXJQcm9maWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hBdXRoUmVxdWVzdC5CdWlsZGVyKCk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aE1ldGhvZChNZXRob2QuR0VUKS53aXRoUGF0aCh0aGlzLmF1dGhSb3V0ZXMucHJvZmlsZVJvdXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIEFwaUNvcmVVc2VyUHJvZmlsZS5mcm9tSlNPTihKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHkpKTsgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgU3RpdGNoRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVxdWVzdEVycm9yKGVyciwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZS5ERUNPRElOR19FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmRvTG9nb3V0ID0gZnVuY3Rpb24gKGF1dGhJbmZvKSB7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhSZWZyZXNoVG9rZW4oKVxuICAgICAgICAgICAgLndpdGhQYXRoKHRoaXMuYXV0aFJvdXRlcy5zZXNzaW9uUm91dGUpXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuREVMRVRFKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCksIGF1dGhJbmZvKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuY2xlYXJBY3RpdmVVc2VyQXV0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyVXNlckF1dGhUb2tlbnModGhpcy5hY3RpdmVVc2VyQXV0aEluZm8udXNlcklkKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5jbGVhclVzZXJBdXRoVG9rZW5zID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICB2YXIgdW5jbGVhcmVkQXV0aEluZm8gPSB0aGlzLmFsbFVzZXJzQXV0aEluZm8uZ2V0KHVzZXJJZCk7XG4gICAgICAgIGlmICh1bmNsZWFyZWRBdXRoSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVVc2VyQXV0aEluZm8udXNlcklkICE9PSB1c2VySWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb3RGb3VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXVuY2xlYXJlZEF1dGhJbmZvLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGxvZ2dlZE91dFVzZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodW5jbGVhcmVkQXV0aEluZm8pIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9nZ2VkT3V0QXV0aEluZm8gPSB1bmNsZWFyZWRBdXRoSW5mby5sb2dnZWRPdXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbFVzZXJzQXV0aEluZm8uc2V0KHVzZXJJZCwgbG9nZ2VkT3V0QXV0aEluZm8pO1xuICAgICAgICAgICAgICAgIHdyaXRlQWxsVXNlcnNBdXRoSW5mb1RvU3RvcmFnZSh0aGlzLmFsbFVzZXJzQXV0aEluZm8sIHRoaXMuc3RvcmFnZSk7XG4gICAgICAgICAgICAgICAgbG9nZ2VkT3V0VXNlciA9IHRoaXMudXNlckZhY3RvcnkubWFrZVVzZXIobG9nZ2VkT3V0QXV0aEluZm8udXNlcklkLCBsb2dnZWRPdXRBdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkT3V0QXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlck5hbWUsIGxvZ2dlZE91dEF1dGhJbmZvLmlzTG9nZ2VkSW4sIGxvZ2dlZE91dEF1dGhJbmZvLmxhc3RBdXRoQWN0aXZpdHksIGxvZ2dlZE91dEF1dGhJbmZvLnVzZXJQcm9maWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3YXNBY3RpdmVVc2VyID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVVc2VyQXV0aEluZm8uaGFzVXNlciAmJiB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby51c2VySWQgPT09IHVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHdhc0FjdGl2ZVVzZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvID0gdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8ud2l0aENsZWFyZWRVc2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB3cml0ZUFjdGl2ZVVzZXJBdXRoSW5mb1RvU3RvcmFnZSh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbywgdGhpcy5zdG9yYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2dnZWRPdXRVc2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkF1dGhFdmVudCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hBdXRoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBBdXRoRXZlbnRLaW5kLlVzZXJMb2dnZWRPdXQsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlZE91dFVzZXI6IGxvZ2dlZE91dFVzZXIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHdhc0FjdGl2ZVVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWN0aXZlVXNlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQXV0aEV2ZW50S2luZC5BY3RpdmVVc2VyQ2hhbmdlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQWN0aXZlVXNlcjogbG9nZ2VkT3V0VXNlclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5Db3VsZE5vdFBlcnNpc3RBdXRoSW5mbyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb3JlU3RpdGNoQXV0aDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBDb3JlU3RpdGNoQXV0aDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVTdGl0Y2hBdXRoLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchAuth.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchUserImpl.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchUserImpl.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchUserProfileImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/StitchUserProfileImpl.js\");\n\nvar CoreStitchUserImpl = (function () {\n    function CoreStitchUserImpl(id, loggedInProviderType, loggedInProviderName, isLoggedIn, lastAuthActivity, profile, customData) {\n        this.id = id;\n        this.loggedInProviderType = loggedInProviderType;\n        this.loggedInProviderName = loggedInProviderName;\n        this.profile =\n            profile === undefined ? _StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"].empty() : profile;\n        this.isLoggedIn = isLoggedIn;\n        this.lastAuthActivity = lastAuthActivity;\n        this.customData = customData === undefined ? {} : customData;\n    }\n    Object.defineProperty(CoreStitchUserImpl.prototype, \"userType\", {\n        get: function () {\n            return this.profile.userType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CoreStitchUserImpl.prototype, \"identities\", {\n        get: function () {\n            return this.profile.identities;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CoreStitchUserImpl.prototype.equals = function (other) {\n        return this.id === other.id\n            && JSON.stringify(this.identities) === JSON.stringify(other.identities)\n            && this.isLoggedIn === other.isLoggedIn\n            && this.loggedInProviderName === other.loggedInProviderName\n            && this.loggedInProviderType === other.loggedInProviderType\n            && JSON.stringify(this.profile) === JSON.stringify(other.profile);\n    };\n    return CoreStitchUserImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreStitchUserImpl);\n//# sourceMappingURL=CoreStitchUserImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQ29yZVN0aXRjaFVzZXJJbXBsLmpzPzE3YWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsOERBQXFCO0FBQ3pEO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9Db3JlU3RpdGNoVXNlckltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RpdGNoVXNlclByb2ZpbGVJbXBsIGZyb20gXCIuL1N0aXRjaFVzZXJQcm9maWxlSW1wbFwiO1xudmFyIENvcmVTdGl0Y2hVc2VySW1wbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29yZVN0aXRjaFVzZXJJbXBsKGlkLCBsb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkSW5Qcm92aWRlck5hbWUsIGlzTG9nZ2VkSW4sIGxhc3RBdXRoQWN0aXZpdHksIHByb2ZpbGUsIGN1c3RvbURhdGEpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmxvZ2dlZEluUHJvdmlkZXJUeXBlID0gbG9nZ2VkSW5Qcm92aWRlclR5cGU7XG4gICAgICAgIHRoaXMubG9nZ2VkSW5Qcm92aWRlck5hbWUgPSBsb2dnZWRJblByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5wcm9maWxlID1cbiAgICAgICAgICAgIHByb2ZpbGUgPT09IHVuZGVmaW5lZCA/IFN0aXRjaFVzZXJQcm9maWxlSW1wbC5lbXB0eSgpIDogcHJvZmlsZTtcbiAgICAgICAgdGhpcy5pc0xvZ2dlZEluID0gaXNMb2dnZWRJbjtcbiAgICAgICAgdGhpcy5sYXN0QXV0aEFjdGl2aXR5ID0gbGFzdEF1dGhBY3Rpdml0eTtcbiAgICAgICAgdGhpcy5jdXN0b21EYXRhID0gY3VzdG9tRGF0YSA9PT0gdW5kZWZpbmVkID8ge30gOiBjdXN0b21EYXRhO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yZVN0aXRjaFVzZXJJbXBsLnByb3RvdHlwZSwgXCJ1c2VyVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvZmlsZS51c2VyVHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcmVTdGl0Y2hVc2VySW1wbC5wcm90b3R5cGUsIFwiaWRlbnRpdGllc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvZmlsZS5pZGVudGl0aWVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDb3JlU3RpdGNoVXNlckltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pZCA9PT0gb3RoZXIuaWRcbiAgICAgICAgICAgICYmIEpTT04uc3RyaW5naWZ5KHRoaXMuaWRlbnRpdGllcykgPT09IEpTT04uc3RyaW5naWZ5KG90aGVyLmlkZW50aXRpZXMpXG4gICAgICAgICAgICAmJiB0aGlzLmlzTG9nZ2VkSW4gPT09IG90aGVyLmlzTG9nZ2VkSW5cbiAgICAgICAgICAgICYmIHRoaXMubG9nZ2VkSW5Qcm92aWRlck5hbWUgPT09IG90aGVyLmxvZ2dlZEluUHJvdmlkZXJOYW1lXG4gICAgICAgICAgICAmJiB0aGlzLmxvZ2dlZEluUHJvdmlkZXJUeXBlID09PSBvdGhlci5sb2dnZWRJblByb3ZpZGVyVHlwZVxuICAgICAgICAgICAgJiYgSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9maWxlKSA9PT0gSlNPTi5zdHJpbmdpZnkob3RoZXIucHJvZmlsZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVN0aXRjaFVzZXJJbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVTdGl0Y2hVc2VySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVTdGl0Y2hVc2VySW1wbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchUserImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/DeviceFields.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/DeviceFields.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar DeviceFields;\n(function (DeviceFields) {\n    DeviceFields[\"DEVICE_ID\"] = \"deviceId\";\n    DeviceFields[\"APP_ID\"] = \"appId\";\n    DeviceFields[\"APP_VERSION\"] = \"appVersion\";\n    DeviceFields[\"PLATFORM\"] = \"platform\";\n    DeviceFields[\"PLATFORM_VERSION\"] = \"platformVersion\";\n    DeviceFields[\"SDK_VERSION\"] = \"sdkVersion\";\n})(DeviceFields || (DeviceFields = {}));\n/* harmony default export */ __webpack_exports__[\"default\"] = (DeviceFields);\n//# sourceMappingURL=DeviceFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvRGV2aWNlRmllbGRzLmpzP2EwY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDdEIsMkVBQVksRUFBQztBQUM1QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL0RldmljZUZpZWxkcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBEZXZpY2VGaWVsZHM7XG4oZnVuY3Rpb24gKERldmljZUZpZWxkcykge1xuICAgIERldmljZUZpZWxkc1tcIkRFVklDRV9JRFwiXSA9IFwiZGV2aWNlSWRcIjtcbiAgICBEZXZpY2VGaWVsZHNbXCJBUFBfSURcIl0gPSBcImFwcElkXCI7XG4gICAgRGV2aWNlRmllbGRzW1wiQVBQX1ZFUlNJT05cIl0gPSBcImFwcFZlcnNpb25cIjtcbiAgICBEZXZpY2VGaWVsZHNbXCJQTEFURk9STVwiXSA9IFwicGxhdGZvcm1cIjtcbiAgICBEZXZpY2VGaWVsZHNbXCJQTEFURk9STV9WRVJTSU9OXCJdID0gXCJwbGF0Zm9ybVZlcnNpb25cIjtcbiAgICBEZXZpY2VGaWVsZHNbXCJTREtfVkVSU0lPTlwiXSA9IFwic2RrVmVyc2lvblwiO1xufSkoRGV2aWNlRmllbGRzIHx8IChEZXZpY2VGaWVsZHMgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgRGV2aWNlRmllbGRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGV2aWNlRmllbGRzLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/DeviceFields.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/JWT.js":
/*!****************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/JWT.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_common_Base64__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../internal/common/Base64 */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Base64.js\");\n\nvar EXPIRES = \"exp\";\nvar ISSUED_AT = \"iat\";\nvar USER_DATA = \"user_data\";\nvar JWT = (function () {\n    function JWT(expires, issuedAt, userData) {\n        this.expires = expires;\n        this.issuedAt = issuedAt;\n        this.userData = userData;\n    }\n    JWT.fromEncoded = function (encodedJWT) {\n        var parts = JWT.splitToken(encodedJWT);\n        var json = JSON.parse(Object(_internal_common_Base64__WEBPACK_IMPORTED_MODULE_0__[\"base64Decode\"])(parts[1]));\n        var expires = json[EXPIRES];\n        var iat = json[ISSUED_AT];\n        var userData = json[USER_DATA];\n        return new JWT(expires, iat, userData);\n    };\n    JWT.splitToken = function (jwt) {\n        var parts = jwt.split(\".\");\n        if (parts.length !== 3) {\n            throw new Error(\"Malformed JWT token. The string \" + jwt + \" should have 3 parts.\");\n        }\n        return parts;\n    };\n    return JWT;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (JWT);\n//# sourceMappingURL=JWT.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvSldULmpzP2YwZGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDRFQUFZO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLGtFQUFHLEVBQUM7QUFDbkIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9KV1QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBiYXNlNjREZWNvZGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvY29tbW9uL0Jhc2U2NFwiO1xudmFyIEVYUElSRVMgPSBcImV4cFwiO1xudmFyIElTU1VFRF9BVCA9IFwiaWF0XCI7XG52YXIgVVNFUl9EQVRBID0gXCJ1c2VyX2RhdGFcIjtcbnZhciBKV1QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpXVChleHBpcmVzLCBpc3N1ZWRBdCwgdXNlckRhdGEpIHtcbiAgICAgICAgdGhpcy5leHBpcmVzID0gZXhwaXJlcztcbiAgICAgICAgdGhpcy5pc3N1ZWRBdCA9IGlzc3VlZEF0O1xuICAgICAgICB0aGlzLnVzZXJEYXRhID0gdXNlckRhdGE7XG4gICAgfVxuICAgIEpXVC5mcm9tRW5jb2RlZCA9IGZ1bmN0aW9uIChlbmNvZGVkSldUKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IEpXVC5zcGxpdFRva2VuKGVuY29kZWRKV1QpO1xuICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoYmFzZTY0RGVjb2RlKHBhcnRzWzFdKSk7XG4gICAgICAgIHZhciBleHBpcmVzID0ganNvbltFWFBJUkVTXTtcbiAgICAgICAgdmFyIGlhdCA9IGpzb25bSVNTVUVEX0FUXTtcbiAgICAgICAgdmFyIHVzZXJEYXRhID0ganNvbltVU0VSX0RBVEFdO1xuICAgICAgICByZXR1cm4gbmV3IEpXVChleHBpcmVzLCBpYXQsIHVzZXJEYXRhKTtcbiAgICB9O1xuICAgIEpXVC5zcGxpdFRva2VuID0gZnVuY3Rpb24gKGp3dCkge1xuICAgICAgICB2YXIgcGFydHMgPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgSldUIHRva2VuLiBUaGUgc3RyaW5nIFwiICsgand0ICsgXCIgc2hvdWxkIGhhdmUgMyBwYXJ0cy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH07XG4gICAgcmV0dXJuIEpXVDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBKV1Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1KV1QuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/JWT.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/StitchUserProfileImpl.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/StitchUserProfileImpl.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar NAME = \"name\";\nvar EMAIL = \"email\";\nvar PICTURE_URL = \"picture\";\nvar FIRST_NAME = \"first_name\";\nvar LAST_NAME = \"last_name\";\nvar GENDER = \"gender\";\nvar BIRTHDAY = \"birthday\";\nvar MIN_AGE = \"min_age\";\nvar MAX_AGE = \"max_age\";\nvar StitchUserProfileImpl = (function () {\n    function StitchUserProfileImpl(userType, data, identities) {\n        if (data === void 0) { data = {}; }\n        if (identities === void 0) { identities = []; }\n        this.userType = userType;\n        this.data = data;\n        this.identities = identities;\n    }\n    StitchUserProfileImpl.empty = function () {\n        return new StitchUserProfileImpl();\n    };\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"name\", {\n        get: function () {\n            return this.data[NAME];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"email\", {\n        get: function () {\n            return this.data[EMAIL];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"pictureUrl\", {\n        get: function () {\n            return this.data[PICTURE_URL];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"firstName\", {\n        get: function () {\n            return this.data[FIRST_NAME];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"lastName\", {\n        get: function () {\n            return this.data[LAST_NAME];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"gender\", {\n        get: function () {\n            return this.data[GENDER];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"birthday\", {\n        get: function () {\n            return this.data[BIRTHDAY];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"minAge\", {\n        get: function () {\n            var age = this.data[MIN_AGE];\n            if (age === undefined) {\n                return undefined;\n            }\n            return age;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StitchUserProfileImpl.prototype, \"maxAge\", {\n        get: function () {\n            var age = this.data[MAX_AGE];\n            if (age === undefined) {\n                return undefined;\n            }\n            return age;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StitchUserProfileImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchUserProfileImpl);\n//# sourceMappingURL=StitchUserProfileImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvU3RpdGNoVXNlclByb2ZpbGVJbXBsLmpzPzQ3MmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFdBQVc7QUFDekMsb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDYyxvRkFBcUIsRUFBQztBQUNyQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL1N0aXRjaFVzZXJQcm9maWxlSW1wbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBOQU1FID0gXCJuYW1lXCI7XG52YXIgRU1BSUwgPSBcImVtYWlsXCI7XG52YXIgUElDVFVSRV9VUkwgPSBcInBpY3R1cmVcIjtcbnZhciBGSVJTVF9OQU1FID0gXCJmaXJzdF9uYW1lXCI7XG52YXIgTEFTVF9OQU1FID0gXCJsYXN0X25hbWVcIjtcbnZhciBHRU5ERVIgPSBcImdlbmRlclwiO1xudmFyIEJJUlRIREFZID0gXCJiaXJ0aGRheVwiO1xudmFyIE1JTl9BR0UgPSBcIm1pbl9hZ2VcIjtcbnZhciBNQVhfQUdFID0gXCJtYXhfYWdlXCI7XG52YXIgU3RpdGNoVXNlclByb2ZpbGVJbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hVc2VyUHJvZmlsZUltcGwodXNlclR5cGUsIGRhdGEsIGlkZW50aXRpZXMpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IHZvaWQgMCkgeyBkYXRhID0ge307IH1cbiAgICAgICAgaWYgKGlkZW50aXRpZXMgPT09IHZvaWQgMCkgeyBpZGVudGl0aWVzID0gW107IH1cbiAgICAgICAgdGhpcy51c2VyVHlwZSA9IHVzZXJUeXBlO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmlkZW50aXRpZXMgPSBpZGVudGl0aWVzO1xuICAgIH1cbiAgICBTdGl0Y2hVc2VyUHJvZmlsZUltcGwuZW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RpdGNoVXNlclByb2ZpbGVJbXBsKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoVXNlclByb2ZpbGVJbXBsLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW05BTUVdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoVXNlclByb2ZpbGVJbXBsLnByb3RvdHlwZSwgXCJlbWFpbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtFTUFJTF07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcInBpY3R1cmVVcmxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbUElDVFVSRV9VUkxdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoVXNlclByb2ZpbGVJbXBsLnByb3RvdHlwZSwgXCJmaXJzdE5hbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbRklSU1RfTkFNRV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcImxhc3ROYW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW0xBU1RfTkFNRV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcImdlbmRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtHRU5ERVJdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoVXNlclByb2ZpbGVJbXBsLnByb3RvdHlwZSwgXCJiaXJ0aGRheVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtCSVJUSERBWV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcIm1pbkFnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFnZSA9IHRoaXMuZGF0YVtNSU5fQUdFXTtcbiAgICAgICAgICAgIGlmIChhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWdlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoVXNlclByb2ZpbGVJbXBsLnByb3RvdHlwZSwgXCJtYXhBZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhZ2UgPSB0aGlzLmRhdGFbTUFYX0FHRV07XG4gICAgICAgICAgICBpZiAoYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFnZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFN0aXRjaFVzZXJQcm9maWxlSW1wbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hVc2VyUHJvZmlsZUltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hVc2VyUHJvZmlsZUltcGwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/StitchUserProfileImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiAuthInfo.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiAuthInfo.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _AuthInfo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AuthInfo */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthInfo.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar Fields;\n(function (Fields) {\n    Fields[\"USER_ID\"] = \"user_id\";\n    Fields[\"DEVICE_ID\"] = \"device_id\";\n    Fields[\"ACCESS_TOKEN\"] = \"access_token\";\n    Fields[\"REFRESH_TOKEN\"] = \"refresh_token\";\n})(Fields || (Fields = {}));\nvar ApiAuthInfo = (function (_super) {\n    __extends(ApiAuthInfo, _super);\n    function ApiAuthInfo(userId, deviceId, accessToken, refreshToken) {\n        return _super.call(this, userId, deviceId, accessToken, refreshToken) || this;\n    }\n    ApiAuthInfo.fromJSON = function (json) {\n        return new ApiAuthInfo(json[Fields.USER_ID], json[Fields.DEVICE_ID], json[Fields.ACCESS_TOKEN], json[Fields.REFRESH_TOKEN]);\n    };\n    ApiAuthInfo.prototype.toJSON = function () {\n        var _a;\n        return _a = {},\n            _a[Fields.USER_ID] = this.userId,\n            _a[Fields.DEVICE_ID] = this.deviceId,\n            _a[Fields.ACCESS_TOKEN] = this.accessToken,\n            _a[Fields.REFRESH_TOKEN] = this.refreshToken,\n            _a;\n    };\n    return ApiAuthInfo;\n}(_AuthInfo__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ApiAuthInfo);\n//# sourceMappingURL=ApiAuthInfo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL0FwaUF1dGhJbmZvLmpzPzI2YzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ2tDO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGlEQUFRO0FBQ0ssMEVBQVcsRUFBQztBQUMzQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL21vZGVscy9BcGlBdXRoSW5mby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEF1dGhJbmZvIGZyb20gXCIuLi9BdXRoSW5mb1wiO1xudmFyIEZpZWxkcztcbihmdW5jdGlvbiAoRmllbGRzKSB7XG4gICAgRmllbGRzW1wiVVNFUl9JRFwiXSA9IFwidXNlcl9pZFwiO1xuICAgIEZpZWxkc1tcIkRFVklDRV9JRFwiXSA9IFwiZGV2aWNlX2lkXCI7XG4gICAgRmllbGRzW1wiQUNDRVNTX1RPS0VOXCJdID0gXCJhY2Nlc3NfdG9rZW5cIjtcbiAgICBGaWVsZHNbXCJSRUZSRVNIX1RPS0VOXCJdID0gXCJyZWZyZXNoX3Rva2VuXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgQXBpQXV0aEluZm8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcGlBdXRoSW5mbywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcGlBdXRoSW5mbyh1c2VySWQsIGRldmljZUlkLCBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB1c2VySWQsIGRldmljZUlkLCBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBcGlBdXRoSW5mby5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXBpQXV0aEluZm8oanNvbltGaWVsZHMuVVNFUl9JRF0sIGpzb25bRmllbGRzLkRFVklDRV9JRF0sIGpzb25bRmllbGRzLkFDQ0VTU19UT0tFTl0sIGpzb25bRmllbGRzLlJFRlJFU0hfVE9LRU5dKTtcbiAgICB9O1xuICAgIEFwaUF1dGhJbmZvLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9hID0ge30sXG4gICAgICAgICAgICBfYVtGaWVsZHMuVVNFUl9JRF0gPSB0aGlzLnVzZXJJZCxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5ERVZJQ0VfSURdID0gdGhpcy5kZXZpY2VJZCxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5BQ0NFU1NfVE9LRU5dID0gdGhpcy5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5SRUZSRVNIX1RPS0VOXSA9IHRoaXMucmVmcmVzaFRva2VuLFxuICAgICAgICAgICAgX2E7XG4gICAgfTtcbiAgICByZXR1cm4gQXBpQXV0aEluZm87XG59KEF1dGhJbmZvKSk7XG5leHBvcnQgZGVmYXVsdCBBcGlBdXRoSW5mbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwaUF1dGhJbmZvLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiAuthInfo.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiCoreUserProfile.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiCoreUserProfile.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../internal/common/Assertions */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Assertions.js\");\n/* harmony import */ var _StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../StitchUserProfileImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/StitchUserProfileImpl.js\");\n/* harmony import */ var _ApiStitchUserIdentity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ApiStitchUserIdentity */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiStitchUserIdentity.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"DATA\"] = \"data\";\n    Fields[\"USER_TYPE\"] = \"type\";\n    Fields[\"IDENTITIES\"] = \"identities\";\n})(Fields || (Fields = {}));\nvar ApiCoreUserProfile = (function (_super) {\n    __extends(ApiCoreUserProfile, _super);\n    function ApiCoreUserProfile(userType, data, identities) {\n        return _super.call(this, userType, data, identities) || this;\n    }\n    ApiCoreUserProfile.fromJSON = function (json) {\n        _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyPresent(Fields.USER_TYPE, json);\n        _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyPresent(Fields.DATA, json);\n        _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyPresent(Fields.IDENTITIES, json);\n        return new ApiCoreUserProfile(json[Fields.USER_TYPE], json[Fields.DATA], json[Fields.IDENTITIES].map(_ApiStitchUserIdentity__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromJSON));\n    };\n    ApiCoreUserProfile.prototype.toJSON = function () {\n        var _a;\n        return _a = {},\n            _a[Fields.DATA] = this.data,\n            _a[Fields.USER_TYPE] = this.userType,\n            _a[Fields.IDENTITIES] = this.identities,\n            _a;\n    };\n    return ApiCoreUserProfile;\n}(_StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ApiCoreUserProfile);\n//# sourceMappingURL=ApiCoreUserProfile.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL0FwaUNvcmVVc2VyUHJvZmlsZS5qcz9lZjE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDNEQ7QUFDQTtBQUNEO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFVO0FBQ2xCLFFBQVEsbUVBQVU7QUFDbEIsUUFBUSxtRUFBVTtBQUNsQiw2R0FBNkcsOERBQXFCO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsOERBQXFCO0FBQ1IsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9tb2RlbHMvQXBpQ29yZVVzZXJQcm9maWxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgQXNzZXJ0aW9ucyBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvY29tbW9uL0Fzc2VydGlvbnNcIjtcbmltcG9ydCBTdGl0Y2hVc2VyUHJvZmlsZUltcGwgZnJvbSBcIi4uL1N0aXRjaFVzZXJQcm9maWxlSW1wbFwiO1xuaW1wb3J0IEFwaVN0aXRjaFVzZXJJZGVudGl0eSBmcm9tIFwiLi9BcGlTdGl0Y2hVc2VySWRlbnRpdHlcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIkRBVEFcIl0gPSBcImRhdGFcIjtcbiAgICBGaWVsZHNbXCJVU0VSX1RZUEVcIl0gPSBcInR5cGVcIjtcbiAgICBGaWVsZHNbXCJJREVOVElUSUVTXCJdID0gXCJpZGVudGl0aWVzXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgQXBpQ29yZVVzZXJQcm9maWxlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXBpQ29yZVVzZXJQcm9maWxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFwaUNvcmVVc2VyUHJvZmlsZSh1c2VyVHlwZSwgZGF0YSwgaWRlbnRpdGllcykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdXNlclR5cGUsIGRhdGEsIGlkZW50aXRpZXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFwaUNvcmVVc2VyUHJvZmlsZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChGaWVsZHMuVVNFUl9UWVBFLCBqc29uKTtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KEZpZWxkcy5EQVRBLCBqc29uKTtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KEZpZWxkcy5JREVOVElUSUVTLCBqc29uKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBcGlDb3JlVXNlclByb2ZpbGUoanNvbltGaWVsZHMuVVNFUl9UWVBFXSwganNvbltGaWVsZHMuREFUQV0sIGpzb25bRmllbGRzLklERU5USVRJRVNdLm1hcChBcGlTdGl0Y2hVc2VySWRlbnRpdHkuZnJvbUpTT04pKTtcbiAgICB9O1xuICAgIEFwaUNvcmVVc2VyUHJvZmlsZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRmllbGRzLkRBVEFdID0gdGhpcy5kYXRhLFxuICAgICAgICAgICAgX2FbRmllbGRzLlVTRVJfVFlQRV0gPSB0aGlzLnVzZXJUeXBlLFxuICAgICAgICAgICAgX2FbRmllbGRzLklERU5USVRJRVNdID0gdGhpcy5pZGVudGl0aWVzLFxuICAgICAgICAgICAgX2E7XG4gICAgfTtcbiAgICByZXR1cm4gQXBpQ29yZVVzZXJQcm9maWxlO1xufShTdGl0Y2hVc2VyUHJvZmlsZUltcGwpKTtcbmV4cG9ydCBkZWZhdWx0IEFwaUNvcmVVc2VyUHJvZmlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwaUNvcmVVc2VyUHJvZmlsZS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiCoreUserProfile.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiStitchUserIdentity.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiStitchUserIdentity.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchUserIdentity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../StitchUserIdentity */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/StitchUserIdentity.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar Fields;\n(function (Fields) {\n    Fields[\"ID\"] = \"id\";\n    Fields[\"PROVIDER_TYPE\"] = \"provider_type\";\n})(Fields || (Fields = {}));\nvar ApiStitchUserIdentity = (function (_super) {\n    __extends(ApiStitchUserIdentity, _super);\n    function ApiStitchUserIdentity(id, providerType) {\n        return _super.call(this, id, providerType) || this;\n    }\n    ApiStitchUserIdentity.fromJSON = function (json) {\n        return new ApiStitchUserIdentity(json[Fields.ID], json[Fields.PROVIDER_TYPE]);\n    };\n    ApiStitchUserIdentity.prototype.toJSON = function () {\n        var _a;\n        return _a = {},\n            _a[Fields.ID] = this.id,\n            _a[Fields.PROVIDER_TYPE] = this.providerType,\n            _a;\n    };\n    return ApiStitchUserIdentity;\n}(_StitchUserIdentity__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ApiStitchUserIdentity);\n//# sourceMappingURL=ApiStitchUserIdentity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL0FwaVN0aXRjaFVzZXJJZGVudGl0eS5qcz8zNjdmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUN5RDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsMkRBQWtCO0FBQ0wsb0ZBQXFCLEVBQUM7QUFDckMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9tb2RlbHMvQXBpU3RpdGNoVXNlcklkZW50aXR5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RpdGNoVXNlcklkZW50aXR5IGZyb20gXCIuLi8uLi9TdGl0Y2hVc2VySWRlbnRpdHlcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIklEXCJdID0gXCJpZFwiO1xuICAgIEZpZWxkc1tcIlBST1ZJREVSX1RZUEVcIl0gPSBcInByb3ZpZGVyX3R5cGVcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbnZhciBBcGlTdGl0Y2hVc2VySWRlbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcGlTdGl0Y2hVc2VySWRlbnRpdHksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXBpU3RpdGNoVXNlcklkZW50aXR5KGlkLCBwcm92aWRlclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGlkLCBwcm92aWRlclR5cGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFwaVN0aXRjaFVzZXJJZGVudGl0eS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXBpU3RpdGNoVXNlcklkZW50aXR5KGpzb25bRmllbGRzLklEXSwganNvbltGaWVsZHMuUFJPVklERVJfVFlQRV0pO1xuICAgIH07XG4gICAgQXBpU3RpdGNoVXNlcklkZW50aXR5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9hID0ge30sXG4gICAgICAgICAgICBfYVtGaWVsZHMuSURdID0gdGhpcy5pZCxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5QUk9WSURFUl9UWVBFXSA9IHRoaXMucHJvdmlkZXJUeXBlLFxuICAgICAgICAgICAgX2E7XG4gICAgfTtcbiAgICByZXR1cm4gQXBpU3RpdGNoVXNlcklkZW50aXR5O1xufShTdGl0Y2hVc2VySWRlbnRpdHkpKTtcbmV4cG9ydCBkZWZhdWx0IEFwaVN0aXRjaFVzZXJJZGVudGl0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwaVN0aXRjaFVzZXJJZGVudGl0eS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiStitchUserIdentity.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreAuthInfo.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreAuthInfo.js ***!
  \*********************************************************************************************/
/*! exports provided: StoreAuthInfo, readActiveUserFromStorage, readCurrentUsersFromStorage, writeActiveUserAuthInfoToStorage, writeAllUsersAuthInfoToStorage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StoreAuthInfo\", function() { return StoreAuthInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"readActiveUserFromStorage\", function() { return readActiveUserFromStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"readCurrentUsersFromStorage\", function() { return readCurrentUsersFromStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"writeActiveUserAuthInfoToStorage\", function() { return writeActiveUserAuthInfoToStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"writeAllUsersAuthInfoToStorage\", function() { return writeAllUsersAuthInfoToStorage; });\n/* harmony import */ var _StitchClientError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../StitchClientError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientError.js\");\n/* harmony import */ var _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../StitchClientErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientErrorCode.js\");\n/* harmony import */ var _AuthInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../AuthInfo */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthInfo.js\");\n/* harmony import */ var _StoreCoreUserProfile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StoreCoreUserProfile */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreCoreUserProfile.js\");\n/* harmony import */ var _StoreStitchUserIdentity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StoreStitchUserIdentity */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreStitchUserIdentity.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"USER_ID\"] = \"user_id\";\n    Fields[\"DEVICE_ID\"] = \"device_id\";\n    Fields[\"ACCESS_TOKEN\"] = \"access_token\";\n    Fields[\"REFRESH_TOKEN\"] = \"refresh_token\";\n    Fields[\"LAST_AUTH_ACTIVITY\"] = \"last_auth_activity\";\n    Fields[\"LOGGED_IN_PROVIDER_TYPE\"] = \"logged_in_provider_type\";\n    Fields[\"LOGGED_IN_PROVIDER_NAME\"] = \"logged_in_provider_name\";\n    Fields[\"USER_PROFILE\"] = \"user_profile\";\n})(Fields || (Fields = {}));\nfunction readActiveUserFromStorage(storage) {\n    var rawInfo = storage.get(StoreAuthInfo.ACTIVE_USER_STORAGE_NAME);\n    if (!rawInfo) {\n        return undefined;\n    }\n    return StoreAuthInfo.decode(JSON.parse(rawInfo));\n}\nfunction readCurrentUsersFromStorage(storage) {\n    var rawInfo = storage.get(StoreAuthInfo.ALL_USERS_STORAGE_NAME);\n    if (!rawInfo) {\n        return new Map();\n    }\n    var rawArray = JSON.parse(rawInfo);\n    if (!Array.isArray(rawArray)) {\n        throw new _StitchClientError__WEBPACK_IMPORTED_MODULE_0__[\"default\"](_StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_1__[\"StitchClientErrorCode\"].CouldNotLoadPersistedAuthInfo);\n    }\n    var userIdToAuthInfoMap = new Map();\n    rawArray.forEach(function (rawEntry) {\n        var authInfo = StoreAuthInfo.decode(rawEntry);\n        userIdToAuthInfoMap.set(authInfo.userId, authInfo);\n    });\n    return userIdToAuthInfoMap;\n}\nfunction writeActiveUserAuthInfoToStorage(authInfo, storage) {\n    if (authInfo.isEmpty) {\n        storage.remove(StoreAuthInfo.ACTIVE_USER_STORAGE_NAME);\n        return;\n    }\n    var info = new StoreAuthInfo(authInfo.userId, authInfo.deviceId, authInfo.accessToken, authInfo.refreshToken, authInfo.loggedInProviderType, authInfo.loggedInProviderName, authInfo.lastAuthActivity, authInfo.userProfile\n        ? new _StoreCoreUserProfile__WEBPACK_IMPORTED_MODULE_3__[\"default\"](authInfo.userProfile.userType, authInfo.userProfile.data, authInfo.userProfile.identities.map(function (identity) {\n            return new _StoreStitchUserIdentity__WEBPACK_IMPORTED_MODULE_4__[\"default\"](identity.id, identity.providerType);\n        }))\n        : undefined);\n    storage.set(StoreAuthInfo.ACTIVE_USER_STORAGE_NAME, JSON.stringify(info.encode()));\n}\nfunction writeAllUsersAuthInfoToStorage(currentUsersAuthInfo, storage) {\n    var encodedStoreInfos = [];\n    currentUsersAuthInfo.forEach(function (authInfo, userId) {\n        var storeInfo = new StoreAuthInfo(userId, authInfo.deviceId, authInfo.accessToken, authInfo.refreshToken, authInfo.loggedInProviderType, authInfo.loggedInProviderName, authInfo.lastAuthActivity, authInfo.userProfile\n            ? new _StoreCoreUserProfile__WEBPACK_IMPORTED_MODULE_3__[\"default\"](authInfo.userProfile.userType, authInfo.userProfile.data, authInfo.userProfile.identities.map(function (identity) {\n                return new _StoreStitchUserIdentity__WEBPACK_IMPORTED_MODULE_4__[\"default\"](identity.id, identity.providerType);\n            }))\n            : undefined);\n        encodedStoreInfos.push(storeInfo.encode());\n    });\n    storage.set(StoreAuthInfo.ALL_USERS_STORAGE_NAME, JSON.stringify(encodedStoreInfos));\n}\nvar StoreAuthInfo = (function (_super) {\n    __extends(StoreAuthInfo, _super);\n    function StoreAuthInfo(userId, deviceId, accessToken, refreshToken, loggedInProviderType, loggedInProviderName, lastAuthActivity, userProfile) {\n        var _this = _super.call(this, userId, deviceId, accessToken, refreshToken, loggedInProviderType, loggedInProviderName, lastAuthActivity, userProfile) || this;\n        _this.userProfile = userProfile;\n        return _this;\n    }\n    StoreAuthInfo.decode = function (from) {\n        var userId = from[Fields.USER_ID];\n        var deviceId = from[Fields.DEVICE_ID];\n        var accessToken = from[Fields.ACCESS_TOKEN];\n        var refreshToken = from[Fields.REFRESH_TOKEN];\n        var loggedInProviderType = from[Fields.LOGGED_IN_PROVIDER_TYPE];\n        var loggedInProviderName = from[Fields.LOGGED_IN_PROVIDER_NAME];\n        var userProfile = from[Fields.USER_PROFILE];\n        var lastAuthActivityMillisSinceEpoch = from[Fields.LAST_AUTH_ACTIVITY];\n        return new StoreAuthInfo(userId, deviceId, accessToken, refreshToken, loggedInProviderType, loggedInProviderName, new Date(lastAuthActivityMillisSinceEpoch), _StoreCoreUserProfile__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(userProfile));\n    };\n    StoreAuthInfo.prototype.encode = function () {\n        var to = {};\n        to[Fields.USER_ID] = this.userId;\n        to[Fields.ACCESS_TOKEN] = this.accessToken;\n        to[Fields.REFRESH_TOKEN] = this.refreshToken;\n        to[Fields.DEVICE_ID] = this.deviceId;\n        to[Fields.LOGGED_IN_PROVIDER_NAME] = this.loggedInProviderName;\n        to[Fields.LOGGED_IN_PROVIDER_TYPE] = this.loggedInProviderType;\n        to[Fields.LAST_AUTH_ACTIVITY] = this.lastAuthActivity\n            ? this.lastAuthActivity.getTime()\n            : undefined;\n        to[Fields.USER_PROFILE] = this.userProfile\n            ? this.userProfile.encode()\n            : undefined;\n        return to;\n    };\n    StoreAuthInfo.ACTIVE_USER_STORAGE_NAME = \"auth_info\";\n    StoreAuthInfo.ALL_USERS_STORAGE_NAME = \"all_auth_infos\";\n    return StoreAuthInfo;\n}(_AuthInfo__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n\n//# sourceMappingURL=StoreAuthInfo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL1N0b3JlQXV0aEluZm8uanM/OWFkNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDMEQ7QUFDWTtBQUNwQztBQUN1QjtBQUNNO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwREFBaUIsQ0FBQyw0RUFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2REFBb0I7QUFDbEMsdUJBQXVCLGdFQUF1QjtBQUM5QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQW9CO0FBQ3RDLDJCQUEyQixnRUFBdUI7QUFDbEQsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0tBQXNLLDZEQUFvQjtBQUMxTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGlEQUFRO0FBQ3lJO0FBQ25KIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL1N0b3JlQXV0aEluZm8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBTdGl0Y2hDbGllbnRFcnJvciBmcm9tIFwiLi4vLi4vLi4vU3RpdGNoQ2xpZW50RXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaENsaWVudEVycm9yQ29kZSB9IGZyb20gXCIuLi8uLi8uLi9TdGl0Y2hDbGllbnRFcnJvckNvZGVcIjtcbmltcG9ydCBBdXRoSW5mbyBmcm9tIFwiLi4vQXV0aEluZm9cIjtcbmltcG9ydCBTdG9yZUNvcmVVc2VyUHJvZmlsZSBmcm9tIFwiLi9TdG9yZUNvcmVVc2VyUHJvZmlsZVwiO1xuaW1wb3J0IFN0b3JlU3RpdGNoVXNlcklkZW50aXR5IGZyb20gXCIuL1N0b3JlU3RpdGNoVXNlcklkZW50aXR5XCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJVU0VSX0lEXCJdID0gXCJ1c2VyX2lkXCI7XG4gICAgRmllbGRzW1wiREVWSUNFX0lEXCJdID0gXCJkZXZpY2VfaWRcIjtcbiAgICBGaWVsZHNbXCJBQ0NFU1NfVE9LRU5cIl0gPSBcImFjY2Vzc190b2tlblwiO1xuICAgIEZpZWxkc1tcIlJFRlJFU0hfVE9LRU5cIl0gPSBcInJlZnJlc2hfdG9rZW5cIjtcbiAgICBGaWVsZHNbXCJMQVNUX0FVVEhfQUNUSVZJVFlcIl0gPSBcImxhc3RfYXV0aF9hY3Rpdml0eVwiO1xuICAgIEZpZWxkc1tcIkxPR0dFRF9JTl9QUk9WSURFUl9UWVBFXCJdID0gXCJsb2dnZWRfaW5fcHJvdmlkZXJfdHlwZVwiO1xuICAgIEZpZWxkc1tcIkxPR0dFRF9JTl9QUk9WSURFUl9OQU1FXCJdID0gXCJsb2dnZWRfaW5fcHJvdmlkZXJfbmFtZVwiO1xuICAgIEZpZWxkc1tcIlVTRVJfUFJPRklMRVwiXSA9IFwidXNlcl9wcm9maWxlXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG5mdW5jdGlvbiByZWFkQWN0aXZlVXNlckZyb21TdG9yYWdlKHN0b3JhZ2UpIHtcbiAgICB2YXIgcmF3SW5mbyA9IHN0b3JhZ2UuZ2V0KFN0b3JlQXV0aEluZm8uQUNUSVZFX1VTRVJfU1RPUkFHRV9OQU1FKTtcbiAgICBpZiAoIXJhd0luZm8pIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIFN0b3JlQXV0aEluZm8uZGVjb2RlKEpTT04ucGFyc2UocmF3SW5mbykpO1xufVxuZnVuY3Rpb24gcmVhZEN1cnJlbnRVc2Vyc0Zyb21TdG9yYWdlKHN0b3JhZ2UpIHtcbiAgICB2YXIgcmF3SW5mbyA9IHN0b3JhZ2UuZ2V0KFN0b3JlQXV0aEluZm8uQUxMX1VTRVJTX1NUT1JBR0VfTkFNRSk7XG4gICAgaWYgKCFyYXdJbmZvKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHZhciByYXdBcnJheSA9IEpTT04ucGFyc2UocmF3SW5mbyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJhd0FycmF5KSkge1xuICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkNvdWxkTm90TG9hZFBlcnNpc3RlZEF1dGhJbmZvKTtcbiAgICB9XG4gICAgdmFyIHVzZXJJZFRvQXV0aEluZm9NYXAgPSBuZXcgTWFwKCk7XG4gICAgcmF3QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocmF3RW50cnkpIHtcbiAgICAgICAgdmFyIGF1dGhJbmZvID0gU3RvcmVBdXRoSW5mby5kZWNvZGUocmF3RW50cnkpO1xuICAgICAgICB1c2VySWRUb0F1dGhJbmZvTWFwLnNldChhdXRoSW5mby51c2VySWQsIGF1dGhJbmZvKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdXNlcklkVG9BdXRoSW5mb01hcDtcbn1cbmZ1bmN0aW9uIHdyaXRlQWN0aXZlVXNlckF1dGhJbmZvVG9TdG9yYWdlKGF1dGhJbmZvLCBzdG9yYWdlKSB7XG4gICAgaWYgKGF1dGhJbmZvLmlzRW1wdHkpIHtcbiAgICAgICAgc3RvcmFnZS5yZW1vdmUoU3RvcmVBdXRoSW5mby5BQ1RJVkVfVVNFUl9TVE9SQUdFX05BTUUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpbmZvID0gbmV3IFN0b3JlQXV0aEluZm8oYXV0aEluZm8udXNlcklkLCBhdXRoSW5mby5kZXZpY2VJZCwgYXV0aEluZm8uYWNjZXNzVG9rZW4sIGF1dGhJbmZvLnJlZnJlc2hUb2tlbiwgYXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlclR5cGUsIGF1dGhJbmZvLmxvZ2dlZEluUHJvdmlkZXJOYW1lLCBhdXRoSW5mby5sYXN0QXV0aEFjdGl2aXR5LCBhdXRoSW5mby51c2VyUHJvZmlsZVxuICAgICAgICA/IG5ldyBTdG9yZUNvcmVVc2VyUHJvZmlsZShhdXRoSW5mby51c2VyUHJvZmlsZS51c2VyVHlwZSwgYXV0aEluZm8udXNlclByb2ZpbGUuZGF0YSwgYXV0aEluZm8udXNlclByb2ZpbGUuaWRlbnRpdGllcy5tYXAoZnVuY3Rpb24gKGlkZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0b3JlU3RpdGNoVXNlcklkZW50aXR5KGlkZW50aXR5LmlkLCBpZGVudGl0eS5wcm92aWRlclR5cGUpO1xuICAgICAgICB9KSlcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIHN0b3JhZ2Uuc2V0KFN0b3JlQXV0aEluZm8uQUNUSVZFX1VTRVJfU1RPUkFHRV9OQU1FLCBKU09OLnN0cmluZ2lmeShpbmZvLmVuY29kZSgpKSk7XG59XG5mdW5jdGlvbiB3cml0ZUFsbFVzZXJzQXV0aEluZm9Ub1N0b3JhZ2UoY3VycmVudFVzZXJzQXV0aEluZm8sIHN0b3JhZ2UpIHtcbiAgICB2YXIgZW5jb2RlZFN0b3JlSW5mb3MgPSBbXTtcbiAgICBjdXJyZW50VXNlcnNBdXRoSW5mby5mb3JFYWNoKGZ1bmN0aW9uIChhdXRoSW5mbywgdXNlcklkKSB7XG4gICAgICAgIHZhciBzdG9yZUluZm8gPSBuZXcgU3RvcmVBdXRoSW5mbyh1c2VySWQsIGF1dGhJbmZvLmRldmljZUlkLCBhdXRoSW5mby5hY2Nlc3NUb2tlbiwgYXV0aEluZm8ucmVmcmVzaFRva2VuLCBhdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyVHlwZSwgYXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlck5hbWUsIGF1dGhJbmZvLmxhc3RBdXRoQWN0aXZpdHksIGF1dGhJbmZvLnVzZXJQcm9maWxlXG4gICAgICAgICAgICA/IG5ldyBTdG9yZUNvcmVVc2VyUHJvZmlsZShhdXRoSW5mby51c2VyUHJvZmlsZS51c2VyVHlwZSwgYXV0aEluZm8udXNlclByb2ZpbGUuZGF0YSwgYXV0aEluZm8udXNlclByb2ZpbGUuaWRlbnRpdGllcy5tYXAoZnVuY3Rpb24gKGlkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eShpZGVudGl0eS5pZCwgaWRlbnRpdHkucHJvdmlkZXJUeXBlKTtcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBlbmNvZGVkU3RvcmVJbmZvcy5wdXNoKHN0b3JlSW5mby5lbmNvZGUoKSk7XG4gICAgfSk7XG4gICAgc3RvcmFnZS5zZXQoU3RvcmVBdXRoSW5mby5BTExfVVNFUlNfU1RPUkFHRV9OQU1FLCBKU09OLnN0cmluZ2lmeShlbmNvZGVkU3RvcmVJbmZvcykpO1xufVxudmFyIFN0b3JlQXV0aEluZm8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdG9yZUF1dGhJbmZvLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0b3JlQXV0aEluZm8odXNlcklkLCBkZXZpY2VJZCwgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbiwgbG9nZ2VkSW5Qcm92aWRlclR5cGUsIGxvZ2dlZEluUHJvdmlkZXJOYW1lLCBsYXN0QXV0aEFjdGl2aXR5LCB1c2VyUHJvZmlsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB1c2VySWQsIGRldmljZUlkLCBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBsb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkSW5Qcm92aWRlck5hbWUsIGxhc3RBdXRoQWN0aXZpdHksIHVzZXJQcm9maWxlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51c2VyUHJvZmlsZSA9IHVzZXJQcm9maWxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0b3JlQXV0aEluZm8uZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgdmFyIHVzZXJJZCA9IGZyb21bRmllbGRzLlVTRVJfSURdO1xuICAgICAgICB2YXIgZGV2aWNlSWQgPSBmcm9tW0ZpZWxkcy5ERVZJQ0VfSURdO1xuICAgICAgICB2YXIgYWNjZXNzVG9rZW4gPSBmcm9tW0ZpZWxkcy5BQ0NFU1NfVE9LRU5dO1xuICAgICAgICB2YXIgcmVmcmVzaFRva2VuID0gZnJvbVtGaWVsZHMuUkVGUkVTSF9UT0tFTl07XG4gICAgICAgIHZhciBsb2dnZWRJblByb3ZpZGVyVHlwZSA9IGZyb21bRmllbGRzLkxPR0dFRF9JTl9QUk9WSURFUl9UWVBFXTtcbiAgICAgICAgdmFyIGxvZ2dlZEluUHJvdmlkZXJOYW1lID0gZnJvbVtGaWVsZHMuTE9HR0VEX0lOX1BST1ZJREVSX05BTUVdO1xuICAgICAgICB2YXIgdXNlclByb2ZpbGUgPSBmcm9tW0ZpZWxkcy5VU0VSX1BST0ZJTEVdO1xuICAgICAgICB2YXIgbGFzdEF1dGhBY3Rpdml0eU1pbGxpc1NpbmNlRXBvY2ggPSBmcm9tW0ZpZWxkcy5MQVNUX0FVVEhfQUNUSVZJVFldO1xuICAgICAgICByZXR1cm4gbmV3IFN0b3JlQXV0aEluZm8odXNlcklkLCBkZXZpY2VJZCwgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbiwgbG9nZ2VkSW5Qcm92aWRlclR5cGUsIGxvZ2dlZEluUHJvdmlkZXJOYW1lLCBuZXcgRGF0ZShsYXN0QXV0aEFjdGl2aXR5TWlsbGlzU2luY2VFcG9jaCksIFN0b3JlQ29yZVVzZXJQcm9maWxlLmRlY29kZSh1c2VyUHJvZmlsZSkpO1xuICAgIH07XG4gICAgU3RvcmVBdXRoSW5mby5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG8gPSB7fTtcbiAgICAgICAgdG9bRmllbGRzLlVTRVJfSURdID0gdGhpcy51c2VySWQ7XG4gICAgICAgIHRvW0ZpZWxkcy5BQ0NFU1NfVE9LRU5dID0gdGhpcy5hY2Nlc3NUb2tlbjtcbiAgICAgICAgdG9bRmllbGRzLlJFRlJFU0hfVE9LRU5dID0gdGhpcy5yZWZyZXNoVG9rZW47XG4gICAgICAgIHRvW0ZpZWxkcy5ERVZJQ0VfSURdID0gdGhpcy5kZXZpY2VJZDtcbiAgICAgICAgdG9bRmllbGRzLkxPR0dFRF9JTl9QUk9WSURFUl9OQU1FXSA9IHRoaXMubG9nZ2VkSW5Qcm92aWRlck5hbWU7XG4gICAgICAgIHRvW0ZpZWxkcy5MT0dHRURfSU5fUFJPVklERVJfVFlQRV0gPSB0aGlzLmxvZ2dlZEluUHJvdmlkZXJUeXBlO1xuICAgICAgICB0b1tGaWVsZHMuTEFTVF9BVVRIX0FDVElWSVRZXSA9IHRoaXMubGFzdEF1dGhBY3Rpdml0eVxuICAgICAgICAgICAgPyB0aGlzLmxhc3RBdXRoQWN0aXZpdHkuZ2V0VGltZSgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgdG9bRmllbGRzLlVTRVJfUFJPRklMRV0gPSB0aGlzLnVzZXJQcm9maWxlXG4gICAgICAgICAgICA/IHRoaXMudXNlclByb2ZpbGUuZW5jb2RlKClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfTtcbiAgICBTdG9yZUF1dGhJbmZvLkFDVElWRV9VU0VSX1NUT1JBR0VfTkFNRSA9IFwiYXV0aF9pbmZvXCI7XG4gICAgU3RvcmVBdXRoSW5mby5BTExfVVNFUlNfU1RPUkFHRV9OQU1FID0gXCJhbGxfYXV0aF9pbmZvc1wiO1xuICAgIHJldHVybiBTdG9yZUF1dGhJbmZvO1xufShBdXRoSW5mbykpO1xuZXhwb3J0IHsgU3RvcmVBdXRoSW5mbywgcmVhZEFjdGl2ZVVzZXJGcm9tU3RvcmFnZSwgcmVhZEN1cnJlbnRVc2Vyc0Zyb21TdG9yYWdlLCB3cml0ZUFjdGl2ZVVzZXJBdXRoSW5mb1RvU3RvcmFnZSwgd3JpdGVBbGxVc2Vyc0F1dGhJbmZvVG9TdG9yYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdG9yZUF1dGhJbmZvLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreAuthInfo.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreCoreUserProfile.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreCoreUserProfile.js ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../StitchUserProfileImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/StitchUserProfileImpl.js\");\n/* harmony import */ var _StoreStitchUserIdentity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StoreStitchUserIdentity */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreStitchUserIdentity.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"DATA\"] = \"data\";\n    Fields[\"USER_TYPE\"] = \"type\";\n    Fields[\"IDENTITIES\"] = \"identities\";\n})(Fields || (Fields = {}));\nvar StoreCoreUserProfile = (function (_super) {\n    __extends(StoreCoreUserProfile, _super);\n    function StoreCoreUserProfile(userType, data, identities) {\n        var _this = _super.call(this, userType, data, identities) || this;\n        _this.userType = userType;\n        _this.data = data;\n        _this.identities = identities;\n        return _this;\n    }\n    StoreCoreUserProfile.decode = function (from) {\n        return from\n            ? new StoreCoreUserProfile(from[Fields.USER_TYPE], from[Fields.DATA], from[Fields.IDENTITIES].map(function (identity) {\n                return _StoreStitchUserIdentity__WEBPACK_IMPORTED_MODULE_1__[\"default\"].decode(identity);\n            }))\n            : undefined;\n    };\n    StoreCoreUserProfile.prototype.encode = function () {\n        var _a;\n        return _a = {},\n            _a[Fields.DATA] = this.data,\n            _a[Fields.USER_TYPE] = this.userType,\n            _a[Fields.IDENTITIES] = this.identities.map(function (identity) { return identity.encode(); }),\n            _a;\n    };\n    return StoreCoreUserProfile;\n}(_StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StoreCoreUserProfile);\n//# sourceMappingURL=StoreCoreUserProfile.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL1N0b3JlQ29yZVVzZXJQcm9maWxlLmpzPzM2OGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDNEQ7QUFDRztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdFQUF1QjtBQUM5QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLDZFQUE2RSwwQkFBMEIsRUFBRTtBQUN6RztBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsOERBQXFCO0FBQ1IsbUZBQW9CLEVBQUM7QUFDcEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9tb2RlbHMvU3RvcmVDb3JlVXNlclByb2ZpbGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBTdGl0Y2hVc2VyUHJvZmlsZUltcGwgZnJvbSBcIi4uL1N0aXRjaFVzZXJQcm9maWxlSW1wbFwiO1xuaW1wb3J0IFN0b3JlU3RpdGNoVXNlcklkZW50aXR5IGZyb20gXCIuL1N0b3JlU3RpdGNoVXNlcklkZW50aXR5XCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJEQVRBXCJdID0gXCJkYXRhXCI7XG4gICAgRmllbGRzW1wiVVNFUl9UWVBFXCJdID0gXCJ0eXBlXCI7XG4gICAgRmllbGRzW1wiSURFTlRJVElFU1wiXSA9IFwiaWRlbnRpdGllc1wiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIFN0b3JlQ29yZVVzZXJQcm9maWxlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RvcmVDb3JlVXNlclByb2ZpbGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RvcmVDb3JlVXNlclByb2ZpbGUodXNlclR5cGUsIGRhdGEsIGlkZW50aXRpZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdXNlclR5cGUsIGRhdGEsIGlkZW50aXRpZXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnVzZXJUeXBlID0gdXNlclR5cGU7XG4gICAgICAgIF90aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICBfdGhpcy5pZGVudGl0aWVzID0gaWRlbnRpdGllcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdG9yZUNvcmVVc2VyUHJvZmlsZS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICByZXR1cm4gZnJvbVxuICAgICAgICAgICAgPyBuZXcgU3RvcmVDb3JlVXNlclByb2ZpbGUoZnJvbVtGaWVsZHMuVVNFUl9UWVBFXSwgZnJvbVtGaWVsZHMuREFUQV0sIGZyb21bRmllbGRzLklERU5USVRJRVNdLm1hcChmdW5jdGlvbiAoaWRlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkuZGVjb2RlKGlkZW50aXR5KTtcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTdG9yZUNvcmVVc2VyUHJvZmlsZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRmllbGRzLkRBVEFdID0gdGhpcy5kYXRhLFxuICAgICAgICAgICAgX2FbRmllbGRzLlVTRVJfVFlQRV0gPSB0aGlzLnVzZXJUeXBlLFxuICAgICAgICAgICAgX2FbRmllbGRzLklERU5USVRJRVNdID0gdGhpcy5pZGVudGl0aWVzLm1hcChmdW5jdGlvbiAoaWRlbnRpdHkpIHsgcmV0dXJuIGlkZW50aXR5LmVuY29kZSgpOyB9KSxcbiAgICAgICAgICAgIF9hO1xuICAgIH07XG4gICAgcmV0dXJuIFN0b3JlQ29yZVVzZXJQcm9maWxlO1xufShTdGl0Y2hVc2VyUHJvZmlsZUltcGwpKTtcbmV4cG9ydCBkZWZhdWx0IFN0b3JlQ29yZVVzZXJQcm9maWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RvcmVDb3JlVXNlclByb2ZpbGUuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreCoreUserProfile.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreStitchUserIdentity.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreStitchUserIdentity.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchUserIdentity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../StitchUserIdentity */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/StitchUserIdentity.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar Fields;\n(function (Fields) {\n    Fields[\"ID\"] = \"id\";\n    Fields[\"PROVIDER_TYPE\"] = \"provider_type\";\n})(Fields || (Fields = {}));\nvar StoreStitchUserIdentity = (function (_super) {\n    __extends(StoreStitchUserIdentity, _super);\n    function StoreStitchUserIdentity(id, providerType) {\n        return _super.call(this, id, providerType) || this;\n    }\n    StoreStitchUserIdentity.decode = function (from) {\n        return new StoreStitchUserIdentity(from[Fields.ID], from[Fields.PROVIDER_TYPE]);\n    };\n    StoreStitchUserIdentity.prototype.encode = function () {\n        var _a;\n        return _a = {},\n            _a[Fields.ID] = this.id,\n            _a[Fields.PROVIDER_TYPE] = this.providerType,\n            _a;\n    };\n    return StoreStitchUserIdentity;\n}(_StitchUserIdentity__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StoreStitchUserIdentity);\n//# sourceMappingURL=StoreStitchUserIdentity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL1N0b3JlU3RpdGNoVXNlcklkZW50aXR5LmpzPzZkZGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ3lEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQywyREFBa0I7QUFDTCxzRkFBdUIsRUFBQztBQUN2QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL21vZGVscy9TdG9yZVN0aXRjaFVzZXJJZGVudGl0eS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFN0aXRjaFVzZXJJZGVudGl0eSBmcm9tIFwiLi4vLi4vU3RpdGNoVXNlcklkZW50aXR5XCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJJRFwiXSA9IFwiaWRcIjtcbiAgICBGaWVsZHNbXCJQUk9WSURFUl9UWVBFXCJdID0gXCJwcm92aWRlcl90eXBlXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdG9yZVN0aXRjaFVzZXJJZGVudGl0eSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eShpZCwgcHJvdmlkZXJUeXBlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBpZCwgcHJvdmlkZXJUeXBlKSB8fCB0aGlzO1xuICAgIH1cbiAgICBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0b3JlU3RpdGNoVXNlcklkZW50aXR5KGZyb21bRmllbGRzLklEXSwgZnJvbVtGaWVsZHMuUFJPVklERVJfVFlQRV0pO1xuICAgIH07XG4gICAgU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5JRF0gPSB0aGlzLmlkLFxuICAgICAgICAgICAgX2FbRmllbGRzLlBST1ZJREVSX1RZUEVdID0gdGhpcy5wcm92aWRlclR5cGUsXG4gICAgICAgICAgICBfYTtcbiAgICB9O1xuICAgIHJldHVybiBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eTtcbn0oU3RpdGNoVXNlcklkZW50aXR5KSk7XG5leHBvcnQgZGVmYXVsdCBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0b3JlU3RpdGNoVXNlcklkZW50aXR5LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/StoreStitchUserIdentity.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousAuthProvider.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousAuthProvider.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar AnonymousAuthProvider = (function () {\n    function AnonymousAuthProvider() {\n    }\n    AnonymousAuthProvider.TYPE = \"anon-user\";\n    AnonymousAuthProvider.DEFAULT_NAME = \"anon-user\";\n    return AnonymousAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (AnonymousAuthProvider);\n//# sourceMappingURL=AnonymousAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Fub255bW91cy9Bbm9ueW1vdXNBdXRoUHJvdmlkZXIuanM/MTdmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxvRkFBcUIsRUFBQztBQUNyQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy9hbm9ueW1vdXMvQW5vbnltb3VzQXV0aFByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEFub255bW91c0F1dGhQcm92aWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQW5vbnltb3VzQXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBBbm9ueW1vdXNBdXRoUHJvdmlkZXIuVFlQRSA9IFwiYW5vbi11c2VyXCI7XG4gICAgQW5vbnltb3VzQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRSA9IFwiYW5vbi11c2VyXCI7XG4gICAgcmV0dXJuIEFub255bW91c0F1dGhQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBBbm9ueW1vdXNBdXRoUHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bbm9ueW1vdXNBdXRoUHJvdmlkZXIuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousCredential.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousCredential.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _AnonymousAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnonymousAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousAuthProvider.js\");\n\n\nvar AnonymousCredential = (function () {\n    function AnonymousCredential(providerName) {\n        if (providerName === void 0) { providerName = _AnonymousAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.providerType = _AnonymousAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.material = {};\n        this.providerCapabilities = new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](true);\n        this.providerName = providerName;\n    }\n    return AnonymousCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (AnonymousCredential);\n//# sourceMappingURL=AnonymousCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Fub255bW91cy9Bbm9ueW1vdXNDcmVkZW50aWFsLmpzPzFlYmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQThEO0FBQ0Y7QUFDNUQ7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0IsOERBQXFCLGNBQWM7QUFDekYsNEJBQTRCLDhEQUFxQjtBQUNqRDtBQUNBLHdDQUF3Qyw2REFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLGtGQUFtQixFQUFDO0FBQ25DIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Fub255bW91cy9Bbm9ueW1vdXNDcmVkZW50aWFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IEFub255bW91c0F1dGhQcm92aWRlciBmcm9tIFwiLi9Bbm9ueW1vdXNBdXRoUHJvdmlkZXJcIjtcbnZhciBBbm9ueW1vdXNDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNDcmVkZW50aWFsKHByb3ZpZGVyTmFtZSkge1xuICAgICAgICBpZiAocHJvdmlkZXJOYW1lID09PSB2b2lkIDApIHsgcHJvdmlkZXJOYW1lID0gQW5vbnltb3VzQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IEFub255bW91c0F1dGhQcm92aWRlci5UWVBFO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0ge307XG4gICAgICAgIHRoaXMucHJvdmlkZXJDYXBhYmlsaXRpZXMgPSBuZXcgUHJvdmlkZXJDYXBhYmlsaXRpZXModHJ1ZSk7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gQW5vbnltb3VzQ3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBBbm9ueW1vdXNDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5vbnltb3VzQ3JlZGVudGlhbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomAuthProvider.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomAuthProvider.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CustomAuthProvider = (function () {\n    function CustomAuthProvider() {\n    }\n    CustomAuthProvider.TYPE = \"custom-token\";\n    CustomAuthProvider.DEFAULT_NAME = \"custom-token\";\n    return CustomAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CustomAuthProvider);\n//# sourceMappingURL=CustomAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2N1c3RvbS9DdXN0b21BdXRoUHJvdmlkZXIuanM/NWNmNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxpRkFBa0IsRUFBQztBQUNsQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy9jdXN0b20vQ3VzdG9tQXV0aFByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEN1c3RvbUF1dGhQcm92aWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3VzdG9tQXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBDdXN0b21BdXRoUHJvdmlkZXIuVFlQRSA9IFwiY3VzdG9tLXRva2VuXCI7XG4gICAgQ3VzdG9tQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRSA9IFwiY3VzdG9tLXRva2VuXCI7XG4gICAgcmV0dXJuIEN1c3RvbUF1dGhQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBDdXN0b21BdXRoUHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DdXN0b21BdXRoUHJvdmlkZXIuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomCredential.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomCredential.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _CustomAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CustomAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomAuthProvider.js\");\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"TOKEN\"] = \"token\";\n})(Fields || (Fields = {}));\nvar CustomCredential = (function () {\n    function CustomCredential(token, providerName) {\n        var _a;\n        if (providerName === void 0) { providerName = _CustomAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.providerType = _CustomAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.providerCapabilities = new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](false);\n        this.providerName = providerName;\n        this.token = token;\n        this.material = (_a = {}, _a[Fields.TOKEN] = this.token, _a);\n    }\n    return CustomCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CustomCredential);\n//# sourceMappingURL=CustomCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2N1c3RvbS9DdXN0b21DcmVkZW50aWFsLmpzP2U3ZWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQThEO0FBQ1I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQiwyREFBa0IsY0FBYztBQUN0Riw0QkFBNEIsMkRBQWtCO0FBQzlDLHdDQUF3Qyw2REFBb0I7QUFDNUQ7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsQ0FBQztBQUNjLCtFQUFnQixFQUFDO0FBQ2hDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2N1c3RvbS9DdXN0b21DcmVkZW50aWFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IEN1c3RvbUF1dGhQcm92aWRlciBmcm9tIFwiLi9DdXN0b21BdXRoUHJvdmlkZXJcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIlRPS0VOXCJdID0gXCJ0b2tlblwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIEN1c3RvbUNyZWRlbnRpYWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEN1c3RvbUNyZWRlbnRpYWwodG9rZW4sIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBDdXN0b21BdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gQ3VzdG9tQXV0aFByb3ZpZGVyLlRZUEU7XG4gICAgICAgIHRoaXMucHJvdmlkZXJDYXBhYmlsaXRpZXMgPSBuZXcgUHJvdmlkZXJDYXBhYmlsaXRpZXMoZmFsc2UpO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gKF9hID0ge30sIF9hW0ZpZWxkcy5UT0tFTl0gPSB0aGlzLnRva2VuLCBfYSk7XG4gICAgfVxuICAgIHJldHVybiBDdXN0b21DcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUNyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DdXN0b21DcmVkZW50aWFsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookAuthProvider.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookAuthProvider.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar FacebookAuthProvider = (function () {\n    function FacebookAuthProvider() {\n    }\n    FacebookAuthProvider.TYPE = \"oauth2-facebook\";\n    FacebookAuthProvider.DEFAULT_NAME = \"oauth2-facebook\";\n    return FacebookAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (FacebookAuthProvider);\n//# sourceMappingURL=FacebookAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rQXV0aFByb3ZpZGVyLmpzP2E0YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsbUZBQW9CLEVBQUM7QUFDcEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvZmFjZWJvb2svRmFjZWJvb2tBdXRoUHJvdmlkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRmFjZWJvb2tBdXRoUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZhY2Vib29rQXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBGYWNlYm9va0F1dGhQcm92aWRlci5UWVBFID0gXCJvYXV0aDItZmFjZWJvb2tcIjtcbiAgICBGYWNlYm9va0F1dGhQcm92aWRlci5ERUZBVUxUX05BTUUgPSBcIm9hdXRoMi1mYWNlYm9va1wiO1xuICAgIHJldHVybiBGYWNlYm9va0F1dGhQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGYWNlYm9va0F1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhY2Vib29rQXV0aFByb3ZpZGVyLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookCredential.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookCredential.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _FacebookAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FacebookAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookAuthProvider.js\");\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"ACCESS_TOKEN\"] = \"accessToken\";\n})(Fields || (Fields = {}));\nvar FacebookCredential = (function () {\n    function FacebookCredential(accessToken, providerName) {\n        var _a;\n        if (providerName === void 0) { providerName = _FacebookAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.providerType = _FacebookAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.providerName = providerName;\n        this.accessToken = accessToken;\n        this.material = (_a = {}, _a[Fields.ACCESS_TOKEN] = this.accessToken, _a);\n    }\n    Object.defineProperty(FacebookCredential.prototype, \"providerCapabilities\", {\n        get: function () {\n            return new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](false);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FacebookCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (FacebookCredential);\n//# sourceMappingURL=FacebookCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rQ3JlZGVudGlhbC5qcz83M2U4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUE4RDtBQUNKO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0IsNkRBQW9CLGNBQWM7QUFDeEYsNEJBQTRCLDZEQUFvQjtBQUNoRDtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBb0I7QUFDM0MsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ2MsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvZmFjZWJvb2svRmFjZWJvb2tDcmVkZW50aWFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IEZhY2Vib29rQXV0aFByb3ZpZGVyIGZyb20gXCIuL0ZhY2Vib29rQXV0aFByb3ZpZGVyXCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJBQ0NFU1NfVE9LRU5cIl0gPSBcImFjY2Vzc1Rva2VuXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgRmFjZWJvb2tDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNlYm9va0NyZWRlbnRpYWwoYWNjZXNzVG9rZW4sIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBGYWNlYm9va0F1dGhQcm92aWRlci5ERUZBVUxUX05BTUU7IH1cbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBGYWNlYm9va0F1dGhQcm92aWRlci5UWVBFO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gKF9hID0ge30sIF9hW0ZpZWxkcy5BQ0NFU1NfVE9LRU5dID0gdGhpcy5hY2Nlc3NUb2tlbiwgX2EpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFjZWJvb2tDcmVkZW50aWFsLnByb3RvdHlwZSwgXCJwcm92aWRlckNhcGFiaWxpdGllc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm92aWRlckNhcGFiaWxpdGllcyhmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBGYWNlYm9va0NyZWRlbnRpYWw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRmFjZWJvb2tDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjZWJvb2tDcmVkZW50aWFsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionAuthProvider.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionAuthProvider.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar FunctionAuthProvider = (function () {\n    function FunctionAuthProvider() {\n    }\n    FunctionAuthProvider.TYPE = \"custom-function\";\n    FunctionAuthProvider.DEFAULT_NAME = \"custom-function\";\n    return FunctionAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (FunctionAuthProvider);\n//# sourceMappingURL=FunctionAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Z1bmN0aW9uL0Z1bmN0aW9uQXV0aFByb3ZpZGVyLmpzPzhkYmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsbUZBQW9CLEVBQUM7QUFDcEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvZnVuY3Rpb24vRnVuY3Rpb25BdXRoUHJvdmlkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRnVuY3Rpb25BdXRoUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZ1bmN0aW9uQXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBGdW5jdGlvbkF1dGhQcm92aWRlci5UWVBFID0gXCJjdXN0b20tZnVuY3Rpb25cIjtcbiAgICBGdW5jdGlvbkF1dGhQcm92aWRlci5ERUZBVUxUX05BTUUgPSBcImN1c3RvbS1mdW5jdGlvblwiO1xuICAgIHJldHVybiBGdW5jdGlvbkF1dGhQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGdW5jdGlvbkF1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZ1bmN0aW9uQXV0aFByb3ZpZGVyLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionCredential.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionCredential.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _FunctionAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FunctionAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionAuthProvider.js\");\n\n\nvar FunctionCredential = (function () {\n    function FunctionCredential(payload, providerName) {\n        if (providerName === void 0) { providerName = _FunctionAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.providerType = _FunctionAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.providerName = providerName;\n        this.material = payload;\n    }\n    Object.defineProperty(FunctionCredential.prototype, \"providerCapabilities\", {\n        get: function () {\n            return new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](false);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FunctionCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (FunctionCredential);\n//# sourceMappingURL=FunctionCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Z1bmN0aW9uL0Z1bmN0aW9uQ3JlZGVudGlhbC5qcz9lYTZkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUE4RDtBQUNKO0FBQzFEO0FBQ0E7QUFDQSxzQ0FBc0MsZ0JBQWdCLDZEQUFvQixjQUFjO0FBQ3hGLDRCQUE0Qiw2REFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBb0I7QUFDM0MsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ2MsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvZnVuY3Rpb24vRnVuY3Rpb25DcmVkZW50aWFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IEZ1bmN0aW9uQXV0aFByb3ZpZGVyIGZyb20gXCIuL0Z1bmN0aW9uQXV0aFByb3ZpZGVyXCI7XG52YXIgRnVuY3Rpb25DcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdW5jdGlvbkNyZWRlbnRpYWwocGF5bG9hZCwgcHJvdmlkZXJOYW1lKSB7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBGdW5jdGlvbkF1dGhQcm92aWRlci5ERUZBVUxUX05BTUU7IH1cbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBGdW5jdGlvbkF1dGhQcm92aWRlci5UWVBFO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IHBheWxvYWQ7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbkNyZWRlbnRpYWwucHJvdG90eXBlLCBcInByb3ZpZGVyQ2FwYWJpbGl0aWVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3ZpZGVyQ2FwYWJpbGl0aWVzKGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZ1bmN0aW9uQ3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGdW5jdGlvbkNyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GdW5jdGlvbkNyZWRlbnRpYWwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleAuthProvider.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleAuthProvider.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar GoogleAuthProvider = (function () {\n    function GoogleAuthProvider() {\n    }\n    GoogleAuthProvider.TYPE = \"oauth2-google\";\n    GoogleAuthProvider.DEFAULT_NAME = \"oauth2-google\";\n    return GoogleAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (GoogleAuthProvider);\n//# sourceMappingURL=GoogleAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2dvb2dsZS9Hb29nbGVBdXRoUHJvdmlkZXIuanM/YjA0MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxpRkFBa0IsRUFBQztBQUNsQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy9nb29nbGUvR29vZ2xlQXV0aFByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdvb2dsZUF1dGhQcm92aWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR29vZ2xlQXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBHb29nbGVBdXRoUHJvdmlkZXIuVFlQRSA9IFwib2F1dGgyLWdvb2dsZVwiO1xuICAgIEdvb2dsZUF1dGhQcm92aWRlci5ERUZBVUxUX05BTUUgPSBcIm9hdXRoMi1nb29nbGVcIjtcbiAgICByZXR1cm4gR29vZ2xlQXV0aFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEdvb2dsZUF1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdvb2dsZUF1dGhQcm92aWRlci5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleCredential.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleCredential.js ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _GoogleAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GoogleAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleAuthProvider.js\");\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"AUTH_CODE\"] = \"authCode\";\n})(Fields || (Fields = {}));\nvar GoogleCredential = (function () {\n    function GoogleCredential(authCode, providerName) {\n        var _a;\n        if (providerName === void 0) { providerName = _GoogleAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.providerType = _GoogleAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.providerCapabilities = new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](false);\n        this.providerName = providerName;\n        this.authCode = authCode;\n        this.material = (_a = {}, _a[Fields.AUTH_CODE] = this.authCode, _a);\n    }\n    return GoogleCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (GoogleCredential);\n//# sourceMappingURL=GoogleCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2dvb2dsZS9Hb29nbGVDcmVkZW50aWFsLmpzPzJjZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQThEO0FBQ1I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQiwyREFBa0IsY0FBYztBQUN0Riw0QkFBNEIsMkRBQWtCO0FBQzlDLHdDQUF3Qyw2REFBb0I7QUFDNUQ7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsQ0FBQztBQUNjLCtFQUFnQixFQUFDO0FBQ2hDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2dvb2dsZS9Hb29nbGVDcmVkZW50aWFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IEdvb2dsZUF1dGhQcm92aWRlciBmcm9tIFwiLi9Hb29nbGVBdXRoUHJvdmlkZXJcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIkFVVEhfQ09ERVwiXSA9IFwiYXV0aENvZGVcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbnZhciBHb29nbGVDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHb29nbGVDcmVkZW50aWFsKGF1dGhDb2RlLCBwcm92aWRlck5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAocHJvdmlkZXJOYW1lID09PSB2b2lkIDApIHsgcHJvdmlkZXJOYW1lID0gR29vZ2xlQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IEdvb2dsZUF1dGhQcm92aWRlci5UWVBFO1xuICAgICAgICB0aGlzLnByb3ZpZGVyQ2FwYWJpbGl0aWVzID0gbmV3IFByb3ZpZGVyQ2FwYWJpbGl0aWVzKGZhbHNlKTtcbiAgICAgICAgdGhpcy5wcm92aWRlck5hbWUgPSBwcm92aWRlck5hbWU7XG4gICAgICAgIHRoaXMuYXV0aENvZGUgPSBhdXRoQ29kZTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IChfYSA9IHt9LCBfYVtGaWVsZHMuQVVUSF9DT0RFXSA9IHRoaXMuYXV0aENvZGUsIF9hKTtcbiAgICB9XG4gICAgcmV0dXJuIEdvb2dsZUNyZWRlbnRpYWw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgR29vZ2xlQ3JlZGVudGlhbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdvb2dsZUNyZWRlbnRpYWwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/CoreAuthProviderClient.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/CoreAuthProviderClient.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CoreAuthProviderClient = (function () {\n    function CoreAuthProviderClient(providerName, requestClient, baseRoute) {\n        this.providerName = providerName;\n        this.requestClient = requestClient;\n        this.baseRoute = baseRoute;\n    }\n    return CoreAuthProviderClient;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreAuthProviderClient);\n//# sourceMappingURL=CoreAuthProviderClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ludGVybmFsL0NvcmVBdXRoUHJvdmlkZXJDbGllbnQuanM/YjcwMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHFGQUFzQixFQUFDO0FBQ3RDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ludGVybmFsL0NvcmVBdXRoUHJvdmlkZXJDbGllbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29yZUF1dGhQcm92aWRlckNsaWVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29yZUF1dGhQcm92aWRlckNsaWVudChwcm92aWRlck5hbWUsIHJlcXVlc3RDbGllbnQsIGJhc2VSb3V0ZSkge1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0Q2xpZW50ID0gcmVxdWVzdENsaWVudDtcbiAgICAgICAgdGhpcy5iYXNlUm91dGUgPSBiYXNlUm91dGU7XG4gICAgfVxuICAgIHJldHVybiBDb3JlQXV0aFByb3ZpZGVyQ2xpZW50O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVBdXRoUHJvdmlkZXJDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlQXV0aFByb3ZpZGVyQ2xpZW50LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/CoreAuthProviderClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/StitchAuthResponseCredential.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/StitchAuthResponseCredential.js ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar StitchAuthResponseCredential = (function () {\n    function StitchAuthResponseCredential(authInfo, providerType, providerName, asLink) {\n        this.authInfo = authInfo;\n        this.providerType = providerType;\n        this.providerName = providerName;\n        this.asLink = asLink;\n    }\n    return StitchAuthResponseCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchAuthResponseCredential);\n//# sourceMappingURL=StitchAuthResponseCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ludGVybmFsL1N0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwuanM/MTkxNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsMkZBQTRCLEVBQUM7QUFDNUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvaW50ZXJuYWwvU3RpdGNoQXV0aFJlc3BvbnNlQ3JlZGVudGlhbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsKGF1dGhJbmZvLCBwcm92aWRlclR5cGUsIHByb3ZpZGVyTmFtZSwgYXNMaW5rKSB7XG4gICAgICAgIHRoaXMuYXV0aEluZm8gPSBhdXRoSW5mbztcbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBwcm92aWRlclR5cGU7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLmFzTGluayA9IGFzTGluaztcbiAgICB9XG4gICAgcmV0dXJuIFN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXV0aFJlc3BvbnNlQ3JlZGVudGlhbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/StitchAuthResponseCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyAuthProvider.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyAuthProvider.js ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ServerApiKeyAuthProvider = (function () {\n    function ServerApiKeyAuthProvider() {\n    }\n    ServerApiKeyAuthProvider.TYPE = \"api-key\";\n    ServerApiKeyAuthProvider.DEFAULT_NAME = \"api-key\";\n    return ServerApiKeyAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServerApiKeyAuthProvider);\n//# sourceMappingURL=ServerApiKeyAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3NlcnZlcmFwaWtleS9TZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXIuanM/NjQwNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyx1RkFBd0IsRUFBQztBQUN4QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy9zZXJ2ZXJhcGlrZXkvU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFNlcnZlckFwaUtleUF1dGhQcm92aWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBTZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXIuVFlQRSA9IFwiYXBpLWtleVwiO1xuICAgIFNlcnZlckFwaUtleUF1dGhQcm92aWRlci5ERUZBVUxUX05BTUUgPSBcImFwaS1rZXlcIjtcbiAgICByZXR1cm4gU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFNlcnZlckFwaUtleUF1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcnZlckFwaUtleUF1dGhQcm92aWRlci5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyCredential.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyCredential.js ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _ServerApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServerApiKeyAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyAuthProvider.js\");\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"KEY\"] = \"key\";\n})(Fields || (Fields = {}));\nvar ServerApiKeyCredential = (function () {\n    function ServerApiKeyCredential(key, providerName) {\n        var _a;\n        if (providerName === void 0) { providerName = _ServerApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.providerType = _ServerApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.providerCapabilities = new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](false);\n        this.providerName = providerName;\n        this.key = key;\n        this.material = (_a = {}, _a[Fields.KEY] = this.key, _a);\n    }\n    return ServerApiKeyCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServerApiKeyCredential);\n//# sourceMappingURL=ServerApiKeyCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3NlcnZlcmFwaWtleS9TZXJ2ZXJBcGlLZXlDcmVkZW50aWFsLmpzPzA4NGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQThEO0FBQ0k7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQixpRUFBd0IsY0FBYztBQUM1Riw0QkFBNEIsaUVBQXdCO0FBQ3BELHdDQUF3Qyw2REFBb0I7QUFDNUQ7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsQ0FBQztBQUNjLHFGQUFzQixFQUFDO0FBQ3RDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3NlcnZlcmFwaWtleS9TZXJ2ZXJBcGlLZXlDcmVkZW50aWFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IFNlcnZlckFwaUtleUF1dGhQcm92aWRlciBmcm9tIFwiLi9TZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXJcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIktFWVwiXSA9IFwia2V5XCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgU2VydmVyQXBpS2V5Q3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VydmVyQXBpS2V5Q3JlZGVudGlhbChrZXksIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBTZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyLlRZUEU7XG4gICAgICAgIHRoaXMucHJvdmlkZXJDYXBhYmlsaXRpZXMgPSBuZXcgUHJvdmlkZXJDYXBhYmlsaXRpZXMoZmFsc2UpO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSAoX2EgPSB7fSwgX2FbRmllbGRzLktFWV0gPSB0aGlzLmtleSwgX2EpO1xuICAgIH1cbiAgICByZXR1cm4gU2VydmVyQXBpS2V5Q3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTZXJ2ZXJBcGlLZXlDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VydmVyQXBpS2V5Q3JlZGVudGlhbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/CoreUserApiKeyAuthProviderClient.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/CoreUserApiKeyAuthProviderClient.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../internal/common/StitchErrorUtils */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/StitchErrorUtils.js\");\n/* harmony import */ var _internal_net_Method__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../internal/net/Method */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js\");\n/* harmony import */ var _internal_net_StitchAuthDocRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../internal/net/StitchAuthDocRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthDocRequest.js\");\n/* harmony import */ var _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../internal/net/StitchAuthRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js\");\n/* harmony import */ var _StitchRequestError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../StitchRequestError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js\");\n/* harmony import */ var _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../StitchRequestErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js\");\n/* harmony import */ var _internal_CoreAuthProviderClient__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../internal/CoreAuthProviderClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/CoreAuthProviderClient.js\");\n/* harmony import */ var _models_UserApiKey__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./models/UserApiKey */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/models/UserApiKey.js\");\n/* harmony import */ var _UserApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UserApiKeyAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyAuthProvider.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar ApiKeyFields;\n(function (ApiKeyFields) {\n    ApiKeyFields[\"NAME\"] = \"name\";\n})(ApiKeyFields || (ApiKeyFields = {}));\nvar CoreUserApiKeyAuthProviderClient = (function (_super) {\n    __extends(CoreUserApiKeyAuthProviderClient, _super);\n    function CoreUserApiKeyAuthProviderClient(requestClient, authRoutes) {\n        var _this = this;\n        var baseRoute = authRoutes.baseAuthRoute + \"/api_keys\";\n        var name = _UserApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_8__[\"default\"].DEFAULT_NAME;\n        _this = _super.call(this, name, requestClient, baseRoute) || this;\n        return _this;\n    }\n    CoreUserApiKeyAuthProviderClient.prototype.createApiKey = function (name) {\n        var _a;\n        var reqBuilder = new _internal_net_StitchAuthDocRequest__WEBPACK_IMPORTED_MODULE_2__[\"StitchAuthDocRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_1__[\"default\"].POST)\n            .withPath(this.baseRoute)\n            .withDocument((_a = {},\n            _a[ApiKeyFields.NAME] = name,\n            _a))\n            .withRefreshToken();\n        return this.requestClient\n            .doAuthenticatedRequest(reqBuilder.build())\n            .then(function (response) {\n            return _models_UserApiKey__WEBPACK_IMPORTED_MODULE_7__[\"default\"].readFromApi(response.body);\n        })\n            .catch(function (err) {\n            throw Object(_internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_0__[\"wrapDecodingError\"])(err);\n        });\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.fetchApiKey = function (keyId) {\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_1__[\"default\"].GET)\n            .withPath(this.getApiKeyRoute(keyId.toHexString()));\n        reqBuilder.withRefreshToken();\n        return this.requestClient\n            .doAuthenticatedRequest(reqBuilder.build())\n            .then(function (response) {\n            return _models_UserApiKey__WEBPACK_IMPORTED_MODULE_7__[\"default\"].readFromApi(response.body);\n        })\n            .catch(function (err) {\n            throw Object(_internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_0__[\"wrapDecodingError\"])(err);\n        });\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.fetchApiKeys = function () {\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"].Builder();\n        reqBuilder.withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_1__[\"default\"].GET).withPath(this.baseRoute);\n        reqBuilder.withRefreshToken();\n        return this.requestClient\n            .doAuthenticatedRequest(reqBuilder.build())\n            .then(function (response) {\n            var json = JSON.parse(response.body);\n            if (Array.isArray(json)) {\n                return json.map(function (value) { return _models_UserApiKey__WEBPACK_IMPORTED_MODULE_7__[\"default\"].readFromApi(value); });\n            }\n            throw new _StitchRequestError__WEBPACK_IMPORTED_MODULE_4__[\"default\"](new Error(\"unexpected non-array response from server\"), _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_5__[\"StitchRequestErrorCode\"].DECODING_ERROR);\n        })\n            .catch(function (err) {\n            throw Object(_internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_0__[\"wrapDecodingError\"])(err);\n        });\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.deleteApiKey = function (keyId) {\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DELETE)\n            .withPath(this.getApiKeyRoute(keyId.toHexString()));\n        reqBuilder.withRefreshToken();\n        return this.requestClient\n            .doAuthenticatedRequest(reqBuilder.build())\n            .then(function () { });\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.enableApiKey = function (keyId) {\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_1__[\"default\"].PUT)\n            .withPath(this.getApiKeyEnableRoute(keyId.toHexString()));\n        reqBuilder.withRefreshToken();\n        return this.requestClient\n            .doAuthenticatedRequest(reqBuilder.build())\n            .then(function () { });\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.disableApiKey = function (keyId) {\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_1__[\"default\"].PUT)\n            .withPath(this.getApiKeyDisableRoute(keyId.toHexString()));\n        reqBuilder.withRefreshToken();\n        return this.requestClient\n            .doAuthenticatedRequest(reqBuilder.build())\n            .then(function () { });\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.getApiKeyRoute = function (keyId) {\n        return this.baseRoute + \"/\" + keyId;\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.getApiKeyEnableRoute = function (keyId) {\n        return this.getApiKeyRoute(keyId) + \"/enable\";\n    };\n    CoreUserApiKeyAuthProviderClient.prototype.getApiKeyDisableRoute = function (keyId) {\n        return this.getApiKeyRoute(keyId) + \"/disable\";\n    };\n    return CoreUserApiKeyAuthProviderClient;\n}(_internal_CoreAuthProviderClient__WEBPACK_IMPORTED_MODULE_6__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreUserApiKeyAuthProviderClient);\n//# sourceMappingURL=CoreUserApiKeyAuthProviderClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQuanM/NDlmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQzZFO0FBQzVCO0FBQ2dDO0FBQ047QUFDZjtBQUNZO0FBQ0Q7QUFDM0I7QUFDaUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1RkFBb0I7QUFDakQ7QUFDQSx3QkFBd0IsNERBQU07QUFDOUI7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBEQUFVO0FBQzdCLFNBQVM7QUFDVDtBQUNBLGtCQUFrQiwyRkFBaUI7QUFDbkMsU0FBUztBQUNUO0FBQ0E7QUFDQSw2QkFBNkIsaUZBQWlCO0FBQzlDO0FBQ0Esd0JBQXdCLDREQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMERBQVU7QUFDN0IsU0FBUztBQUNUO0FBQ0Esa0JBQWtCLDJGQUFpQjtBQUNuQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDZCQUE2QixpRkFBaUI7QUFDOUMsOEJBQThCLDREQUFNO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxRQUFRLDBEQUFVLG9CQUFvQixFQUFFO0FBQzFGO0FBQ0Esc0JBQXNCLDJEQUFrQix5REFBeUQsOEVBQXNCO0FBQ3ZILFNBQVM7QUFDVDtBQUNBLGtCQUFrQiwyRkFBaUI7QUFDbkMsU0FBUztBQUNUO0FBQ0E7QUFDQSw2QkFBNkIsaUZBQWlCO0FBQzlDO0FBQ0Esd0JBQXdCLDREQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLEVBQUU7QUFDakM7QUFDQTtBQUNBLDZCQUE2QixpRkFBaUI7QUFDOUM7QUFDQSx3QkFBd0IsNERBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsRUFBRTtBQUNqQztBQUNBO0FBQ0EsNkJBQTZCLGlGQUFpQjtBQUM5QztBQUNBLHdCQUF3Qiw0REFBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixFQUFFO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsd0VBQXNCO0FBQ1QsK0ZBQWdDLEVBQUM7QUFDaEQiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvdXNlcmFwaWtleS9Db3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgd3JhcERlY29kaW5nRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvY29tbW9uL1N0aXRjaEVycm9yVXRpbHNcIjtcbmltcG9ydCBNZXRob2QgZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL25ldC9NZXRob2RcIjtcbmltcG9ydCB7IFN0aXRjaEF1dGhEb2NSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoRG9jUmVxdWVzdFwiO1xuaW1wb3J0IHsgU3RpdGNoQXV0aFJlcXVlc3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvbmV0L1N0aXRjaEF1dGhSZXF1ZXN0XCI7XG5pbXBvcnQgU3RpdGNoUmVxdWVzdEVycm9yIGZyb20gXCIuLi8uLi8uLi9TdGl0Y2hSZXF1ZXN0RXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaFJlcXVlc3RFcnJvckNvZGUgfSBmcm9tIFwiLi4vLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yQ29kZVwiO1xuaW1wb3J0IENvcmVBdXRoUHJvdmlkZXJDbGllbnQgZnJvbSBcIi4uL2ludGVybmFsL0NvcmVBdXRoUHJvdmlkZXJDbGllbnRcIjtcbmltcG9ydCBVc2VyQXBpS2V5IGZyb20gXCIuL21vZGVscy9Vc2VyQXBpS2V5XCI7XG5pbXBvcnQgVXNlckFwaUtleUF1dGhQcm92aWRlciBmcm9tIFwiLi9Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyXCI7XG52YXIgQXBpS2V5RmllbGRzO1xuKGZ1bmN0aW9uIChBcGlLZXlGaWVsZHMpIHtcbiAgICBBcGlLZXlGaWVsZHNbXCJOQU1FXCJdID0gXCJuYW1lXCI7XG59KShBcGlLZXlGaWVsZHMgfHwgKEFwaUtleUZpZWxkcyA9IHt9KSk7XG52YXIgQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudChyZXF1ZXN0Q2xpZW50LCBhdXRoUm91dGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBiYXNlUm91dGUgPSBhdXRoUm91dGVzLmJhc2VBdXRoUm91dGUgKyBcIi9hcGlfa2V5c1wiO1xuICAgICAgICB2YXIgbmFtZSA9IFVzZXJBcGlLZXlBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5hbWUsIHJlcXVlc3RDbGllbnQsIGJhc2VSb3V0ZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuY3JlYXRlQXBpS2V5ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hBdXRoRG9jUmVxdWVzdC5CdWlsZGVyKCk7XG4gICAgICAgIHJlcUJ1aWxkZXJcbiAgICAgICAgICAgIC53aXRoTWV0aG9kKE1ldGhvZC5QT1NUKVxuICAgICAgICAgICAgLndpdGhQYXRoKHRoaXMuYmFzZVJvdXRlKVxuICAgICAgICAgICAgLndpdGhEb2N1bWVudCgoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0FwaUtleUZpZWxkcy5OQU1FXSA9IG5hbWUsXG4gICAgICAgICAgICBfYSkpXG4gICAgICAgICAgICAud2l0aFJlZnJlc2hUb2tlbigpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50XG4gICAgICAgICAgICAuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBVc2VyQXBpS2V5LnJlYWRGcm9tQXBpKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IHdyYXBEZWNvZGluZ0Vycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmZldGNoQXBpS2V5ID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLkdFVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLmdldEFwaUtleVJvdXRlKGtleUlkLnRvSGV4U3RyaW5nKCkpKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoUmVmcmVzaFRva2VuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnRcbiAgICAgICAgICAgIC5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIFVzZXJBcGlLZXkucmVhZEZyb21BcGkocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdGhyb3cgd3JhcERlY29kaW5nRXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZmV0Y2hBcGlLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hBdXRoUmVxdWVzdC5CdWlsZGVyKCk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aE1ldGhvZChNZXRob2QuR0VUKS53aXRoUGF0aCh0aGlzLmJhc2VSb3V0ZSk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aFJlZnJlc2hUb2tlbigpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50XG4gICAgICAgICAgICAuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb24ubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gVXNlckFwaUtleS5yZWFkRnJvbUFwaSh2YWx1ZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlcXVlc3RFcnJvcihuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIG5vbi1hcnJheSByZXNwb25zZSBmcm9tIHNlcnZlclwiKSwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZS5ERUNPRElOR19FUlJPUik7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdGhyb3cgd3JhcERlY29kaW5nRXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZGVsZXRlQXBpS2V5ID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLkRFTEVURSlcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLmdldEFwaUtleVJvdXRlKGtleUlkLnRvSGV4U3RyaW5nKCkpKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoUmVmcmVzaFRva2VuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnRcbiAgICAgICAgICAgIC5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgfTtcbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZW5hYmxlQXBpS2V5ID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBVVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLmdldEFwaUtleUVuYWJsZVJvdXRlKGtleUlkLnRvSGV4U3RyaW5nKCkpKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoUmVmcmVzaFRva2VuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnRcbiAgICAgICAgICAgIC5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgfTtcbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZGlzYWJsZUFwaUtleSA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hBdXRoUmVxdWVzdC5CdWlsZGVyKCk7XG4gICAgICAgIHJlcUJ1aWxkZXJcbiAgICAgICAgICAgIC53aXRoTWV0aG9kKE1ldGhvZC5QVVQpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5nZXRBcGlLZXlEaXNhYmxlUm91dGUoa2V5SWQudG9IZXhTdHJpbmcoKSkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhSZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudFxuICAgICAgICAgICAgLmRvQXV0aGVudGljYXRlZFJlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5nZXRBcGlLZXlSb3V0ZSA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlUm91dGUgKyBcIi9cIiArIGtleUlkO1xuICAgIH07XG4gICAgQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmdldEFwaUtleUVuYWJsZVJvdXRlID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFwaUtleVJvdXRlKGtleUlkKSArIFwiL2VuYWJsZVwiO1xuICAgIH07XG4gICAgQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmdldEFwaUtleURpc2FibGVSb3V0ZSA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBcGlLZXlSb3V0ZShrZXlJZCkgKyBcIi9kaXNhYmxlXCI7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQ7XG59KENvcmVBdXRoUHJvdmlkZXJDbGllbnQpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/CoreUserApiKeyAuthProviderClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyAuthProvider.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyAuthProvider.js ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar UserApiKeyAuthProvider = (function () {\n    function UserApiKeyAuthProvider() {\n    }\n    UserApiKeyAuthProvider.TYPE = \"api-key\";\n    UserApiKeyAuthProvider.DEFAULT_NAME = \"api-key\";\n    return UserApiKeyAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserApiKeyAuthProvider);\n//# sourceMappingURL=UserApiKeyAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUF1dGhQcm92aWRlci5qcz85NmQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHFGQUFzQixFQUFDO0FBQ3RDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUF1dGhQcm92aWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyLlRZUEUgPSBcImFwaS1rZXlcIjtcbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRSA9IFwiYXBpLWtleVwiO1xuICAgIHJldHVybiBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJBcGlLZXlBdXRoUHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyCredential.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyCredential.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _UserApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserApiKeyAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyAuthProvider.js\");\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"KEY\"] = \"key\";\n})(Fields || (Fields = {}));\nvar UserApiKeyCredential = (function () {\n    function UserApiKeyCredential(key, providerName) {\n        var _a;\n        if (providerName === void 0) { providerName = _UserApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.providerType = _UserApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.providerCapabilities = new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](false);\n        this.providerName = providerName;\n        this.key = key;\n        this.material = (_a = {},\n            _a[Fields.KEY] = this.key,\n            _a);\n    }\n    return UserApiKeyCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserApiKeyCredential);\n//# sourceMappingURL=UserApiKeyCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUNyZWRlbnRpYWwuanM/M2UzZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBOEQ7QUFDQTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0JBQWdCLCtEQUFzQixjQUFjO0FBQzFGLDRCQUE0QiwrREFBc0I7QUFDbEQsd0NBQXdDLDZEQUFvQjtBQUM1RDtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLG1GQUFvQixFQUFDO0FBQ3BDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUNyZWRlbnRpYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvdmlkZXJDYXBhYmlsaXRpZXMgZnJvbSBcIi4uLy4uL1Byb3ZpZGVyQ2FwYWJpbGl0aWVzXCI7XG5pbXBvcnQgVXNlckFwaUtleUF1dGhQcm92aWRlciBmcm9tIFwiLi9Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyXCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJLRVlcIl0gPSBcImtleVwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIFVzZXJBcGlLZXlDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVc2VyQXBpS2V5Q3JlZGVudGlhbChrZXksIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IFVzZXJBcGlLZXlBdXRoUHJvdmlkZXIuVFlQRTtcbiAgICAgICAgdGhpcy5wcm92aWRlckNhcGFiaWxpdGllcyA9IG5ldyBQcm92aWRlckNhcGFiaWxpdGllcyhmYWxzZSk7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRmllbGRzLktFWV0gPSB0aGlzLmtleSxcbiAgICAgICAgICAgIF9hKTtcbiAgICB9XG4gICAgcmV0dXJuIFVzZXJBcGlLZXlDcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJBcGlLZXlDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXNlckFwaUtleUNyZWRlbnRpYWwuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/models/UserApiKey.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/models/UserApiKey.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../internal/common/Assertions */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Assertions.js\");\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"ID\"] = \"_id\";\n    Fields[\"KEY\"] = \"key\";\n    Fields[\"NAME\"] = \"name\";\n    Fields[\"DISABLED\"] = \"disabled\";\n})(Fields || (Fields = {}));\nvar UserApiKey = (function () {\n    function UserApiKey(id, key, name, disabled) {\n        this.id = bson__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ObjectID.createFromHexString(id);\n        this.key = key;\n        this.name = name;\n        this.disabled = disabled;\n    }\n    UserApiKey.readFromApi = function (json) {\n        var body = typeof json === \"string\" ? JSON.parse(json) : json;\n        _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].keyPresent(Fields.ID, body);\n        _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].keyPresent(Fields.NAME, body);\n        _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].keyPresent(Fields.DISABLED, body);\n        return new UserApiKey(body[Fields.ID], body[Fields.KEY], body[Fields.NAME], body[Fields.DISABLED]);\n    };\n    UserApiKey.prototype.toJSON = function () {\n        var _a;\n        return _a = {},\n            _a[Fields.ID] = this.id,\n            _a[Fields.KEY] = this.key,\n            _a[Fields.NAME] = this.name,\n            _a[Fields.DISABLED] = this.disabled,\n            _a;\n    };\n    return UserApiKey;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserApiKey);\n//# sourceMappingURL=UserApiKey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvbW9kZWxzL1VzZXJBcGlLZXkuanM/ZDJmYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBd0I7QUFDd0M7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBLGtCQUFrQiw0Q0FBSTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFVO0FBQ2xCLFFBQVEsbUVBQVU7QUFDbEIsUUFBUSxtRUFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyx5RUFBVSxFQUFDO0FBQzFCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvbW9kZWxzL1VzZXJBcGlLZXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQlNPTiBmcm9tIFwiYnNvblwiO1xuaW1wb3J0IEFzc2VydGlvbnMgZnJvbSBcIi4uLy4uLy4uLy4uL2ludGVybmFsL2NvbW1vbi9Bc3NlcnRpb25zXCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJJRFwiXSA9IFwiX2lkXCI7XG4gICAgRmllbGRzW1wiS0VZXCJdID0gXCJrZXlcIjtcbiAgICBGaWVsZHNbXCJOQU1FXCJdID0gXCJuYW1lXCI7XG4gICAgRmllbGRzW1wiRElTQUJMRURcIl0gPSBcImRpc2FibGVkXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgVXNlckFwaUtleSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXNlckFwaUtleShpZCwga2V5LCBuYW1lLCBkaXNhYmxlZCkge1xuICAgICAgICB0aGlzLmlkID0gQlNPTi5PYmplY3RJRC5jcmVhdGVGcm9tSGV4U3RyaW5nKGlkKTtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICB9XG4gICAgVXNlckFwaUtleS5yZWFkRnJvbUFwaSA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIHZhciBib2R5ID0gdHlwZW9mIGpzb24gPT09IFwic3RyaW5nXCIgPyBKU09OLnBhcnNlKGpzb24pIDoganNvbjtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KEZpZWxkcy5JRCwgYm9keSk7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChGaWVsZHMuTkFNRSwgYm9keSk7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChGaWVsZHMuRElTQUJMRUQsIGJvZHkpO1xuICAgICAgICByZXR1cm4gbmV3IFVzZXJBcGlLZXkoYm9keVtGaWVsZHMuSURdLCBib2R5W0ZpZWxkcy5LRVldLCBib2R5W0ZpZWxkcy5OQU1FXSwgYm9keVtGaWVsZHMuRElTQUJMRURdKTtcbiAgICB9O1xuICAgIFVzZXJBcGlLZXkucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5JRF0gPSB0aGlzLmlkLFxuICAgICAgICAgICAgX2FbRmllbGRzLktFWV0gPSB0aGlzLmtleSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5OQU1FXSA9IHRoaXMubmFtZSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5ESVNBQkxFRF0gPSB0aGlzLmRpc2FibGVkLFxuICAgICAgICAgICAgX2E7XG4gICAgfTtcbiAgICByZXR1cm4gVXNlckFwaUtleTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyQXBpS2V5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXNlckFwaUtleS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/models/UserApiKey.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/CoreUserPasswordAuthProviderClient.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/CoreUserPasswordAuthProviderClient.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_net_Method__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../internal/net/Method */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js\");\n/* harmony import */ var _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../internal/net/StitchDocRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchDocRequest.js\");\n/* harmony import */ var _internal_CoreAuthProviderClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../internal/CoreAuthProviderClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/CoreAuthProviderClient.js\");\n/* harmony import */ var _UserPasswordAuthProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UserPasswordAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordAuthProvider.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar RegistrationFields;\n(function (RegistrationFields) {\n    RegistrationFields[\"EMAIL\"] = \"email\";\n    RegistrationFields[\"PASSWORD\"] = \"password\";\n})(RegistrationFields || (RegistrationFields = {}));\nvar ActionFields;\n(function (ActionFields) {\n    ActionFields[\"EMAIL\"] = \"email\";\n    ActionFields[\"PASSWORD\"] = \"password\";\n    ActionFields[\"TOKEN\"] = \"token\";\n    ActionFields[\"TOKEN_ID\"] = \"tokenId\";\n    ActionFields[\"ARGS\"] = \"arguments\";\n})(ActionFields || (ActionFields = {}));\nvar CoreUserPasswordAuthProviderClient = (function (_super) {\n    __extends(CoreUserPasswordAuthProviderClient, _super);\n    function CoreUserPasswordAuthProviderClient(providerName, requestClient, authRoutes) {\n        if (providerName === void 0) { providerName = _UserPasswordAuthProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"].DEFAULT_NAME; }\n        var _this = this;\n        var baseRoute = authRoutes.getAuthProviderRoute(providerName);\n        _this = _super.call(this, providerName, requestClient, baseRoute) || this;\n        return _this;\n    }\n    CoreUserPasswordAuthProviderClient.prototype.registerWithEmailInternal = function (email, password) {\n        var _a;\n        var reqBuilder = new _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_1__[\"StitchDocRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_0__[\"default\"].POST)\n            .withPath(this.getRegisterWithEmailRoute());\n        reqBuilder.withDocument((_a = {},\n            _a[RegistrationFields.EMAIL] = email,\n            _a[RegistrationFields.PASSWORD] = password,\n            _a));\n        return this.requestClient.doRequest(reqBuilder.build()).then(function () { });\n    };\n    CoreUserPasswordAuthProviderClient.prototype.confirmUserInternal = function (token, tokenId) {\n        var _a;\n        var reqBuilder = new _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_1__[\"StitchDocRequest\"].Builder();\n        reqBuilder.withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_0__[\"default\"].POST).withPath(this.getConfirmUserRoute());\n        reqBuilder.withDocument((_a = {},\n            _a[ActionFields.TOKEN] = token,\n            _a[ActionFields.TOKEN_ID] = tokenId,\n            _a));\n        return this.requestClient.doRequest(reqBuilder.build()).then(function () { });\n    };\n    CoreUserPasswordAuthProviderClient.prototype.resendConfirmationEmailInternal = function (email) {\n        var _a;\n        var reqBuilder = new _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_1__[\"StitchDocRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_0__[\"default\"].POST)\n            .withPath(this.getResendConfirmationEmailRoute());\n        reqBuilder.withDocument((_a = {}, _a[ActionFields.EMAIL] = email, _a));\n        return this.requestClient.doRequest(reqBuilder.build()).then(function () { });\n    };\n    CoreUserPasswordAuthProviderClient.prototype.resetPasswordInternal = function (token, tokenId, password) {\n        var _a;\n        var reqBuilder = new _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_1__[\"StitchDocRequest\"].Builder();\n        reqBuilder.withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_0__[\"default\"].POST).withPath(this.getResetPasswordRoute());\n        reqBuilder.withDocument((_a = {},\n            _a[ActionFields.TOKEN] = token,\n            _a[ActionFields.TOKEN_ID] = tokenId,\n            _a[ActionFields.PASSWORD] = password,\n            _a));\n        return this.requestClient.doRequest(reqBuilder.build()).then(function () { });\n    };\n    CoreUserPasswordAuthProviderClient.prototype.sendResetPasswordEmailInternal = function (email) {\n        var _a;\n        var reqBuilder = new _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_1__[\"StitchDocRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_0__[\"default\"].POST)\n            .withPath(this.getSendResetPasswordEmailRoute());\n        reqBuilder.withDocument((_a = {}, _a[ActionFields.EMAIL] = email, _a));\n        return this.requestClient.doRequest(reqBuilder.build()).then(function () { });\n    };\n    CoreUserPasswordAuthProviderClient.prototype.callResetPasswordFunctionInternal = function (email, password, args) {\n        var _a;\n        var reqBuilder = new _internal_net_StitchDocRequest__WEBPACK_IMPORTED_MODULE_1__[\"StitchDocRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_0__[\"default\"].POST)\n            .withPath(this.getCallResetPasswordFunctionRoute());\n        reqBuilder.withDocument((_a = {},\n            _a[ActionFields.EMAIL] = email,\n            _a[ActionFields.PASSWORD] = password,\n            _a[ActionFields.ARGS] = args,\n            _a));\n        return this.requestClient.doRequest(reqBuilder.build()).then(function () { });\n    };\n    CoreUserPasswordAuthProviderClient.prototype.getRegisterWithEmailRoute = function () {\n        return this.getExtensionRoute(\"register\");\n    };\n    CoreUserPasswordAuthProviderClient.prototype.getConfirmUserRoute = function () {\n        return this.getExtensionRoute(\"confirm\");\n    };\n    CoreUserPasswordAuthProviderClient.prototype.getResendConfirmationEmailRoute = function () {\n        return this.getExtensionRoute(\"confirm/send\");\n    };\n    CoreUserPasswordAuthProviderClient.prototype.getResetPasswordRoute = function () {\n        return this.getExtensionRoute(\"reset\");\n    };\n    CoreUserPasswordAuthProviderClient.prototype.getSendResetPasswordEmailRoute = function () {\n        return this.getExtensionRoute(\"reset/send\");\n    };\n    CoreUserPasswordAuthProviderClient.prototype.getCallResetPasswordFunctionRoute = function () {\n        return this.getExtensionRoute(\"reset/call\");\n    };\n    CoreUserPasswordAuthProviderClient.prototype.getExtensionRoute = function (path) {\n        return this.baseRoute + \"/\" + path;\n    };\n    return CoreUserPasswordAuthProviderClient;\n}(_internal_CoreAuthProviderClient__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreUserPasswordAuthProviderClient);\n//# sourceMappingURL=CoreUserPasswordAuthProviderClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzL0NvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQuanM/MGQzMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDaUQ7QUFDd0I7QUFDRjtBQUNOO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9DQUFvQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0JBQWdCLGlFQUF3QixjQUFjO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLCtFQUFnQjtBQUM3QztBQUNBLHdCQUF3Qiw0REFBTTtBQUM5QjtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsRUFBRTtBQUNwRjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0VBQWdCO0FBQzdDLDhCQUE4Qiw0REFBTTtBQUNwQyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLEVBQUU7QUFDcEY7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLCtFQUFnQjtBQUM3QztBQUNBLHdCQUF3Qiw0REFBTTtBQUM5QjtBQUNBLHdDQUF3QztBQUN4QyxrRkFBa0YsRUFBRTtBQUNwRjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0VBQWdCO0FBQzdDLDhCQUE4Qiw0REFBTTtBQUNwQyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsRUFBRTtBQUNwRjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0VBQWdCO0FBQzdDO0FBQ0Esd0JBQXdCLDREQUFNO0FBQzlCO0FBQ0Esd0NBQXdDO0FBQ3hDLGtGQUFrRixFQUFFO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrRUFBZ0I7QUFDN0M7QUFDQSx3QkFBd0IsNERBQU07QUFDOUI7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsRUFBRTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLHdFQUFzQjtBQUNULGlHQUFrQyxFQUFDO0FBQ2xEIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzL0NvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBNZXRob2QgZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL25ldC9NZXRob2RcIjtcbmltcG9ydCB7IFN0aXRjaERvY1JlcXVlc3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvbmV0L1N0aXRjaERvY1JlcXVlc3RcIjtcbmltcG9ydCBDb3JlQXV0aFByb3ZpZGVyQ2xpZW50IGZyb20gXCIuLi9pbnRlcm5hbC9Db3JlQXV0aFByb3ZpZGVyQ2xpZW50XCI7XG5pbXBvcnQgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyIGZyb20gXCIuL1VzZXJQYXNzd29yZEF1dGhQcm92aWRlclwiO1xudmFyIFJlZ2lzdHJhdGlvbkZpZWxkcztcbihmdW5jdGlvbiAoUmVnaXN0cmF0aW9uRmllbGRzKSB7XG4gICAgUmVnaXN0cmF0aW9uRmllbGRzW1wiRU1BSUxcIl0gPSBcImVtYWlsXCI7XG4gICAgUmVnaXN0cmF0aW9uRmllbGRzW1wiUEFTU1dPUkRcIl0gPSBcInBhc3N3b3JkXCI7XG59KShSZWdpc3RyYXRpb25GaWVsZHMgfHwgKFJlZ2lzdHJhdGlvbkZpZWxkcyA9IHt9KSk7XG52YXIgQWN0aW9uRmllbGRzO1xuKGZ1bmN0aW9uIChBY3Rpb25GaWVsZHMpIHtcbiAgICBBY3Rpb25GaWVsZHNbXCJFTUFJTFwiXSA9IFwiZW1haWxcIjtcbiAgICBBY3Rpb25GaWVsZHNbXCJQQVNTV09SRFwiXSA9IFwicGFzc3dvcmRcIjtcbiAgICBBY3Rpb25GaWVsZHNbXCJUT0tFTlwiXSA9IFwidG9rZW5cIjtcbiAgICBBY3Rpb25GaWVsZHNbXCJUT0tFTl9JRFwiXSA9IFwidG9rZW5JZFwiO1xuICAgIEFjdGlvbkZpZWxkc1tcIkFSR1NcIl0gPSBcImFyZ3VtZW50c1wiO1xufSkoQWN0aW9uRmllbGRzIHx8IChBY3Rpb25GaWVsZHMgPSB7fSkpO1xudmFyIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQocHJvdmlkZXJOYW1lLCByZXF1ZXN0Q2xpZW50LCBhdXRoUm91dGVzKSB7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBiYXNlUm91dGUgPSBhdXRoUm91dGVzLmdldEF1dGhQcm92aWRlclJvdXRlKHByb3ZpZGVyTmFtZSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvdmlkZXJOYW1lLCByZXF1ZXN0Q2xpZW50LCBiYXNlUm91dGUpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUucmVnaXN0ZXJXaXRoRW1haWxJbnRlcm5hbCA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5nZXRSZWdpc3RlcldpdGhFbWFpbFJvdXRlKCkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhEb2N1bWVudCgoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW1JlZ2lzdHJhdGlvbkZpZWxkcy5FTUFJTF0gPSBlbWFpbCxcbiAgICAgICAgICAgIF9hW1JlZ2lzdHJhdGlvbkZpZWxkcy5QQVNTV09SRF0gPSBwYXNzd29yZCxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9SZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSkudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuY29uZmlybVVzZXJJbnRlcm5hbCA9IGZ1bmN0aW9uICh0b2tlbiwgdG9rZW5JZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaERvY1JlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpLndpdGhQYXRoKHRoaXMuZ2V0Q29uZmlybVVzZXJSb3V0ZSgpKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoRG9jdW1lbnQoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtBY3Rpb25GaWVsZHMuVE9LRU5dID0gdG9rZW4sXG4gICAgICAgICAgICBfYVtBY3Rpb25GaWVsZHMuVE9LRU5fSURdID0gdG9rZW5JZCxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9SZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSkudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUucmVzZW5kQ29uZmlybWF0aW9uRW1haWxJbnRlcm5hbCA9IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaERvY1JlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuUE9TVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLmdldFJlc2VuZENvbmZpcm1hdGlvbkVtYWlsUm91dGUoKSk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aERvY3VtZW50KChfYSA9IHt9LCBfYVtBY3Rpb25GaWVsZHMuRU1BSUxdID0gZW1haWwsIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9SZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSkudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUucmVzZXRQYXNzd29yZEludGVybmFsID0gZnVuY3Rpb24gKHRva2VuLCB0b2tlbklkLCBwYXNzd29yZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaERvY1JlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpLndpdGhQYXRoKHRoaXMuZ2V0UmVzZXRQYXNzd29yZFJvdXRlKCkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhEb2N1bWVudCgoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0FjdGlvbkZpZWxkcy5UT0tFTl0gPSB0b2tlbixcbiAgICAgICAgICAgIF9hW0FjdGlvbkZpZWxkcy5UT0tFTl9JRF0gPSB0b2tlbklkLFxuICAgICAgICAgICAgX2FbQWN0aW9uRmllbGRzLlBBU1NXT1JEXSA9IHBhc3N3b3JkLFxuICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5kb1JlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpKS50aGVuKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgfTtcbiAgICBDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5zZW5kUmVzZXRQYXNzd29yZEVtYWlsSW50ZXJuYWwgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5nZXRTZW5kUmVzZXRQYXNzd29yZEVtYWlsUm91dGUoKSk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aERvY3VtZW50KChfYSA9IHt9LCBfYVtBY3Rpb25GaWVsZHMuRU1BSUxdID0gZW1haWwsIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9SZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSkudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuY2FsbFJlc2V0UGFzc3dvcmRGdW5jdGlvbkludGVybmFsID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCwgYXJncykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaERvY1JlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuUE9TVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLmdldENhbGxSZXNldFBhc3N3b3JkRnVuY3Rpb25Sb3V0ZSgpKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoRG9jdW1lbnQoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtBY3Rpb25GaWVsZHMuRU1BSUxdID0gZW1haWwsXG4gICAgICAgICAgICBfYVtBY3Rpb25GaWVsZHMuUEFTU1dPUkRdID0gcGFzc3dvcmQsXG4gICAgICAgICAgICBfYVtBY3Rpb25GaWVsZHMuQVJHU10gPSBhcmdzLFxuICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5kb1JlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpKS50aGVuKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgfTtcbiAgICBDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5nZXRSZWdpc3RlcldpdGhFbWFpbFJvdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFeHRlbnNpb25Sb3V0ZShcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0Q29uZmlybVVzZXJSb3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXh0ZW5zaW9uUm91dGUoXCJjb25maXJtXCIpO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0UmVzZW5kQ29uZmlybWF0aW9uRW1haWxSb3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXh0ZW5zaW9uUm91dGUoXCJjb25maXJtL3NlbmRcIik7XG4gICAgfTtcbiAgICBDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5nZXRSZXNldFBhc3N3b3JkUm91dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEV4dGVuc2lvblJvdXRlKFwicmVzZXRcIik7XG4gICAgfTtcbiAgICBDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5nZXRTZW5kUmVzZXRQYXNzd29yZEVtYWlsUm91dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEV4dGVuc2lvblJvdXRlKFwicmVzZXQvc2VuZFwiKTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmdldENhbGxSZXNldFBhc3N3b3JkRnVuY3Rpb25Sb3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXh0ZW5zaW9uUm91dGUoXCJyZXNldC9jYWxsXCIpO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9uUm91dGUgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlUm91dGUgKyBcIi9cIiArIHBhdGg7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudDtcbn0oQ29yZUF1dGhQcm92aWRlckNsaWVudCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/CoreUserPasswordAuthProviderClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordAuthProvider.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordAuthProvider.js ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar UserPasswordAuthProvider = (function () {\n    function UserPasswordAuthProvider() {\n    }\n    UserPasswordAuthProvider.TYPE = \"local-userpass\";\n    UserPasswordAuthProvider.DEFAULT_NAME = \"local-userpass\";\n    return UserPasswordAuthProvider;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserPasswordAuthProvider);\n//# sourceMappingURL=UserPasswordAuthProvider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzL1VzZXJQYXNzd29yZEF1dGhQcm92aWRlci5qcz82MmQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHVGQUF3QixFQUFDO0FBQ3hDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzL1VzZXJQYXNzd29yZEF1dGhQcm92aWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlcigpIHtcbiAgICB9XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyLlRZUEUgPSBcImxvY2FsLXVzZXJwYXNzXCI7XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRSA9IFwibG9jYWwtdXNlcnBhc3NcIjtcbiAgICByZXR1cm4gVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJQYXNzd29yZEF1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVzZXJQYXNzd29yZEF1dGhQcm92aWRlci5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordAuthProvider.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordCredential.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordCredential.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ProviderCapabilities */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/ProviderCapabilities.js\");\n/* harmony import */ var _UserPasswordAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserPasswordAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordAuthProvider.js\");\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"USERNAME\"] = \"username\";\n    Fields[\"PASSWORD\"] = \"password\";\n})(Fields || (Fields = {}));\nvar UserPasswordCredential = (function () {\n    function UserPasswordCredential(username, password, providerName) {\n        var _a;\n        if (providerName === void 0) { providerName = _UserPasswordAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DEFAULT_NAME; }\n        this.username = username;\n        this.password = password;\n        this.providerName = providerName;\n        this.providerType = _UserPasswordAuthProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE;\n        this.providerCapabilities = new _ProviderCapabilities__WEBPACK_IMPORTED_MODULE_0__[\"default\"](false);\n        this.material = (_a = {},\n            _a[Fields.USERNAME] = this.username,\n            _a[Fields.PASSWORD] = this.password,\n            _a);\n    }\n    return UserPasswordCredential;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserPasswordCredential);\n//# sourceMappingURL=UserPasswordCredential.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzL1VzZXJQYXNzd29yZENyZWRlbnRpYWwuanM/M2YxNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBOEQ7QUFDSTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0IsaUVBQXdCLGNBQWM7QUFDNUY7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlFQUF3QjtBQUNwRCx3Q0FBd0MsNkRBQW9CO0FBQzVELGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHFGQUFzQixFQUFDO0FBQ3RDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzL1VzZXJQYXNzd29yZENyZWRlbnRpYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvdmlkZXJDYXBhYmlsaXRpZXMgZnJvbSBcIi4uLy4uL1Byb3ZpZGVyQ2FwYWJpbGl0aWVzXCI7XG5pbXBvcnQgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyIGZyb20gXCIuL1VzZXJQYXNzd29yZEF1dGhQcm92aWRlclwiO1xudmFyIEZpZWxkcztcbihmdW5jdGlvbiAoRmllbGRzKSB7XG4gICAgRmllbGRzW1wiVVNFUk5BTUVcIl0gPSBcInVzZXJuYW1lXCI7XG4gICAgRmllbGRzW1wiUEFTU1dPUkRcIl0gPSBcInBhc3N3b3JkXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgVXNlclBhc3N3b3JkQ3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXNlclBhc3N3b3JkQ3JlZGVudGlhbCh1c2VybmFtZSwgcGFzc3dvcmQsIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIuVFlQRTtcbiAgICAgICAgdGhpcy5wcm92aWRlckNhcGFiaWxpdGllcyA9IG5ldyBQcm92aWRlckNhcGFiaWxpdGllcyhmYWxzZSk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSAoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5VU0VSTkFNRV0gPSB0aGlzLnVzZXJuYW1lLFxuICAgICAgICAgICAgX2FbRmllbGRzLlBBU1NXT1JEXSA9IHRoaXMucGFzc3dvcmQsXG4gICAgICAgICAgICBfYSk7XG4gICAgfVxuICAgIHJldHVybiBVc2VyUGFzc3dvcmRDcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJQYXNzd29yZENyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vc2VyUGFzc3dvcmRDcmVkZW50aWFsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordCredential.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js ***!
  \****************************************************************/
/*! exports provided: BSON, AuthInfo, StitchAuthResponseCredential, AnonymousAuthProvider, AnonymousCredential, ApiStitchUserIdentity, CustomAuthProvider, CustomCredential, FacebookAuthProvider, FacebookCredential, FunctionAuthProvider, FunctionCredential, GoogleAuthProvider, GoogleCredential, ServerApiKeyAuthProvider, ServerApiKeyCredential, UserApiKeyAuthProvider, UserApiKey, UserApiKeyCredential, StitchError, StitchClientError, StitchClientErrorCode, CoreUserApiKeyAuthProviderClient, UserPasswordAuthProvider, UserPasswordCredential, CoreUserPassAuthProviderClient, CoreStitchAppClient, CoreStitchAuth, CoreStitchUserImpl, DeviceFields, BasicRequest, ContentTypes, Event, BaseEventStream, StitchEvent, Headers, Stream, StitchAppClientInfo, StitchAppClientConfiguration, StitchAppRequestClient, StitchAppRoutes, StitchAuthRequest, StitchRequestClient, StitchRequestError, StitchRequestErrorCode, StitchServiceRoutes, StitchServiceError, StitchServiceErrorCode, StitchUserProfileImpl, CoreStitchServiceClientImpl, StitchUserIdentity, StitchAppAuthRoutes, Method, Response, MemoryStorage, handleRequestError, UserType, Assertions, AuthEventKind, RebindEvent, AuthRebindEvent, base64Decode, base64Encode, utf8Slice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BSON\", function() { return bson__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _auth_internal_AuthEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth/internal/AuthEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthEvent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AuthEventKind\", function() { return _auth_internal_AuthEvent__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"]; });\n\n/* harmony import */ var _auth_internal_AuthInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth/internal/AuthInfo */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthInfo.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AuthInfo\", function() { return _auth_internal_AuthInfo__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _auth_internal_CoreStitchAuth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth/internal/CoreStitchAuth */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchAuth.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreStitchAuth\", function() { return _auth_internal_CoreStitchAuth__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _auth_internal_CoreStitchUserImpl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./auth/internal/CoreStitchUserImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/CoreStitchUserImpl.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreStitchUserImpl\", function() { return _auth_internal_CoreStitchUserImpl__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _auth_internal_DeviceFields__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth/internal/DeviceFields */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/DeviceFields.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DeviceFields\", function() { return _auth_internal_DeviceFields__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _auth_internal_models_ApiStitchUserIdentity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth/internal/models/ApiStitchUserIdentity */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/models/ApiStitchUserIdentity.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ApiStitchUserIdentity\", function() { return _auth_internal_models_ApiStitchUserIdentity__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _auth_internal_StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./auth/internal/StitchUserProfileImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/StitchUserProfileImpl.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchUserProfileImpl\", function() { return _auth_internal_StitchUserProfileImpl__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_anonymous_AnonymousAuthProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./auth/providers/anonymous/AnonymousAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AnonymousAuthProvider\", function() { return _auth_providers_anonymous_AnonymousAuthProvider__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_anonymous_AnonymousCredential__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./auth/providers/anonymous/AnonymousCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/anonymous/AnonymousCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AnonymousCredential\", function() { return _auth_providers_anonymous_AnonymousCredential__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_custom_CustomAuthProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./auth/providers/custom/CustomAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomAuthProvider\", function() { return _auth_providers_custom_CustomAuthProvider__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_custom_CustomCredential__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./auth/providers/custom/CustomCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/custom/CustomCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CustomCredential\", function() { return _auth_providers_custom_CustomCredential__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_facebook_FacebookAuthProvider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./auth/providers/facebook/FacebookAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookAuthProvider\", function() { return _auth_providers_facebook_FacebookAuthProvider__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_facebook_FacebookCredential__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./auth/providers/facebook/FacebookCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/facebook/FacebookCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FacebookCredential\", function() { return _auth_providers_facebook_FacebookCredential__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_function_FunctionAuthProvider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./auth/providers/function/FunctionAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FunctionAuthProvider\", function() { return _auth_providers_function_FunctionAuthProvider__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_function_FunctionCredential__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./auth/providers/function/FunctionCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/function/FunctionCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FunctionCredential\", function() { return _auth_providers_function_FunctionCredential__WEBPACK_IMPORTED_MODULE_15__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_google_GoogleAuthProvider__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./auth/providers/google/GoogleAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleAuthProvider\", function() { return _auth_providers_google_GoogleAuthProvider__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_google_GoogleCredential__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./auth/providers/google/GoogleCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/google/GoogleCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GoogleCredential\", function() { return _auth_providers_google_GoogleCredential__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_internal_StitchAuthResponseCredential__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./auth/providers/internal/StitchAuthResponseCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/internal/StitchAuthResponseCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAuthResponseCredential\", function() { return _auth_providers_internal_StitchAuthResponseCredential__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_serverapikey_ServerApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./auth/providers/serverapikey/ServerApiKeyAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ServerApiKeyAuthProvider\", function() { return _auth_providers_serverapikey_ServerApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_19__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_serverapikey_ServerApiKeyCredential__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./auth/providers/serverapikey/ServerApiKeyCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/serverapikey/ServerApiKeyCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ServerApiKeyCredential\", function() { return _auth_providers_serverapikey_ServerApiKeyCredential__WEBPACK_IMPORTED_MODULE_20__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_userapikey_CoreUserApiKeyAuthProviderClient__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./auth/providers/userapikey/CoreUserApiKeyAuthProviderClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/CoreUserApiKeyAuthProviderClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreUserApiKeyAuthProviderClient\", function() { return _auth_providers_userapikey_CoreUserApiKeyAuthProviderClient__WEBPACK_IMPORTED_MODULE_21__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_userapikey_models_UserApiKey__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./auth/providers/userapikey/models/UserApiKey */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/models/UserApiKey.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKey\", function() { return _auth_providers_userapikey_models_UserApiKey__WEBPACK_IMPORTED_MODULE_22__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_userapikey_UserApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./auth/providers/userapikey/UserApiKeyAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyAuthProvider\", function() { return _auth_providers_userapikey_UserApiKeyAuthProvider__WEBPACK_IMPORTED_MODULE_23__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_userapikey_UserApiKeyCredential__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./auth/providers/userapikey/UserApiKeyCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userapikey/UserApiKeyCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserApiKeyCredential\", function() { return _auth_providers_userapikey_UserApiKeyCredential__WEBPACK_IMPORTED_MODULE_24__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_userpass_CoreUserPasswordAuthProviderClient__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./auth/providers/userpass/CoreUserPasswordAuthProviderClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/CoreUserPasswordAuthProviderClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreUserPassAuthProviderClient\", function() { return _auth_providers_userpass_CoreUserPasswordAuthProviderClient__WEBPACK_IMPORTED_MODULE_25__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_userpass_UserPasswordAuthProvider__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./auth/providers/userpass/UserPasswordAuthProvider */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordAuthProvider.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordAuthProvider\", function() { return _auth_providers_userpass_UserPasswordAuthProvider__WEBPACK_IMPORTED_MODULE_26__[\"default\"]; });\n\n/* harmony import */ var _auth_providers_userpass_UserPasswordCredential__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./auth/providers/userpass/UserPasswordCredential */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/providers/userpass/UserPasswordCredential.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserPasswordCredential\", function() { return _auth_providers_userpass_UserPasswordCredential__WEBPACK_IMPORTED_MODULE_27__[\"default\"]; });\n\n/* harmony import */ var _auth_StitchUserIdentity__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./auth/StitchUserIdentity */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/StitchUserIdentity.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchUserIdentity\", function() { return _auth_StitchUserIdentity__WEBPACK_IMPORTED_MODULE_28__[\"default\"]; });\n\n/* harmony import */ var _auth_UserType__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./auth/UserType */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/UserType.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UserType\", function() { return _auth_UserType__WEBPACK_IMPORTED_MODULE_29__[\"default\"]; });\n\n/* harmony import */ var _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./internal/common/Assertions */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Assertions.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Assertions\", function() { return _internal_common_Assertions__WEBPACK_IMPORTED_MODULE_30__[\"default\"]; });\n\n/* harmony import */ var _internal_common_Base64__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./internal/common/Base64 */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Base64.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"base64Decode\", function() { return _internal_common_Base64__WEBPACK_IMPORTED_MODULE_31__[\"base64Decode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"base64Encode\", function() { return _internal_common_Base64__WEBPACK_IMPORTED_MODULE_31__[\"base64Encode\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"utf8Slice\", function() { return _internal_common_Base64__WEBPACK_IMPORTED_MODULE_31__[\"utf8Slice\"]; });\n\n/* harmony import */ var _internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./internal/common/StitchErrorUtils */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/StitchErrorUtils.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"handleRequestError\", function() { return _internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_32__[\"handleRequestError\"]; });\n\n/* harmony import */ var _internal_common_Storage__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./internal/common/Storage */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Storage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MemoryStorage\", function() { return _internal_common_Storage__WEBPACK_IMPORTED_MODULE_33__[\"MemoryStorage\"]; });\n\n/* harmony import */ var _internal_CoreStitchAppClient__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./internal/CoreStitchAppClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/CoreStitchAppClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreStitchAppClient\", function() { return _internal_CoreStitchAppClient__WEBPACK_IMPORTED_MODULE_34__[\"default\"]; });\n\n/* harmony import */ var _internal_net_BaseEventStream__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./internal/net/BaseEventStream */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseEventStream.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BaseEventStream\", function() { return _internal_net_BaseEventStream__WEBPACK_IMPORTED_MODULE_35__[\"default\"]; });\n\n/* harmony import */ var _internal_net_BasicRequest__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./internal/net/BasicRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BasicRequest.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BasicRequest\", function() { return _internal_net_BasicRequest__WEBPACK_IMPORTED_MODULE_36__[\"BasicRequest\"]; });\n\n/* harmony import */ var _internal_net_ContentTypes__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./internal/net/ContentTypes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ContentTypes.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ContentTypes\", function() { return _internal_net_ContentTypes__WEBPACK_IMPORTED_MODULE_37__[\"default\"]; });\n\n/* harmony import */ var _internal_net_Event__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./internal/net/Event */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Event.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Event\", function() { return _internal_net_Event__WEBPACK_IMPORTED_MODULE_38__[\"default\"]; });\n\n/* harmony import */ var _internal_net_Headers__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./internal/net/Headers */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Headers\", function() { return _internal_net_Headers__WEBPACK_IMPORTED_MODULE_39__[\"default\"]; });\n\n/* harmony import */ var _internal_net_Method__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./internal/net/Method */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Method\", function() { return _internal_net_Method__WEBPACK_IMPORTED_MODULE_40__[\"default\"]; });\n\n/* harmony import */ var _internal_net_Response__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./internal/net/Response */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Response.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Response\", function() { return _internal_net_Response__WEBPACK_IMPORTED_MODULE_41__[\"default\"]; });\n\n/* harmony import */ var _internal_net_StitchAppAuthRoutes__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./internal/net/StitchAppAuthRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppAuthRoutes.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppAuthRoutes\", function() { return _internal_net_StitchAppAuthRoutes__WEBPACK_IMPORTED_MODULE_42__[\"default\"]; });\n\n/* harmony import */ var _internal_net_StitchAppRequestClient__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./internal/net/StitchAppRequestClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRequestClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppRequestClient\", function() { return _internal_net_StitchAppRequestClient__WEBPACK_IMPORTED_MODULE_43__[\"default\"]; });\n\n/* harmony import */ var _internal_net_StitchAppRoutes__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./internal/net/StitchAppRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRoutes.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppRoutes\", function() { return _internal_net_StitchAppRoutes__WEBPACK_IMPORTED_MODULE_44__[\"default\"]; });\n\n/* harmony import */ var _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./internal/net/StitchAuthRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAuthRequest\", function() { return _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_45__[\"StitchAuthRequest\"]; });\n\n/* harmony import */ var _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./internal/net/StitchEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchEvent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchEvent\", function() { return _internal_net_StitchEvent__WEBPACK_IMPORTED_MODULE_46__[\"default\"]; });\n\n/* harmony import */ var _internal_net_StitchRequestClient__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./internal/net/StitchRequestClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequestClient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestClient\", function() { return _internal_net_StitchRequestClient__WEBPACK_IMPORTED_MODULE_47__[\"default\"]; });\n\n/* harmony import */ var _services_internal_AuthRebindEvent__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./services/internal/AuthRebindEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/AuthRebindEvent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AuthRebindEvent\", function() { return _services_internal_AuthRebindEvent__WEBPACK_IMPORTED_MODULE_48__[\"default\"]; });\n\n/* harmony import */ var _services_internal_CoreStitchServiceClientImpl__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./services/internal/CoreStitchServiceClientImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/CoreStitchServiceClientImpl.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreStitchServiceClientImpl\", function() { return _services_internal_CoreStitchServiceClientImpl__WEBPACK_IMPORTED_MODULE_49__[\"default\"]; });\n\n/* harmony import */ var _services_internal_RebindEvent__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./services/internal/RebindEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/RebindEvent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RebindEvent\", function() { return _services_internal_RebindEvent__WEBPACK_IMPORTED_MODULE_50__[\"RebindEvent\"]; });\n\n/* harmony import */ var _services_internal_StitchServiceRoutes__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./services/internal/StitchServiceRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/StitchServiceRoutes.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceRoutes\", function() { return _services_internal_StitchServiceRoutes__WEBPACK_IMPORTED_MODULE_51__[\"default\"]; });\n\n/* harmony import */ var _StitchAppClientConfiguration__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./StitchAppClientConfiguration */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientConfiguration.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppClientConfiguration\", function() { return _StitchAppClientConfiguration__WEBPACK_IMPORTED_MODULE_52__[\"StitchAppClientConfiguration\"]; });\n\n/* harmony import */ var _StitchAppClientInfo__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./StitchAppClientInfo */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchAppClientInfo.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchAppClientInfo\", function() { return _StitchAppClientInfo__WEBPACK_IMPORTED_MODULE_53__[\"default\"]; });\n\n/* harmony import */ var _StitchClientError__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./StitchClientError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchClientError\", function() { return _StitchClientError__WEBPACK_IMPORTED_MODULE_54__[\"default\"]; });\n\n/* harmony import */ var _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./StitchClientErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchClientErrorCode.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchClientErrorCode\", function() { return _StitchClientErrorCode__WEBPACK_IMPORTED_MODULE_55__[\"StitchClientErrorCode\"]; });\n\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchError\", function() { return _StitchError__WEBPACK_IMPORTED_MODULE_56__[\"default\"]; });\n\n/* harmony import */ var _StitchRequestError__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./StitchRequestError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestError\", function() { return _StitchRequestError__WEBPACK_IMPORTED_MODULE_57__[\"default\"]; });\n\n/* harmony import */ var _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./StitchRequestErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchRequestErrorCode\", function() { return _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_58__[\"StitchRequestErrorCode\"]; });\n\n/* harmony import */ var _StitchServiceError__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./StitchServiceError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceError\", function() { return _StitchServiceError__WEBPACK_IMPORTED_MODULE_59__[\"default\"]; });\n\n/* harmony import */ var _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./StitchServiceErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StitchServiceErrorCode\", function() { return _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_60__[\"StitchServiceErrorCode\"]; });\n\n/* harmony import */ var _Stream__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./Stream */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/Stream.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Stream\", function() { return _Stream__WEBPACK_IMPORTED_MODULE_61__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2luZGV4LmpzP2U4NjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF3QjtBQUNrQztBQUNWO0FBQ1k7QUFDUTtBQUNaO0FBQ3lCO0FBQ1A7QUFDVztBQUNKO0FBQ0w7QUFDSjtBQUNVO0FBQ0o7QUFDSTtBQUNKO0FBQ0Y7QUFDSjtBQUMwQjtBQUNKO0FBQ0o7QUFDa0I7QUFDckM7QUFDaUI7QUFDSjtBQUNzQjtBQUNoQjtBQUNKO0FBQzNCO0FBQ3BCO0FBQ2U7QUFDMkI7QUFDVDtBQUNkO0FBQ087QUFDSjtBQUNGO0FBQ0o7QUFDZDtBQUNJO0FBQ0Y7QUFDSTtBQUNzQjtBQUNNO0FBQ2Q7QUFDUTtBQUNoQjtBQUNnQjtBQUNIO0FBQ3dCO0FBQzVCO0FBQ1k7QUFDSTtBQUN0QjtBQUNKO0FBQ1k7QUFDeEI7QUFDYztBQUNZO0FBQ1o7QUFDWTtBQUNwQztBQUMwcEM7QUFDeHJDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJTT04gZnJvbSBcImJzb25cIjtcbmltcG9ydCB7IEF1dGhFdmVudEtpbmQgfSBmcm9tIFwiLi9hdXRoL2ludGVybmFsL0F1dGhFdmVudFwiO1xuaW1wb3J0IEF1dGhJbmZvIGZyb20gXCIuL2F1dGgvaW50ZXJuYWwvQXV0aEluZm9cIjtcbmltcG9ydCBDb3JlU3RpdGNoQXV0aCBmcm9tIFwiLi9hdXRoL2ludGVybmFsL0NvcmVTdGl0Y2hBdXRoXCI7XG5pbXBvcnQgQ29yZVN0aXRjaFVzZXJJbXBsIGZyb20gXCIuL2F1dGgvaW50ZXJuYWwvQ29yZVN0aXRjaFVzZXJJbXBsXCI7XG5pbXBvcnQgRGV2aWNlRmllbGRzIGZyb20gXCIuL2F1dGgvaW50ZXJuYWwvRGV2aWNlRmllbGRzXCI7XG5pbXBvcnQgQXBpU3RpdGNoVXNlcklkZW50aXR5IGZyb20gXCIuL2F1dGgvaW50ZXJuYWwvbW9kZWxzL0FwaVN0aXRjaFVzZXJJZGVudGl0eVwiO1xuaW1wb3J0IFN0aXRjaFVzZXJQcm9maWxlSW1wbCBmcm9tIFwiLi9hdXRoL2ludGVybmFsL1N0aXRjaFVzZXJQcm9maWxlSW1wbFwiO1xuaW1wb3J0IEFub255bW91c0F1dGhQcm92aWRlciBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9hbm9ueW1vdXMvQW5vbnltb3VzQXV0aFByb3ZpZGVyXCI7XG5pbXBvcnQgQW5vbnltb3VzQ3JlZGVudGlhbCBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9hbm9ueW1vdXMvQW5vbnltb3VzQ3JlZGVudGlhbFwiO1xuaW1wb3J0IEN1c3RvbUF1dGhQcm92aWRlciBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9jdXN0b20vQ3VzdG9tQXV0aFByb3ZpZGVyXCI7XG5pbXBvcnQgQ3VzdG9tQ3JlZGVudGlhbCBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9jdXN0b20vQ3VzdG9tQ3JlZGVudGlhbFwiO1xuaW1wb3J0IEZhY2Vib29rQXV0aFByb3ZpZGVyIGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rQXV0aFByb3ZpZGVyXCI7XG5pbXBvcnQgRmFjZWJvb2tDcmVkZW50aWFsIGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rQ3JlZGVudGlhbFwiO1xuaW1wb3J0IEZ1bmN0aW9uQXV0aFByb3ZpZGVyIGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL2Z1bmN0aW9uL0Z1bmN0aW9uQXV0aFByb3ZpZGVyXCI7XG5pbXBvcnQgRnVuY3Rpb25DcmVkZW50aWFsIGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL2Z1bmN0aW9uL0Z1bmN0aW9uQ3JlZGVudGlhbFwiO1xuaW1wb3J0IEdvb2dsZUF1dGhQcm92aWRlciBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9nb29nbGUvR29vZ2xlQXV0aFByb3ZpZGVyXCI7XG5pbXBvcnQgR29vZ2xlQ3JlZGVudGlhbCBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9nb29nbGUvR29vZ2xlQ3JlZGVudGlhbFwiO1xuaW1wb3J0IFN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwgZnJvbSBcIi4vYXV0aC9wcm92aWRlcnMvaW50ZXJuYWwvU3RpdGNoQXV0aFJlc3BvbnNlQ3JlZGVudGlhbFwiO1xuaW1wb3J0IFNlcnZlckFwaUtleUF1dGhQcm92aWRlciBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9zZXJ2ZXJhcGlrZXkvU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyXCI7XG5pbXBvcnQgU2VydmVyQXBpS2V5Q3JlZGVudGlhbCBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy9zZXJ2ZXJhcGlrZXkvU2VydmVyQXBpS2V5Q3JlZGVudGlhbFwiO1xuaW1wb3J0IENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50IGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRcIjtcbmltcG9ydCBVc2VyQXBpS2V5IGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvbW9kZWxzL1VzZXJBcGlLZXlcIjtcbmltcG9ydCBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyIGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUF1dGhQcm92aWRlclwiO1xuaW1wb3J0IFVzZXJBcGlLZXlDcmVkZW50aWFsIGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUNyZWRlbnRpYWxcIjtcbmltcG9ydCBDb3JlVXNlclBhc3NBdXRoUHJvdmlkZXJDbGllbnQgZnJvbSBcIi4vYXV0aC9wcm92aWRlcnMvdXNlcnBhc3MvQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudFwiO1xuaW1wb3J0IFVzZXJQYXNzd29yZEF1dGhQcm92aWRlciBmcm9tIFwiLi9hdXRoL3Byb3ZpZGVycy91c2VycGFzcy9Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJcIjtcbmltcG9ydCBVc2VyUGFzc3dvcmRDcmVkZW50aWFsIGZyb20gXCIuL2F1dGgvcHJvdmlkZXJzL3VzZXJwYXNzL1VzZXJQYXNzd29yZENyZWRlbnRpYWxcIjtcbmltcG9ydCBTdGl0Y2hVc2VySWRlbnRpdHkgZnJvbSBcIi4vYXV0aC9TdGl0Y2hVc2VySWRlbnRpdHlcIjtcbmltcG9ydCBVc2VyVHlwZSBmcm9tIFwiLi9hdXRoL1VzZXJUeXBlXCI7XG5pbXBvcnQgQXNzZXJ0aW9ucyBmcm9tIFwiLi9pbnRlcm5hbC9jb21tb24vQXNzZXJ0aW9uc1wiO1xuaW1wb3J0IHsgYmFzZTY0RGVjb2RlLCBiYXNlNjRFbmNvZGUsIHV0ZjhTbGljZSB9IGZyb20gXCIuL2ludGVybmFsL2NvbW1vbi9CYXNlNjRcIjtcbmltcG9ydCB7IGhhbmRsZVJlcXVlc3RFcnJvciB9IGZyb20gXCIuL2ludGVybmFsL2NvbW1vbi9TdGl0Y2hFcnJvclV0aWxzXCI7XG5pbXBvcnQgeyBNZW1vcnlTdG9yYWdlIH0gZnJvbSBcIi4vaW50ZXJuYWwvY29tbW9uL1N0b3JhZ2VcIjtcbmltcG9ydCBDb3JlU3RpdGNoQXBwQ2xpZW50IGZyb20gXCIuL2ludGVybmFsL0NvcmVTdGl0Y2hBcHBDbGllbnRcIjtcbmltcG9ydCBCYXNlRXZlbnRTdHJlYW0gZnJvbSBcIi4vaW50ZXJuYWwvbmV0L0Jhc2VFdmVudFN0cmVhbVwiO1xuaW1wb3J0IHsgQmFzaWNSZXF1ZXN0IH0gZnJvbSBcIi4vaW50ZXJuYWwvbmV0L0Jhc2ljUmVxdWVzdFwiO1xuaW1wb3J0IENvbnRlbnRUeXBlcyBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvQ29udGVudFR5cGVzXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vaW50ZXJuYWwvbmV0L0V2ZW50XCI7XG5pbXBvcnQgSGVhZGVycyBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvSGVhZGVyc1wiO1xuaW1wb3J0IE1ldGhvZCBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvTWV0aG9kXCI7XG5pbXBvcnQgUmVzcG9uc2UgZnJvbSBcIi4vaW50ZXJuYWwvbmV0L1Jlc3BvbnNlXCI7XG5pbXBvcnQgU3RpdGNoQXBwQXV0aFJvdXRlcyBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvU3RpdGNoQXBwQXV0aFJvdXRlc1wiO1xuaW1wb3J0IFN0aXRjaEFwcFJlcXVlc3RDbGllbnQgZnJvbSBcIi4vaW50ZXJuYWwvbmV0L1N0aXRjaEFwcFJlcXVlc3RDbGllbnRcIjtcbmltcG9ydCBTdGl0Y2hBcHBSb3V0ZXMgZnJvbSBcIi4vaW50ZXJuYWwvbmV0L1N0aXRjaEFwcFJvdXRlc1wiO1xuaW1wb3J0IHsgU3RpdGNoQXV0aFJlcXVlc3QgfSBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvU3RpdGNoQXV0aFJlcXVlc3RcIjtcbmltcG9ydCBTdGl0Y2hFdmVudCBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvU3RpdGNoRXZlbnRcIjtcbmltcG9ydCBTdGl0Y2hSZXF1ZXN0Q2xpZW50IGZyb20gXCIuL2ludGVybmFsL25ldC9TdGl0Y2hSZXF1ZXN0Q2xpZW50XCI7XG5pbXBvcnQgQXV0aFJlYmluZEV2ZW50IGZyb20gXCIuL3NlcnZpY2VzL2ludGVybmFsL0F1dGhSZWJpbmRFdmVudFwiO1xuaW1wb3J0IENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCBmcm9tIFwiLi9zZXJ2aWNlcy9pbnRlcm5hbC9Db3JlU3RpdGNoU2VydmljZUNsaWVudEltcGxcIjtcbmltcG9ydCB7IFJlYmluZEV2ZW50IH0gZnJvbSBcIi4vc2VydmljZXMvaW50ZXJuYWwvUmViaW5kRXZlbnRcIjtcbmltcG9ydCBTdGl0Y2hTZXJ2aWNlUm91dGVzIGZyb20gXCIuL3NlcnZpY2VzL2ludGVybmFsL1N0aXRjaFNlcnZpY2VSb3V0ZXNcIjtcbmltcG9ydCB7IFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9TdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgU3RpdGNoQXBwQ2xpZW50SW5mbyBmcm9tIFwiLi9TdGl0Y2hBcHBDbGllbnRJbmZvXCI7XG5pbXBvcnQgU3RpdGNoQ2xpZW50RXJyb3IgZnJvbSBcIi4vU3RpdGNoQ2xpZW50RXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaENsaWVudEVycm9yQ29kZSB9IGZyb20gXCIuL1N0aXRjaENsaWVudEVycm9yQ29kZVwiO1xuaW1wb3J0IFN0aXRjaEVycm9yIGZyb20gXCIuL1N0aXRjaEVycm9yXCI7XG5pbXBvcnQgU3RpdGNoUmVxdWVzdEVycm9yIGZyb20gXCIuL1N0aXRjaFJlcXVlc3RFcnJvclwiO1xuaW1wb3J0IHsgU3RpdGNoUmVxdWVzdEVycm9yQ29kZSB9IGZyb20gXCIuL1N0aXRjaFJlcXVlc3RFcnJvckNvZGVcIjtcbmltcG9ydCBTdGl0Y2hTZXJ2aWNlRXJyb3IgZnJvbSBcIi4vU3RpdGNoU2VydmljZUVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlIH0gZnJvbSBcIi4vU3RpdGNoU2VydmljZUVycm9yQ29kZVwiO1xuaW1wb3J0IFN0cmVhbSBmcm9tIFwiLi9TdHJlYW1cIjtcbmV4cG9ydCB7IEJTT04sIEF1dGhJbmZvLCBTdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsLCBBbm9ueW1vdXNBdXRoUHJvdmlkZXIsIEFub255bW91c0NyZWRlbnRpYWwsIEFwaVN0aXRjaFVzZXJJZGVudGl0eSwgQ3VzdG9tQXV0aFByb3ZpZGVyLCBDdXN0b21DcmVkZW50aWFsLCBGYWNlYm9va0F1dGhQcm92aWRlciwgRmFjZWJvb2tDcmVkZW50aWFsLCBGdW5jdGlvbkF1dGhQcm92aWRlciwgRnVuY3Rpb25DcmVkZW50aWFsLCBHb29nbGVBdXRoUHJvdmlkZXIsIEdvb2dsZUNyZWRlbnRpYWwsIFNlcnZlckFwaUtleUF1dGhQcm92aWRlciwgU2VydmVyQXBpS2V5Q3JlZGVudGlhbCwgVXNlckFwaUtleUF1dGhQcm92aWRlciwgVXNlckFwaUtleSwgVXNlckFwaUtleUNyZWRlbnRpYWwsIFN0aXRjaEVycm9yLCBTdGl0Y2hDbGllbnRFcnJvciwgU3RpdGNoQ2xpZW50RXJyb3JDb2RlLCBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCwgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyLCBVc2VyUGFzc3dvcmRDcmVkZW50aWFsLCBDb3JlVXNlclBhc3NBdXRoUHJvdmlkZXJDbGllbnQsIENvcmVTdGl0Y2hBcHBDbGllbnQsIENvcmVTdGl0Y2hBdXRoLCBDb3JlU3RpdGNoVXNlckltcGwsIERldmljZUZpZWxkcywgQmFzaWNSZXF1ZXN0LCBDb250ZW50VHlwZXMsIEV2ZW50LCBCYXNlRXZlbnRTdHJlYW0sIFN0aXRjaEV2ZW50LCBIZWFkZXJzLCBTdHJlYW0sIFN0aXRjaEFwcENsaWVudEluZm8sIFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24sIFN0aXRjaEFwcFJlcXVlc3RDbGllbnQsIFN0aXRjaEFwcFJvdXRlcywgU3RpdGNoQXV0aFJlcXVlc3QsIFN0aXRjaFJlcXVlc3RDbGllbnQsIFN0aXRjaFJlcXVlc3RFcnJvciwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZSwgU3RpdGNoU2VydmljZVJvdXRlcywgU3RpdGNoU2VydmljZUVycm9yLCBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLCBTdGl0Y2hVc2VyUHJvZmlsZUltcGwsIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCwgU3RpdGNoVXNlcklkZW50aXR5LCBTdGl0Y2hBcHBBdXRoUm91dGVzLCBNZXRob2QsIFJlc3BvbnNlLCBNZW1vcnlTdG9yYWdlLCBoYW5kbGVSZXF1ZXN0RXJyb3IsIFVzZXJUeXBlLCBBc3NlcnRpb25zLCBBdXRoRXZlbnRLaW5kLCBSZWJpbmRFdmVudCwgQXV0aFJlYmluZEV2ZW50LCBiYXNlNjREZWNvZGUsIGJhc2U2NEVuY29kZSwgdXRmOFNsaWNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/CoreStitchAppClient.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/CoreStitchAppClient.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _services_internal_CoreStitchServiceClientImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/internal/CoreStitchServiceClientImpl */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/CoreStitchServiceClientImpl.js\");\n\nvar CoreStitchAppClient = (function () {\n    function CoreStitchAppClient(authRequestClient, routes) {\n        this.functionService =\n            new _services_internal_CoreStitchServiceClientImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](authRequestClient, routes.serviceRoutes);\n    }\n    CoreStitchAppClient.prototype.callFunction = function (name, args, decoder) {\n        return this.functionService.callFunction(name, args, decoder);\n    };\n    return CoreStitchAppClient;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreStitchAppClient);\n//# sourceMappingURL=CoreStitchAppClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL0NvcmVTdGl0Y2hBcHBDbGllbnQuanM/MGVhNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQTJGO0FBQzNGO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzRkFBMkI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxrRkFBbUIsRUFBQztBQUNuQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9Db3JlU3RpdGNoQXBwQ2xpZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCBmcm9tIFwiLi4vc2VydmljZXMvaW50ZXJuYWwvQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsXCI7XG52YXIgQ29yZVN0aXRjaEFwcENsaWVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29yZVN0aXRjaEFwcENsaWVudChhdXRoUmVxdWVzdENsaWVudCwgcm91dGVzKSB7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25TZXJ2aWNlID1cbiAgICAgICAgICAgIG5ldyBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwoYXV0aFJlcXVlc3RDbGllbnQsIHJvdXRlcy5zZXJ2aWNlUm91dGVzKTtcbiAgICB9XG4gICAgQ29yZVN0aXRjaEFwcENsaWVudC5wcm90b3R5cGUuY2FsbEZ1bmN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MsIGRlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuY3Rpb25TZXJ2aWNlLmNhbGxGdW5jdGlvbihuYW1lLCBhcmdzLCBkZWNvZGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBDb3JlU3RpdGNoQXBwQ2xpZW50O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVTdGl0Y2hBcHBDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlU3RpdGNoQXBwQ2xpZW50LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/CoreStitchAppClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Assertions.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Assertions.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Assertions = (function () {\n    function Assertions() {\n    }\n    Assertions.keyPresent = function (key, object) {\n        if (object[key] === undefined) {\n            throw new Error(\"expected \" + key + \" to be present\");\n        }\n    };\n    return Assertions;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Assertions);\n//# sourceMappingURL=Assertions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL2NvbW1vbi9Bc3NlcnRpb25zLmpzPzk3OWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MseUVBQVUsRUFBQztBQUMxQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9jb21tb24vQXNzZXJ0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBBc3NlcnRpb25zID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3NlcnRpb25zKCkge1xuICAgIH1cbiAgICBBc3NlcnRpb25zLmtleVByZXNlbnQgPSBmdW5jdGlvbiAoa2V5LCBvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIFwiICsga2V5ICsgXCIgdG8gYmUgcHJlc2VudFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzc2VydGlvbnM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQXNzZXJ0aW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzc2VydGlvbnMuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Assertions.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Base64.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Base64.js ***!
  \*********************************************************************************/
/*! exports provided: base64Decode, base64Encode, utf8Slice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"base64Decode\", function() { return base64Decode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"base64Encode\", function() { return base64Encode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"utf8Slice\", function() { return utf8Slice; });\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\");\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(base64_js__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction base64Decode(str) {\n    var unevenBytes = str.length % 4;\n    var strToDecode;\n    if (unevenBytes != 0) {\n        var paddingNeeded = 4 - unevenBytes;\n        strToDecode = str + \"=\".repeat(paddingNeeded);\n    }\n    else {\n        strToDecode = str;\n    }\n    var bytes = Object(base64_js__WEBPACK_IMPORTED_MODULE_0__[\"toByteArray\"])(strToDecode);\n    return utf8Slice(bytes, 0, bytes.length);\n}\nfunction base64Encode(str) {\n    var result;\n    if (\"undefined\" === typeof Uint8Array) {\n        result = utf8ToBytes(str);\n    }\n    result = new Uint8Array(utf8ToBytes(str));\n    return Object(base64_js__WEBPACK_IMPORTED_MODULE_0__[\"fromByteArray\"])(result);\n}\nfunction utf8ToBytes(string) {\n    var units = Infinity;\n    var codePoint;\n    var length = string.length;\n    var leadSurrogate = null;\n    var bytes = [];\n    var i = 0;\n    for (; i < length; i++) {\n        codePoint = string.charCodeAt(i);\n        if (codePoint > 0xd7ff && codePoint < 0xe000) {\n            if (leadSurrogate) {\n                if (codePoint < 0xdc00) {\n                    if ((units -= 3) > -1) {\n                        bytes.push(0xef, 0xbf, 0xbd);\n                    }\n                    leadSurrogate = codePoint;\n                    continue;\n                }\n                else {\n                    codePoint =\n                        ((leadSurrogate - 0xd800) << 10) | (codePoint - 0xdc00) | 0x10000;\n                    leadSurrogate = null;\n                }\n            }\n            else {\n                if (codePoint > 0xdbff) {\n                    if ((units -= 3) > -1) {\n                        bytes.push(0xef, 0xbf, 0xbd);\n                    }\n                    continue;\n                }\n                else if (i + 1 === length) {\n                    if ((units -= 3) > -1) {\n                        bytes.push(0xef, 0xbf, 0xbd);\n                    }\n                    continue;\n                }\n                else {\n                    leadSurrogate = codePoint;\n                    continue;\n                }\n            }\n        }\n        else if (leadSurrogate) {\n            if ((units -= 3) > -1) {\n                bytes.push(0xef, 0xbf, 0xbd);\n            }\n            leadSurrogate = null;\n        }\n        if (codePoint < 0x80) {\n            if ((units -= 1) < 0) {\n                break;\n            }\n            bytes.push(codePoint);\n        }\n        else if (codePoint < 0x800) {\n            if ((units -= 2) < 0) {\n                break;\n            }\n            bytes.push((codePoint >> 0x6) | 0xc0, (codePoint & 0x3f) | 0x80);\n        }\n        else if (codePoint < 0x10000) {\n            if ((units -= 3) < 0) {\n                break;\n            }\n            bytes.push((codePoint >> 0xc) | 0xe0, ((codePoint >> 0x6) & 0x3f) | 0x80, (codePoint & 0x3f) | 0x80);\n        }\n        else if (codePoint < 0x200000) {\n            if ((units -= 4) < 0) {\n                break;\n            }\n            bytes.push((codePoint >> 0x12) | 0xf0, ((codePoint >> 0xc) & 0x3f) | 0x80, ((codePoint >> 0x6) & 0x3f) | 0x80, (codePoint & 0x3f) | 0x80);\n        }\n        else {\n            throw new Error(\"Invalid code point\");\n        }\n    }\n    return bytes;\n}\nfunction utf8Slice(buf, start, end) {\n    var res = \"\";\n    var tmp = \"\";\n    end = Math.min(buf.length, end || Infinity);\n    start = start || 0;\n    for (var i = start; i < end; i++) {\n        if (buf[i] <= 0x7f) {\n            res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i]);\n            tmp = \"\";\n        }\n        else {\n            tmp += \"%\" + buf[i].toString(16);\n        }\n    }\n    return res + decodeUtf8Char(tmp);\n}\nfunction decodeUtf8Char(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch (err) {\n        return String.fromCharCode(0xfffd);\n    }\n}\n//# sourceMappingURL=Base64.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL2NvbW1vbi9CYXNlNjQuanM/MzQ3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBdUQ7QUFDaEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkRBQVc7QUFDM0I7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0RBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixTQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL2NvbW1vbi9CYXNlNjQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tQnl0ZUFycmF5LCB0b0J5dGVBcnJheSB9IGZyb20gXCJiYXNlNjQtanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjREZWNvZGUoc3RyKSB7XG4gICAgdmFyIHVuZXZlbkJ5dGVzID0gc3RyLmxlbmd0aCAlIDQ7XG4gICAgdmFyIHN0clRvRGVjb2RlO1xuICAgIGlmICh1bmV2ZW5CeXRlcyAhPSAwKSB7XG4gICAgICAgIHZhciBwYWRkaW5nTmVlZGVkID0gNCAtIHVuZXZlbkJ5dGVzO1xuICAgICAgICBzdHJUb0RlY29kZSA9IHN0ciArIFwiPVwiLnJlcGVhdChwYWRkaW5nTmVlZGVkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0clRvRGVjb2RlID0gc3RyO1xuICAgIH1cbiAgICB2YXIgYnl0ZXMgPSB0b0J5dGVBcnJheShzdHJUb0RlY29kZSk7XG4gICAgcmV0dXJuIHV0ZjhTbGljZShieXRlcywgMCwgYnl0ZXMubGVuZ3RoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRFbmNvZGUoc3RyKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmVzdWx0ID0gdXRmOFRvQnl0ZXMoc3RyKTtcbiAgICB9XG4gICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodXRmOFRvQnl0ZXMoc3RyKSk7XG4gICAgcmV0dXJuIGZyb21CeXRlQXJyYXkocmVzdWx0KTtcbn1cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzKHN0cmluZykge1xuICAgIHZhciB1bml0cyA9IEluZmluaXR5O1xuICAgIHZhciBjb2RlUG9pbnQ7XG4gICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsO1xuICAgIHZhciBieXRlcyA9IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhkN2ZmICYmIGNvZGVQb2ludCA8IDB4ZTAwMCkge1xuICAgICAgICAgICAgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50IDwgMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGVmLCAweGJmLCAweGJkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoKGxlYWRTdXJyb2dhdGUgLSAweGQ4MDApIDw8IDEwKSB8IChjb2RlUG9pbnQgLSAweGRjMDApIHwgMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4ZGJmZikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzLnB1c2goMHhlZiwgMHhiZiwgMHhiZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlcy5wdXNoKDB4ZWYsIDB4YmYsIDB4YmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkge1xuICAgICAgICAgICAgICAgIGJ5dGVzLnB1c2goMHhlZiwgMHhiZiwgMHhiZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZWFkU3Vycm9nYXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVzLnB1c2goKGNvZGVQb2ludCA+PiAweDYpIHwgMHhjMCwgKGNvZGVQb2ludCAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVzLnB1c2goKGNvZGVQb2ludCA+PiAweGMpIHwgMHhlMCwgKChjb2RlUG9pbnQgPj4gMHg2KSAmIDB4M2YpIHwgMHg4MCwgKGNvZGVQb2ludCAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZVBvaW50IDwgMHgyMDAwMDApIHtcbiAgICAgICAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlcy5wdXNoKChjb2RlUG9pbnQgPj4gMHgxMikgfCAweGYwLCAoKGNvZGVQb2ludCA+PiAweGMpICYgMHgzZikgfCAweDgwLCAoKGNvZGVQb2ludCA+PiAweDYpICYgMHgzZikgfCAweDgwLCAoY29kZVBvaW50ICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdXRmOFNsaWNlKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICAgIHZhciByZXMgPSBcIlwiO1xuICAgIHZhciB0bXAgPSBcIlwiO1xuICAgIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCB8fCBJbmZpbml0eSk7XG4gICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGlmIChidWZbaV0gPD0gMHg3Zikge1xuICAgICAgICAgICAgcmVzICs9IGRlY29kZVV0ZjhDaGFyKHRtcCkgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7XG4gICAgICAgICAgICB0bXAgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG1wICs9IFwiJVwiICsgYnVmW2ldLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzICsgZGVjb2RlVXRmOENoYXIodG1wKTtcbn1cbmZ1bmN0aW9uIGRlY29kZVV0ZjhDaGFyKHN0cikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgweGZmZmQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2U2NC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Base64.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/StitchErrorUtils.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/StitchErrorUtils.js ***!
  \*******************************************************************************************/
/*! exports provided: wrapDecodingError, handleRequestError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"wrapDecodingError\", function() { return wrapDecodingError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleRequestError\", function() { return handleRequestError; });\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\n/* harmony import */ var _StitchRequestError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../StitchRequestError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js\");\n/* harmony import */ var _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../StitchRequestErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js\");\n/* harmony import */ var _StitchServiceError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../StitchServiceError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceError.js\");\n/* harmony import */ var _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../StitchServiceErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js\");\n/* harmony import */ var _net_ContentTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../net/ContentTypes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ContentTypes.js\");\n/* harmony import */ var _net_Headers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../net/Headers */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js\");\n\n\n\n\n\n\n\nvar Fields;\n(function (Fields) {\n    Fields[\"ERROR\"] = \"error\";\n    Fields[\"ERROR_CODE\"] = \"error_code\";\n})(Fields || (Fields = {}));\nfunction wrapDecodingError(err) {\n    if (err instanceof _StitchError__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n        return err;\n    }\n    return new _StitchRequestError__WEBPACK_IMPORTED_MODULE_1__[\"default\"](err, _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_2__[\"StitchRequestErrorCode\"].DECODING_ERROR);\n}\nfunction handleRequestError(response) {\n    if (response.body === undefined) {\n        throw new _StitchServiceError__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"received unexpected status code \" + response.statusCode, _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_4__[\"StitchServiceErrorCode\"].Unknown);\n    }\n    var body;\n    try {\n        body = response.body;\n    }\n    catch (e) {\n        throw new _StitchServiceError__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"received unexpected status code \" + response.statusCode, _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_4__[\"StitchServiceErrorCode\"].Unknown);\n    }\n    var errorMsg = handleRichError(response, body);\n    throw new _StitchServiceError__WEBPACK_IMPORTED_MODULE_3__[\"default\"](errorMsg, _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_4__[\"StitchServiceErrorCode\"].Unknown);\n}\nfunction handleRichError(response, body) {\n    if (response.headers[_net_Headers__WEBPACK_IMPORTED_MODULE_6__[\"default\"].CONTENT_TYPE] === undefined ||\n        (response.headers[_net_Headers__WEBPACK_IMPORTED_MODULE_6__[\"default\"].CONTENT_TYPE] !== undefined &&\n            response.headers[_net_Headers__WEBPACK_IMPORTED_MODULE_6__[\"default\"].CONTENT_TYPE] !== _net_ContentTypes__WEBPACK_IMPORTED_MODULE_5__[\"default\"].APPLICATION_JSON)) {\n        return body;\n    }\n    var bsonObj = JSON.parse(body);\n    if (!(bsonObj instanceof Object)) {\n        return body;\n    }\n    var doc = bsonObj;\n    if (doc[Fields.ERROR] === undefined) {\n        return body;\n    }\n    var errorMsg = doc[Fields.ERROR];\n    if (doc[Fields.ERROR_CODE] === undefined) {\n        return errorMsg;\n    }\n    var errorCode = doc[Fields.ERROR_CODE];\n    throw new _StitchServiceError__WEBPACK_IMPORTED_MODULE_3__[\"default\"](errorMsg, Object(_StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_4__[\"stitchServiceErrorCodeFromApi\"])(errorCode));\n}\n//# sourceMappingURL=StitchErrorUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL2NvbW1vbi9TdGl0Y2hFcnJvclV0aWxzLmpzPzYzYjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNEM7QUFDYztBQUNZO0FBQ1o7QUFDMkM7QUFDdEQ7QUFDVjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ2xCO0FBQ1AsdUJBQXVCLG9EQUFXO0FBQ2xDO0FBQ0E7QUFDQSxlQUFlLDJEQUFrQixNQUFNLDhFQUFzQjtBQUM3RDtBQUNPO0FBQ1A7QUFDQSxrQkFBa0IsMkRBQWtCLDJEQUEyRCw4RUFBc0I7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDJEQUFrQiwyREFBMkQsOEVBQXNCO0FBQ3JIO0FBQ0E7QUFDQSxjQUFjLDJEQUFrQixXQUFXLDhFQUFzQjtBQUNqRTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFPO0FBQ2hDLDBCQUEwQixvREFBTztBQUNqQyw2QkFBNkIsb0RBQU8sbUJBQW1CLHlEQUFZO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQWtCLFdBQVcsNkZBQTZCO0FBQ3hFO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvY29tbW9uL1N0aXRjaEVycm9yVXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RpdGNoRXJyb3IgZnJvbSBcIi4uLy4uL1N0aXRjaEVycm9yXCI7XG5pbXBvcnQgU3RpdGNoUmVxdWVzdEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hSZXF1ZXN0RXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaFJlcXVlc3RFcnJvckNvZGUgfSBmcm9tIFwiLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yQ29kZVwiO1xuaW1wb3J0IFN0aXRjaFNlcnZpY2VFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoU2VydmljZUVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLCBzdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlRnJvbUFwaSB9IGZyb20gXCIuLi8uLi9TdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlXCI7XG5pbXBvcnQgQ29udGVudFR5cGVzIGZyb20gXCIuLi9uZXQvQ29udGVudFR5cGVzXCI7XG5pbXBvcnQgSGVhZGVycyBmcm9tIFwiLi4vbmV0L0hlYWRlcnNcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIkVSUk9SXCJdID0gXCJlcnJvclwiO1xuICAgIEZpZWxkc1tcIkVSUk9SX0NPREVcIl0gPSBcImVycm9yX2NvZGVcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiB3cmFwRGVjb2RpbmdFcnJvcihlcnIpIHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgU3RpdGNoRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdGl0Y2hSZXF1ZXN0RXJyb3IoZXJyLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLkRFQ09ESU5HX0VSUk9SKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0RXJyb3IocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2UuYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBTdGl0Y2hTZXJ2aWNlRXJyb3IoXCJyZWNlaXZlZCB1bmV4cGVjdGVkIHN0YXR1cyBjb2RlIFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSwgU3RpdGNoU2VydmljZUVycm9yQ29kZS5Vbmtub3duKTtcbiAgICB9XG4gICAgdmFyIGJvZHk7XG4gICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBTdGl0Y2hTZXJ2aWNlRXJyb3IoXCJyZWNlaXZlZCB1bmV4cGVjdGVkIHN0YXR1cyBjb2RlIFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSwgU3RpdGNoU2VydmljZUVycm9yQ29kZS5Vbmtub3duKTtcbiAgICB9XG4gICAgdmFyIGVycm9yTXNnID0gaGFuZGxlUmljaEVycm9yKHJlc3BvbnNlLCBib2R5KTtcbiAgICB0aHJvdyBuZXcgU3RpdGNoU2VydmljZUVycm9yKGVycm9yTXNnLCBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlVua25vd24pO1xufVxuZnVuY3Rpb24gaGFuZGxlUmljaEVycm9yKHJlc3BvbnNlLCBib2R5KSB7XG4gICAgaWYgKHJlc3BvbnNlLmhlYWRlcnNbSGVhZGVycy5DT05URU5UX1RZUEVdID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKHJlc3BvbnNlLmhlYWRlcnNbSGVhZGVycy5DT05URU5UX1RZUEVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnNbSGVhZGVycy5DT05URU5UX1RZUEVdICE9PSBDb250ZW50VHlwZXMuQVBQTElDQVRJT05fSlNPTikpIHtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuICAgIHZhciBic29uT2JqID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICBpZiAoIShic29uT2JqIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9XG4gICAgdmFyIGRvYyA9IGJzb25PYmo7XG4gICAgaWYgKGRvY1tGaWVsZHMuRVJST1JdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuICAgIHZhciBlcnJvck1zZyA9IGRvY1tGaWVsZHMuRVJST1JdO1xuICAgIGlmIChkb2NbRmllbGRzLkVSUk9SX0NPREVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yTXNnO1xuICAgIH1cbiAgICB2YXIgZXJyb3JDb2RlID0gZG9jW0ZpZWxkcy5FUlJPUl9DT0RFXTtcbiAgICB0aHJvdyBuZXcgU3RpdGNoU2VydmljZUVycm9yKGVycm9yTXNnLCBzdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlRnJvbUFwaShlcnJvckNvZGUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEVycm9yVXRpbHMuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/StitchErrorUtils.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Storage.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Storage.js ***!
  \**********************************************************************************/
/*! exports provided: MemoryStorage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MemoryStorage\", function() { return MemoryStorage; });\nvar MemoryStorage = (function () {\n    function MemoryStorage(suiteName) {\n        this.suiteName = suiteName;\n        this.storage = {};\n    }\n    MemoryStorage.prototype.get = function (key) {\n        return this.storage[this.suiteName + \".\" + key];\n    };\n    MemoryStorage.prototype.set = function (key, value) {\n        this.storage[this.suiteName + \".\" + key] = value;\n    };\n    MemoryStorage.prototype.remove = function (key) {\n        delete this.storage[this.suiteName + \".\" + key];\n    };\n    return MemoryStorage;\n}());\n\n//# sourceMappingURL=Storage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL2NvbW1vbi9TdG9yYWdlLmpzPzlkMWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDd0I7QUFDekIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvY29tbW9uL1N0b3JhZ2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTWVtb3J5U3RvcmFnZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVtb3J5U3RvcmFnZShzdWl0ZU5hbWUpIHtcbiAgICAgICAgdGhpcy5zdWl0ZU5hbWUgPSBzdWl0ZU5hbWU7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHt9O1xuICAgIH1cbiAgICBNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2VbdGhpcy5zdWl0ZU5hbWUgKyBcIi5cIiArIGtleV07XG4gICAgfTtcbiAgICBNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2VbdGhpcy5zdWl0ZU5hbWUgKyBcIi5cIiArIGtleV0gPSB2YWx1ZTtcbiAgICB9O1xuICAgIE1lbW9yeVN0b3JhZ2UucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RvcmFnZVt0aGlzLnN1aXRlTmFtZSArIFwiLlwiICsga2V5XTtcbiAgICB9O1xuICAgIHJldHVybiBNZW1vcnlTdG9yYWdlO1xufSgpKTtcbmV4cG9ydCB7IE1lbW9yeVN0b3JhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0b3JhZ2UuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Storage.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ApiAppMetadata.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ApiAppMetadata.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Fields;\n(function (Fields) {\n    Fields[\"DEPLOYMENT_MODEL\"] = \"deployment_model\";\n    Fields[\"LOCATION\"] = \"location\";\n    Fields[\"HOSTNAME\"] = \"hostname\";\n})(Fields || (Fields = {}));\nvar ApiAppMetadata = (function () {\n    function ApiAppMetadata(deploymentModel, location, hostname) {\n        this.deploymentModel = deploymentModel;\n        this.location = location;\n        this.hostname = hostname;\n    }\n    ApiAppMetadata.fromJSON = function (json) {\n        return new ApiAppMetadata(json[Fields.DEPLOYMENT_MODEL], json[Fields.LOCATION], json[Fields.HOSTNAME]);\n    };\n    ApiAppMetadata.prototype.toJSON = function () {\n        var _a;\n        return _a = {},\n            _a[Fields.DEPLOYMENT_MODEL] = this.deploymentModel,\n            _a[Fields.LOCATION] = this.location,\n            _a[Fields.HOSTNAME] = this.hostname,\n            _a;\n    };\n    return ApiAppMetadata;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (ApiAppMetadata);\n//# sourceMappingURL=ApiAppMetadata.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9BcGlBcHBNZXRhZGF0YS5qcz9kYjU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLDZFQUFjLEVBQUM7QUFDOUIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L0FwaUFwcE1ldGFkYXRhLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEZpZWxkcztcbihmdW5jdGlvbiAoRmllbGRzKSB7XG4gICAgRmllbGRzW1wiREVQTE9ZTUVOVF9NT0RFTFwiXSA9IFwiZGVwbG95bWVudF9tb2RlbFwiO1xuICAgIEZpZWxkc1tcIkxPQ0FUSU9OXCJdID0gXCJsb2NhdGlvblwiO1xuICAgIEZpZWxkc1tcIkhPU1ROQU1FXCJdID0gXCJob3N0bmFtZVwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIEFwaUFwcE1ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcGlBcHBNZXRhZGF0YShkZXBsb3ltZW50TW9kZWwsIGxvY2F0aW9uLCBob3N0bmFtZSkge1xuICAgICAgICB0aGlzLmRlcGxveW1lbnRNb2RlbCA9IGRlcGxveW1lbnRNb2RlbDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmhvc3RuYW1lID0gaG9zdG5hbWU7XG4gICAgfVxuICAgIEFwaUFwcE1ldGFkYXRhLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcGlBcHBNZXRhZGF0YShqc29uW0ZpZWxkcy5ERVBMT1lNRU5UX01PREVMXSwganNvbltGaWVsZHMuTE9DQVRJT05dLCBqc29uW0ZpZWxkcy5IT1NUTkFNRV0pO1xuICAgIH07XG4gICAgQXBpQXBwTWV0YWRhdGEucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5ERVBMT1lNRU5UX01PREVMXSA9IHRoaXMuZGVwbG95bWVudE1vZGVsLFxuICAgICAgICAgICAgX2FbRmllbGRzLkxPQ0FUSU9OXSA9IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICBfYVtGaWVsZHMuSE9TVE5BTUVdID0gdGhpcy5ob3N0bmFtZSxcbiAgICAgICAgICAgIF9hO1xuICAgIH07XG4gICAgcmV0dXJuIEFwaUFwcE1ldGFkYXRhO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEFwaUFwcE1ldGFkYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXBpQXBwTWV0YWRhdGEuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ApiAppMetadata.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseEventStream.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseEventStream.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\n/* harmony import */ var _StitchRequestError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../StitchRequestError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Event.js\");\n/* harmony import */ var _StitchEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StitchEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchEvent.js\");\nvar __values = (undefined && undefined.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\n\n\n\n\nvar BaseEventStream = (function () {\n    function BaseEventStream(reconnecter) {\n        this.reconnecter = reconnecter;\n        this.closed = false;\n        this.events = [];\n        this.listeners = [];\n        this.lastErr = undefined;\n    }\n    BaseEventStream.prototype.isOpen = function () {\n        return !this.closed;\n    };\n    BaseEventStream.prototype.addListener = function (listener) {\n        var _this = this;\n        if (this.closed) {\n            setTimeout(function () { return listener.onEvent(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, \"stream closed\")); }, 0);\n            return;\n        }\n        if (this.lastErr !== undefined) {\n            setTimeout(function () { return listener.onEvent(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, _this.lastErr)); }, 0);\n            return;\n        }\n        this.listeners.push(listener);\n        this.poll();\n    };\n    BaseEventStream.prototype.removeListener = function (listener) {\n        var index = this.listeners.indexOf(listener);\n        if (index === -1) {\n            return;\n        }\n        this.listeners.splice(index, 1);\n    };\n    BaseEventStream.prototype.nextEvent = function () {\n        var _this = this;\n        if (this.closed) {\n            return Promise.reject(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, \"stream closed\"));\n        }\n        if (this.lastErr !== undefined) {\n            return Promise.reject(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, this.lastErr));\n        }\n        return new Promise(function (resolve, reject) {\n            _this.listenOnce({\n                onEvent: function (e) {\n                    resolve(e);\n                }\n            });\n        });\n    };\n    BaseEventStream.prototype.close = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        this.afterClose();\n    };\n    BaseEventStream.prototype.reconnect = function (error) {\n        var _this = this;\n        if (!this.reconnecter) {\n            if (!this.closed) {\n                this.closed = true;\n                this.events.push(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, \"stream closed: \" + error));\n                this.poll();\n            }\n            return;\n        }\n        this.reconnecter()\n            .then(function (next) {\n            _this.onReconnect(next);\n        })\n            .catch(function (e) {\n            if (!(e instanceof _StitchError__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) || !(e instanceof _StitchRequestError__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\n                _this.closed = true;\n                _this.events.push(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, \"stream closed: \" + error));\n                _this.poll();\n                return;\n            }\n            setTimeout(function () { return _this.reconnect(e); }, BaseEventStream.RETRY_TIMEOUT_MILLIS);\n        });\n    };\n    BaseEventStream.prototype.poll = function () {\n        var e_1, _a;\n        while (this.events.length !== 0) {\n            var event_1 = this.events.pop();\n            try {\n                for (var _b = __values(this.listeners), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var listener = _c.value;\n                    if (listener.onEvent) {\n                        listener.onEvent(event_1);\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n    };\n    BaseEventStream.prototype.listenOnce = function (listener) {\n        var _this = this;\n        if (this.closed) {\n            setTimeout(function () { return listener.onEvent(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, \"stream closed\")); }, 0);\n            return;\n        }\n        if (this.lastErr !== undefined) {\n            setTimeout(function () { return listener.onEvent(new _Event__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_StitchEvent__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ERROR_EVENT_NAME, _this.lastErr)); }, 0);\n            return;\n        }\n        var wrapper = {\n            onEvent: function (e) {\n                _this.removeListener(wrapper);\n                listener.onEvent(e);\n            }\n        };\n        this.addListener(wrapper);\n    };\n    BaseEventStream.RETRY_TIMEOUT_MILLIS = 5000;\n    return BaseEventStream;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (BaseEventStream);\n//# sourceMappingURL=BaseEventStream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9CYXNlRXZlbnRTdHJlYW0uanM/ZTgzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQzRDO0FBQ2M7QUFDOUI7QUFDWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDZCQUE2Qiw4Q0FBSyxDQUFDLG9EQUFXLHFDQUFxQyxFQUFFO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2QkFBNkIsOENBQUssQ0FBQyxvREFBVyxtQ0FBbUMsRUFBRTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsOENBQUssQ0FBQyxvREFBVztBQUN2RDtBQUNBO0FBQ0Esc0NBQXNDLDhDQUFLLENBQUMsb0RBQVc7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw4Q0FBSyxDQUFDLG9EQUFXO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsK0JBQStCLG9EQUFXLG9CQUFvQiwyREFBa0I7QUFDaEY7QUFDQSxzQ0FBc0MsOENBQUssQ0FBQyxvREFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMkJBQTJCLEVBQUU7QUFDakUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxVQUFVO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixRQUFRLGdCQUFnQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQkFBMEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDZCQUE2Qiw4Q0FBSyxDQUFDLG9EQUFXLHFDQUFxQyxFQUFFO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2QkFBNkIsOENBQUssQ0FBQyxvREFBVyxtQ0FBbUMsRUFBRTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsOEVBQWUsRUFBQztBQUMvQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvQmFzZUV2ZW50U3RyZWFtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24gKG8pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmltcG9ydCBTdGl0Y2hFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoRXJyb3JcIjtcbmltcG9ydCBTdGl0Y2hSZXF1ZXN0RXJyb3IgZnJvbSBcIi4uLy4uL1N0aXRjaFJlcXVlc3RFcnJvclwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuL0V2ZW50XCI7XG5pbXBvcnQgU3RpdGNoRXZlbnQgZnJvbSBcIi4vU3RpdGNoRXZlbnRcIjtcbnZhciBCYXNlRXZlbnRTdHJlYW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VFdmVudFN0cmVhbShyZWNvbm5lY3Rlcikge1xuICAgICAgICB0aGlzLnJlY29ubmVjdGVyID0gcmVjb25uZWN0ZXI7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMubGFzdEVyciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgQmFzZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jbG9zZWQ7XG4gICAgfTtcbiAgICBCYXNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBsaXN0ZW5lci5vbkV2ZW50KG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCBcInN0cmVhbSBjbG9zZWRcIikpOyB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0RXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gbGlzdGVuZXIub25FdmVudChuZXcgRXZlbnQoU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSwgX3RoaXMubGFzdEVycikpOyB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5wb2xsKCk7XG4gICAgfTtcbiAgICBCYXNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICAgIEJhc2VFdmVudFN0cmVhbS5wcm90b3R5cGUubmV4dEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXZlbnQoU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSwgXCJzdHJlYW0gY2xvc2VkXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0RXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXZlbnQoU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSwgdGhpcy5sYXN0RXJyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLmxpc3Rlbk9uY2Uoe1xuICAgICAgICAgICAgICAgIG9uRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQmFzZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmFmdGVyQ2xvc2UoKTtcbiAgICB9O1xuICAgIEJhc2VFdmVudFN0cmVhbS5wcm90b3R5cGUucmVjb25uZWN0ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5yZWNvbm5lY3Rlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCBcInN0cmVhbSBjbG9zZWQ6IFwiICsgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY29ubmVjdGVyKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgICAgICBfdGhpcy5vblJlY29ubmVjdChuZXh0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFN0aXRjaEVycm9yKSB8fCAhKGUgaW5zdGFuY2VvZiBTdGl0Y2hSZXF1ZXN0RXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMucHVzaChuZXcgRXZlbnQoU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSwgXCJzdHJlYW0gY2xvc2VkOiBcIiArIGVycm9yKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9sbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVjb25uZWN0KGUpOyB9LCBCYXNlRXZlbnRTdHJlYW0uUkVUUllfVElNRU9VVF9NSUxMSVMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJhc2VFdmVudFN0cmVhbS5wcm90b3R5cGUucG9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHdoaWxlICh0aGlzLmV2ZW50cy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gdGhpcy5ldmVudHMucG9wKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5saXN0ZW5lcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25FdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25FdmVudChldmVudF8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFzZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5saXN0ZW5PbmNlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBsaXN0ZW5lci5vbkV2ZW50KG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCBcInN0cmVhbSBjbG9zZWRcIikpOyB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0RXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gbGlzdGVuZXIub25FdmVudChuZXcgRXZlbnQoU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSwgX3RoaXMubGFzdEVycikpOyB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd3JhcHBlciA9IHtcbiAgICAgICAgICAgIG9uRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlTGlzdGVuZXIod3JhcHBlcik7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIub25FdmVudChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICB9O1xuICAgIEJhc2VFdmVudFN0cmVhbS5SRVRSWV9USU1FT1VUX01JTExJUyA9IDUwMDA7XG4gICAgcmV0dXJuIEJhc2VFdmVudFN0cmVhbTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlRXZlbnRTdHJlYW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlRXZlbnRTdHJlYW0uanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseEventStream.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseStitchRequestClient.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseStitchRequestClient.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../internal/common/StitchErrorUtils */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/StitchErrorUtils.js\");\n/* harmony import */ var _StitchError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../StitchError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchError.js\");\n/* harmony import */ var _StitchRequestError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../StitchRequestError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestError.js\");\n/* harmony import */ var _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../StitchRequestErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchRequestErrorCode.js\");\n/* harmony import */ var _BasicRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BasicRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BasicRequest.js\");\n\n\n\n\n\nfunction inspectResponse(request, url, response) {\n    if (response.statusCode >= 200 && response.statusCode < 300) {\n        return response;\n    }\n    return Object(_internal_common_StitchErrorUtils__WEBPACK_IMPORTED_MODULE_0__[\"handleRequestError\"])(response);\n}\nvar BaseStitchRequestClient = (function () {\n    function BaseStitchRequestClient(baseUrl, transport) {\n        this.baseUrl = baseUrl;\n        this.transport = transport;\n    }\n    BaseStitchRequestClient.prototype.doRequestToURL = function (stitchReq, url) {\n        return this.transport\n            .roundTrip(this.buildRequest(stitchReq, url))\n            .catch(function (error) {\n            throw new _StitchRequestError__WEBPACK_IMPORTED_MODULE_2__[\"default\"](error, _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_3__[\"StitchRequestErrorCode\"].TRANSPORT_ERROR);\n        })\n            .then(function (resp) { return inspectResponse(stitchReq, url, resp); });\n    };\n    BaseStitchRequestClient.prototype.doStreamRequestToURL = function (stitchReq, url, open, retryRequest) {\n        if (open === void 0) { open = true; }\n        return this.transport\n            .stream(this.buildRequest(stitchReq, url), open, retryRequest)\n            .catch(function (error) {\n            if (error instanceof _StitchError__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n                throw error;\n            }\n            throw new _StitchRequestError__WEBPACK_IMPORTED_MODULE_2__[\"default\"](error, _StitchRequestErrorCode__WEBPACK_IMPORTED_MODULE_3__[\"StitchRequestErrorCode\"].TRANSPORT_ERROR);\n        });\n    };\n    BaseStitchRequestClient.prototype.buildRequest = function (stitchReq, url) {\n        return new _BasicRequest__WEBPACK_IMPORTED_MODULE_4__[\"BasicRequest\"].Builder()\n            .withMethod(stitchReq.method)\n            .withUrl(\"\" + url + stitchReq.path)\n            .withHeaders(stitchReq.headers)\n            .withBody(stitchReq.body)\n            .build();\n    };\n    return BaseStitchRequestClient;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (BaseStitchRequestClient);\n//# sourceMappingURL=BaseStitchRequestClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9CYXNlU3RpdGNoUmVxdWVzdENsaWVudC5qcz82YTUxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE0RTtBQUNoQztBQUNjO0FBQ1k7QUFDeEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRGQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyREFBa0IsUUFBUSw4RUFBc0I7QUFDdEUsU0FBUztBQUNULG1DQUFtQyw4Q0FBOEMsRUFBRTtBQUNuRjtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG9EQUFXO0FBQzVDO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQWtCLFFBQVEsOEVBQXNCO0FBQ3RFLFNBQVM7QUFDVDtBQUNBO0FBQ0EsbUJBQW1CLDBEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHNGQUF1QixFQUFDO0FBQ3ZDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9CYXNlU3RpdGNoUmVxdWVzdENsaWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhbmRsZVJlcXVlc3RFcnJvciB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9jb21tb24vU3RpdGNoRXJyb3JVdGlsc1wiO1xuaW1wb3J0IFN0aXRjaEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hFcnJvclwiO1xuaW1wb3J0IFN0aXRjaFJlcXVlc3RFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlIH0gZnJvbSBcIi4uLy4uL1N0aXRjaFJlcXVlc3RFcnJvckNvZGVcIjtcbmltcG9ydCB7IEJhc2ljUmVxdWVzdCB9IGZyb20gXCIuL0Jhc2ljUmVxdWVzdFwiO1xuZnVuY3Rpb24gaW5zcGVjdFJlc3BvbnNlKHJlcXVlc3QsIHVybCwgcmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDMwMCkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0RXJyb3IocmVzcG9uc2UpO1xufVxudmFyIEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNlU3RpdGNoUmVxdWVzdENsaWVudChiYXNlVXJsLCB0cmFuc3BvcnQpIHtcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgfVxuICAgIEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50LnByb3RvdHlwZS5kb1JlcXVlc3RUb1VSTCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIHVybCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnRcbiAgICAgICAgICAgIC5yb3VuZFRyaXAodGhpcy5idWlsZFJlcXVlc3Qoc3RpdGNoUmVxLCB1cmwpKVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlcXVlc3RFcnJvcihlcnJvciwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZS5UUkFOU1BPUlRfRVJST1IpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsgcmV0dXJuIGluc3BlY3RSZXNwb25zZShzdGl0Y2hSZXEsIHVybCwgcmVzcCk7IH0pO1xuICAgIH07XG4gICAgQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQucHJvdG90eXBlLmRvU3RyZWFtUmVxdWVzdFRvVVJMID0gZnVuY3Rpb24gKHN0aXRjaFJlcSwgdXJsLCBvcGVuLCByZXRyeVJlcXVlc3QpIHtcbiAgICAgICAgaWYgKG9wZW4gPT09IHZvaWQgMCkgeyBvcGVuID0gdHJ1ZTsgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnRcbiAgICAgICAgICAgIC5zdHJlYW0odGhpcy5idWlsZFJlcXVlc3Qoc3RpdGNoUmVxLCB1cmwpLCBvcGVuLCByZXRyeVJlcXVlc3QpXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBTdGl0Y2hFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlcXVlc3RFcnJvcihlcnJvciwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZS5UUkFOU1BPUlRfRVJST1IpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50LnByb3RvdHlwZS5idWlsZFJlcXVlc3QgPSBmdW5jdGlvbiAoc3RpdGNoUmVxLCB1cmwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXNpY1JlcXVlc3QuQnVpbGRlcigpXG4gICAgICAgICAgICAud2l0aE1ldGhvZChzdGl0Y2hSZXEubWV0aG9kKVxuICAgICAgICAgICAgLndpdGhVcmwoXCJcIiArIHVybCArIHN0aXRjaFJlcS5wYXRoKVxuICAgICAgICAgICAgLndpdGhIZWFkZXJzKHN0aXRjaFJlcS5oZWFkZXJzKVxuICAgICAgICAgICAgLndpdGhCb2R5KHN0aXRjaFJlcS5ib2R5KVxuICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlU3RpdGNoUmVxdWVzdENsaWVudC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseStitchRequestClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BasicRequest.js":
/*!************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BasicRequest.js ***!
  \************************************************************************************/
/*! exports provided: BasicRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BasicRequest\", function() { return BasicRequest; });\nvar BasicRequest = (function () {\n    function BasicRequest(method, url, headers, body) {\n        this.method = method;\n        this.url = url;\n        this.headers = headers;\n        this.body = body;\n    }\n    return BasicRequest;\n}());\n\n(function (BasicRequest) {\n    var Builder = (function () {\n        function Builder(request) {\n            if (!request) {\n                return;\n            }\n            this.method = request.method;\n            this.url = request.url;\n            this.headers = request.headers;\n            this.body = request.body;\n        }\n        Builder.prototype.withMethod = function (method) {\n            this.method = method;\n            return this;\n        };\n        Builder.prototype.withUrl = function (url) {\n            this.url = url;\n            return this;\n        };\n        Builder.prototype.withHeaders = function (headers) {\n            this.headers = headers;\n            return this;\n        };\n        Builder.prototype.withBody = function (body) {\n            this.body = body;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            if (this.method === undefined) {\n                throw new Error(\"must set method\");\n            }\n            if (this.url === undefined) {\n                throw new Error(\"must set non-empty url\");\n            }\n            return new BasicRequest(this.method, this.url, this.headers === undefined ? {} : this.headers, this.body);\n        };\n        return Builder;\n    }());\n    BasicRequest.Builder = Builder;\n})(BasicRequest || (BasicRequest = {}));\n//# sourceMappingURL=BasicRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9CYXNpY1JlcXVlc3QuanM/ZGI1NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDdUI7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEY7QUFDMUY7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9CYXNpY1JlcXVlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQmFzaWNSZXF1ZXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNpY1JlcXVlc3QobWV0aG9kLCB1cmwsIGhlYWRlcnMsIGJvZHkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gQmFzaWNSZXF1ZXN0O1xufSgpKTtcbmV4cG9ydCB7IEJhc2ljUmVxdWVzdCB9O1xuKGZ1bmN0aW9uIChCYXNpY1JlcXVlc3QpIHtcbiAgICB2YXIgQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIocmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgICAgIHRoaXMudXJsID0gcmVxdWVzdC51cmw7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnM7XG4gICAgICAgICAgICB0aGlzLmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aE1ldGhvZCA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoSGVhZGVycyA9IGZ1bmN0aW9uIChoZWFkZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhCb2R5ID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm11c3Qgc2V0IG1ldGhvZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnVybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibXVzdCBzZXQgbm9uLWVtcHR5IHVybFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQmFzaWNSZXF1ZXN0KHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdGhpcy5oZWFkZXJzID09PSB1bmRlZmluZWQgPyB7fSA6IHRoaXMuaGVhZGVycywgdGhpcy5ib2R5KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfSgpKTtcbiAgICBCYXNpY1JlcXVlc3QuQnVpbGRlciA9IEJ1aWxkZXI7XG59KShCYXNpY1JlcXVlc3QgfHwgKEJhc2ljUmVxdWVzdCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNpY1JlcXVlc3QuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BasicRequest.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ContentTypes.js":
/*!************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ContentTypes.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ContentTypes = (function () {\n    function ContentTypes() {\n    }\n    ContentTypes.APPLICATION_JSON = \"application/json\";\n    ContentTypes.TEXT_EVENT_STREAM = \"text/event-stream\";\n    return ContentTypes;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContentTypes);\n//# sourceMappingURL=ContentTypes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9Db250ZW50VHlwZXMuanM/NjljZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYywyRUFBWSxFQUFDO0FBQzVCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9Db250ZW50VHlwZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29udGVudFR5cGVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250ZW50VHlwZXMoKSB7XG4gICAgfVxuICAgIENvbnRlbnRUeXBlcy5BUFBMSUNBVElPTl9KU09OID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG4gICAgQ29udGVudFR5cGVzLlRFWFRfRVZFTlRfU1RSRUFNID0gXCJ0ZXh0L2V2ZW50LXN0cmVhbVwiO1xuICAgIHJldHVybiBDb250ZW50VHlwZXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29udGVudFR5cGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGVudFR5cGVzLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ContentTypes.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Event.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Event.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Event = (function () {\n    function Event(eventName, data) {\n        this.eventName = eventName;\n        this.data = data;\n    }\n    Event.MESSAGE_EVENT = \"message\";\n    return Event;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Event);\n//# sourceMappingURL=Event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9FdmVudC5qcz8wMGNhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2Msb0VBQUssRUFBQztBQUNyQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvRXZlbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRXZlbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50KGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG4gICAgRXZlbnQuTUVTU0FHRV9FVkVOVCA9IFwibWVzc2FnZVwiO1xuICAgIHJldHVybiBFdmVudDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBFdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Event.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Headers = (function () {\n    function Headers() {\n    }\n    Headers.getAuthorizationBearer = function (value) {\n        return Headers.AUTHORIZATION_BEARER + \" \" + value;\n    };\n    Headers.CONTENT_TYPE_CANON = \"Content-Type\";\n    Headers.CONTENT_TYPE = Headers.CONTENT_TYPE_CANON.toLocaleLowerCase();\n    Headers.AUTHORIZATION_CANON = \"Authorization\";\n    Headers.AUTHORIZATION = Headers.AUTHORIZATION_CANON.toLocaleLowerCase();\n    Headers.ACCEPT_CANON = \"Accept\";\n    Headers.ACCEPT = Headers.ACCEPT_CANON.toLocaleLowerCase();\n    Headers.AUTHORIZATION_BEARER = \"Bearer\";\n    return Headers;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Headers);\n//# sourceMappingURL=Headers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9IZWFkZXJzLmpzP2Y3YTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLHNFQUFPLEVBQUM7QUFDdkIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L0hlYWRlcnMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSGVhZGVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGVhZGVycygpIHtcbiAgICB9XG4gICAgSGVhZGVycy5nZXRBdXRob3JpemF0aW9uQmVhcmVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBIZWFkZXJzLkFVVEhPUklaQVRJT05fQkVBUkVSICsgXCIgXCIgKyB2YWx1ZTtcbiAgICB9O1xuICAgIEhlYWRlcnMuQ09OVEVOVF9UWVBFX0NBTk9OID0gXCJDb250ZW50LVR5cGVcIjtcbiAgICBIZWFkZXJzLkNPTlRFTlRfVFlQRSA9IEhlYWRlcnMuQ09OVEVOVF9UWVBFX0NBTk9OLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgSGVhZGVycy5BVVRIT1JJWkFUSU9OX0NBTk9OID0gXCJBdXRob3JpemF0aW9uXCI7XG4gICAgSGVhZGVycy5BVVRIT1JJWkFUSU9OID0gSGVhZGVycy5BVVRIT1JJWkFUSU9OX0NBTk9OLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgSGVhZGVycy5BQ0NFUFRfQ0FOT04gPSBcIkFjY2VwdFwiO1xuICAgIEhlYWRlcnMuQUNDRVBUID0gSGVhZGVycy5BQ0NFUFRfQ0FOT04udG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBIZWFkZXJzLkFVVEhPUklaQVRJT05fQkVBUkVSID0gXCJCZWFyZXJcIjtcbiAgICByZXR1cm4gSGVhZGVycztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBIZWFkZXJzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGVhZGVycy5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js":
/*!******************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Method;\n(function (Method) {\n    Method[\"GET\"] = \"GET\";\n    Method[\"POST\"] = \"POST\";\n    Method[\"PUT\"] = \"PUT\";\n    Method[\"DELETE\"] = \"DELETE\";\n    Method[\"HEAD\"] = \"HEAD\";\n    Method[\"OPTIONS\"] = \"OPTIONS\";\n    Method[\"TRACE\"] = \"TRACE\";\n    Method[\"PATCH\"] = \"PATCH\";\n})(Method || (Method = {}));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Method);\n//# sourceMappingURL=Method.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9NZXRob2QuanM/MDYwOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDVixxRUFBTSxFQUFDO0FBQ3RCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9NZXRob2QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTWV0aG9kO1xuKGZ1bmN0aW9uIChNZXRob2QpIHtcbiAgICBNZXRob2RbXCJHRVRcIl0gPSBcIkdFVFwiO1xuICAgIE1ldGhvZFtcIlBPU1RcIl0gPSBcIlBPU1RcIjtcbiAgICBNZXRob2RbXCJQVVRcIl0gPSBcIlBVVFwiO1xuICAgIE1ldGhvZFtcIkRFTEVURVwiXSA9IFwiREVMRVRFXCI7XG4gICAgTWV0aG9kW1wiSEVBRFwiXSA9IFwiSEVBRFwiO1xuICAgIE1ldGhvZFtcIk9QVElPTlNcIl0gPSBcIk9QVElPTlNcIjtcbiAgICBNZXRob2RbXCJUUkFDRVwiXSA9IFwiVFJBQ0VcIjtcbiAgICBNZXRob2RbXCJQQVRDSFwiXSA9IFwiUEFUQ0hcIjtcbn0pKE1ldGhvZCB8fCAoTWV0aG9kID0ge30pKTtcbmV4cG9ydCBkZWZhdWx0IE1ldGhvZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1ldGhvZC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Response.js":
/*!********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Response.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Response = (function () {\n    function Response(headers, statusCode, body) {\n        var _this = this;\n        this.statusCode = statusCode;\n        this.body = body;\n        this.headers = {};\n        Object.keys(headers).map(function (key, index) {\n            _this.headers[key.toLocaleLowerCase()] = headers[key];\n        });\n    }\n    return Response;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Response);\n//# sourceMappingURL=Response.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9SZXNwb25zZS5qcz8wZDY1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNjLHVFQUFRLEVBQUM7QUFDeEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L1Jlc3BvbnNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlc3BvbnNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNwb25zZShoZWFkZXJzLCBzdGF0dXNDb2RlLCBib2R5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5tYXAoZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgIF90aGlzLmhlYWRlcnNba2V5LnRvTG9jYWxlTG93ZXJDYXNlKCldID0gaGVhZGVyc1trZXldO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3BvbnNlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlc3BvbnNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzcG9uc2UuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Response.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppAuthRoutes.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppAuthRoutes.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _StitchRoutes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRoutes.js\");\n\nfunction getAuthProviderRoute(clientAppId, providerName) {\n    return Object(_StitchRoutes__WEBPACK_IMPORTED_MODULE_0__[\"getAppRoute\"])(clientAppId) + (\"/auth/providers/\" + providerName);\n}\nfunction getAuthProviderLoginRoute(clientAppId, providerName) {\n    return getAuthProviderRoute(clientAppId, providerName) + \"/login\";\n}\nfunction getAuthProviderLinkRoute(clientAppId, providerName) {\n    return getAuthProviderLoginRoute(clientAppId, providerName) + \"?link=true\";\n}\nvar StitchAppAuthRoutes = (function () {\n    function StitchAppAuthRoutes(clientAppId) {\n        var _this = this;\n        this.baseAuthRoute = _StitchRoutes__WEBPACK_IMPORTED_MODULE_0__[\"BASE_ROUTE\"] + \"/auth\";\n        this.sessionRoute = (function () {\n            return _this.baseAuthRoute + \"/session\";\n        })();\n        this.profileRoute = (function () {\n            return _this.baseAuthRoute + \"/profile\";\n        })();\n        this.clientAppId = clientAppId;\n    }\n    StitchAppAuthRoutes.prototype.getAuthProviderRoute = function (providerName) {\n        return getAuthProviderRoute(this.clientAppId, providerName);\n    };\n    StitchAppAuthRoutes.prototype.getAuthProviderLoginRoute = function (providerName) {\n        return getAuthProviderLoginRoute(this.clientAppId, providerName);\n    };\n    StitchAppAuthRoutes.prototype.getAuthProviderLinkRoute = function (providerName) {\n        return getAuthProviderLinkRoute(this.clientAppId, providerName);\n    };\n    StitchAppAuthRoutes.prototype.getAuthProviderExtensionRoute = function (providerName, path) {\n        return this.getAuthProviderRoute(providerName) + \"/\" + path;\n    };\n    return StitchAppAuthRoutes;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchAppAuthRoutes);\n//# sourceMappingURL=StitchAppAuthRoutes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBcHBBdXRoUm91dGVzLmpzP2Y5MTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF5RDtBQUN6RDtBQUNBLFdBQVcsaUVBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQVU7QUFDdkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYyxrRkFBbUIsRUFBQztBQUNuQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoQXBwQXV0aFJvdXRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJBU0VfUk9VVEUsIGdldEFwcFJvdXRlIH0gZnJvbSBcIi4vU3RpdGNoUm91dGVzXCI7XG5mdW5jdGlvbiBnZXRBdXRoUHJvdmlkZXJSb3V0ZShjbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKSB7XG4gICAgcmV0dXJuIGdldEFwcFJvdXRlKGNsaWVudEFwcElkKSArIChcIi9hdXRoL3Byb3ZpZGVycy9cIiArIHByb3ZpZGVyTmFtZSk7XG59XG5mdW5jdGlvbiBnZXRBdXRoUHJvdmlkZXJMb2dpblJvdXRlKGNsaWVudEFwcElkLCBwcm92aWRlck5hbWUpIHtcbiAgICByZXR1cm4gZ2V0QXV0aFByb3ZpZGVyUm91dGUoY2xpZW50QXBwSWQsIHByb3ZpZGVyTmFtZSkgKyBcIi9sb2dpblwiO1xufVxuZnVuY3Rpb24gZ2V0QXV0aFByb3ZpZGVyTGlua1JvdXRlKGNsaWVudEFwcElkLCBwcm92aWRlck5hbWUpIHtcbiAgICByZXR1cm4gZ2V0QXV0aFByb3ZpZGVyTG9naW5Sb3V0ZShjbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKSArIFwiP2xpbms9dHJ1ZVwiO1xufVxudmFyIFN0aXRjaEFwcEF1dGhSb3V0ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaEFwcEF1dGhSb3V0ZXMoY2xpZW50QXBwSWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5iYXNlQXV0aFJvdXRlID0gQkFTRV9ST1VURSArIFwiL2F1dGhcIjtcbiAgICAgICAgdGhpcy5zZXNzaW9uUm91dGUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmJhc2VBdXRoUm91dGUgKyBcIi9zZXNzaW9uXCI7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHRoaXMucHJvZmlsZVJvdXRlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5iYXNlQXV0aFJvdXRlICsgXCIvcHJvZmlsZVwiO1xuICAgICAgICB9KSgpO1xuICAgICAgICB0aGlzLmNsaWVudEFwcElkID0gY2xpZW50QXBwSWQ7XG4gICAgfVxuICAgIFN0aXRjaEFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlclJvdXRlID0gZnVuY3Rpb24gKHByb3ZpZGVyTmFtZSkge1xuICAgICAgICByZXR1cm4gZ2V0QXV0aFByb3ZpZGVyUm91dGUodGhpcy5jbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlckxvZ2luUm91dGUgPSBmdW5jdGlvbiAocHJvdmlkZXJOYW1lKSB7XG4gICAgICAgIHJldHVybiBnZXRBdXRoUHJvdmlkZXJMb2dpblJvdXRlKHRoaXMuY2xpZW50QXBwSWQsIHByb3ZpZGVyTmFtZSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBcHBBdXRoUm91dGVzLnByb3RvdHlwZS5nZXRBdXRoUHJvdmlkZXJMaW5rUm91dGUgPSBmdW5jdGlvbiAocHJvdmlkZXJOYW1lKSB7XG4gICAgICAgIHJldHVybiBnZXRBdXRoUHJvdmlkZXJMaW5rUm91dGUodGhpcy5jbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlckV4dGVuc2lvblJvdXRlID0gZnVuY3Rpb24gKHByb3ZpZGVyTmFtZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdXRoUHJvdmlkZXJSb3V0ZShwcm92aWRlck5hbWUpICsgXCIvXCIgKyBwYXRoO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEFwcEF1dGhSb3V0ZXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXBwQXV0aFJvdXRlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEFwcEF1dGhSb3V0ZXMuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppAuthRoutes.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRequestClient.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRequestClient.js ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _ApiAppMetadata__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApiAppMetadata */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ApiAppMetadata.js\");\n/* harmony import */ var _BaseStitchRequestClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseStitchRequestClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseStitchRequestClient.js\");\n/* harmony import */ var _Method__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Method */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js\");\n/* harmony import */ var _StitchAppRoutes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StitchAppRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRoutes.js\");\n/* harmony import */ var _StitchRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StitchRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequest.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\nvar StitchAppRequestClient = (function (_super) {\n    __extends(StitchAppRequestClient, _super);\n    function StitchAppRequestClient(clientAppId, baseUrl, transport) {\n        var _this = _super.call(this, baseUrl, transport) || this;\n        _this.clientAppId = clientAppId;\n        _this.routes = new _StitchAppRoutes__WEBPACK_IMPORTED_MODULE_4__[\"default\"](clientAppId);\n        return _this;\n    }\n    StitchAppRequestClient.prototype.doRequest = function (stitchReq) {\n        var _this = this;\n        return this.initAppMetadata()\n            .then(function (metadata) { return _super.prototype.doRequestToURL.call(_this, stitchReq, metadata.hostname); });\n    };\n    StitchAppRequestClient.prototype.doStreamRequest = function (stitchReq, open, retryRequest) {\n        var _this = this;\n        if (open === void 0) { open = true; }\n        return this.initAppMetadata()\n            .then(function (metadata) { return _super.prototype.doStreamRequestToURL.call(_this, stitchReq, metadata.hostname, open, retryRequest); });\n    };\n    StitchAppRequestClient.prototype.getBaseURL = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, this.initAppMetadata().then(function (metadata) { return metadata.hostname; })];\n            });\n        });\n    };\n    StitchAppRequestClient.prototype.initAppMetadata = function () {\n        var _this = this;\n        if (this.appMetadata) {\n            return Promise.resolve(this.appMetadata);\n        }\n        var request = new _StitchRequest__WEBPACK_IMPORTED_MODULE_5__[\"StitchRequest\"].Builder()\n            .withMethod(_Method__WEBPACK_IMPORTED_MODULE_3__[\"default\"].GET)\n            .withPath(this.routes.appMetadataRoute)\n            .build();\n        return _super.prototype.doRequestToURL.call(this, request, this.baseUrl)\n            .then(function (resp) {\n            _this.appMetadata = _ApiAppMetadata__WEBPACK_IMPORTED_MODULE_1__[\"default\"].fromJSON(bson__WEBPACK_IMPORTED_MODULE_0__[\"EJSON\"].parse(resp.body));\n            return _this.appMetadata;\n        });\n    };\n    return StitchAppRequestClient;\n}(_BaseStitchRequestClient__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchAppRequestClient);\n//# sourceMappingURL=StitchAppRequestClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50LmpzPzU0OGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixpRUFBaUUsdUJBQXVCLEVBQUUsNEJBQTRCO0FBQ3JKO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGFBQWEsNkJBQTZCLDBCQUEwQixhQUFhLEVBQUUscUJBQXFCO0FBQ3hHLGdCQUFnQixxREFBcUQsb0VBQW9FLGFBQWEsRUFBRTtBQUN4SixzQkFBc0Isc0JBQXNCLHFCQUFxQixHQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxrQ0FBa0MsU0FBUztBQUMzQyxrQ0FBa0MsV0FBVyxVQUFVO0FBQ3ZELHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0EsNkdBQTZHLE9BQU8sVUFBVTtBQUM5SCxnRkFBZ0YsaUJBQWlCLE9BQU87QUFDeEcsd0RBQXdELGdCQUFnQixRQUFRLE9BQU87QUFDdkYsOENBQThDLGdCQUFnQixnQkFBZ0IsT0FBTztBQUNyRjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUyxZQUFZLGFBQWEsT0FBTyxFQUFFLFVBQVUsV0FBVztBQUNoRSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQzZCO0FBQ2M7QUFDcUI7QUFDbEM7QUFDa0I7QUFDQTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdEQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0ZBQWtGLEVBQUU7QUFDM0g7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQSx1Q0FBdUMsNEdBQTRHLEVBQUU7QUFDcko7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsMEJBQTBCLEVBQUU7QUFDeEcsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQWE7QUFDdkMsd0JBQXdCLCtDQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHVEQUFXLFVBQVUsMENBQUs7QUFDMUQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUMsQ0FBQyxnRUFBdUI7QUFDVixxRkFBc0IsRUFBQztBQUN0QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoQXBwUmVxdWVzdENsaWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IEVKU09OIH0gZnJvbSBcImJzb25cIjtcbmltcG9ydCBBcHBNZXRhZGF0YSBmcm9tIFwiLi9BcGlBcHBNZXRhZGF0YVwiO1xuaW1wb3J0IEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50IGZyb20gXCIuL0Jhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50XCI7XG5pbXBvcnQgTWV0aG9kIGZyb20gXCIuL01ldGhvZFwiO1xuaW1wb3J0IFN0aXRjaEFwcFJvdXRlcyBmcm9tIFwiLi9TdGl0Y2hBcHBSb3V0ZXNcIjtcbmltcG9ydCB7IFN0aXRjaFJlcXVlc3QgfSBmcm9tIFwiLi9TdGl0Y2hSZXF1ZXN0XCI7XG52YXIgU3RpdGNoQXBwUmVxdWVzdENsaWVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEFwcFJlcXVlc3RDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoQXBwUmVxdWVzdENsaWVudChjbGllbnRBcHBJZCwgYmFzZVVybCwgdHJhbnNwb3J0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VVcmwsIHRyYW5zcG9ydCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xpZW50QXBwSWQgPSBjbGllbnRBcHBJZDtcbiAgICAgICAgX3RoaXMucm91dGVzID0gbmV3IFN0aXRjaEFwcFJvdXRlcyhjbGllbnRBcHBJZCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RpdGNoQXBwUmVxdWVzdENsaWVudC5wcm90b3R5cGUuZG9SZXF1ZXN0ID0gZnVuY3Rpb24gKHN0aXRjaFJlcSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0QXBwTWV0YWRhdGEoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBfc3VwZXIucHJvdG90eXBlLmRvUmVxdWVzdFRvVVJMLmNhbGwoX3RoaXMsIHN0aXRjaFJlcSwgbWV0YWRhdGEuaG9zdG5hbWUpOyB9KTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcFJlcXVlc3RDbGllbnQucHJvdG90eXBlLmRvU3RyZWFtUmVxdWVzdCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIG9wZW4sIHJldHJ5UmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmluaXRBcHBNZXRhZGF0YSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZG9TdHJlYW1SZXF1ZXN0VG9VUkwuY2FsbChfdGhpcywgc3RpdGNoUmVxLCBtZXRhZGF0YS5ob3N0bmFtZSwgb3BlbiwgcmV0cnlSZXF1ZXN0KTsgfSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50LnByb3RvdHlwZS5nZXRCYXNlVVJMID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyLCB0aGlzLmluaXRBcHBNZXRhZGF0YSgpLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBtZXRhZGF0YS5ob3N0bmFtZTsgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RpdGNoQXBwUmVxdWVzdENsaWVudC5wcm90b3R5cGUuaW5pdEFwcE1ldGFkYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5hcHBNZXRhZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmFwcE1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBTdGl0Y2hSZXF1ZXN0LkJ1aWxkZXIoKVxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLkdFVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLnJvdXRlcy5hcHBNZXRhZGF0YVJvdXRlKVxuICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmRvUmVxdWVzdFRvVVJMLmNhbGwodGhpcywgcmVxdWVzdCwgdGhpcy5iYXNlVXJsKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgICAgIF90aGlzLmFwcE1ldGFkYXRhID0gQXBwTWV0YWRhdGEuZnJvbUpTT04oRUpTT04ucGFyc2UocmVzcC5ib2R5KSk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYXBwTWV0YWRhdGE7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEFwcFJlcXVlc3RDbGllbnQ7XG59KEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50KSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXBwUmVxdWVzdENsaWVudC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRequestClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRoutes.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRoutes.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _services_internal_StitchServiceRoutes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/internal/StitchServiceRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/StitchServiceRoutes.js\");\n/* harmony import */ var _StitchAppAuthRoutes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StitchAppAuthRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppAuthRoutes.js\");\n/* harmony import */ var _StitchRoutes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StitchRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRoutes.js\");\n\n\n\nvar StitchAppRoutes = (function () {\n    function StitchAppRoutes(clientAppId) {\n        this.clientAppId = clientAppId;\n        this.authRoutes = new _StitchAppAuthRoutes__WEBPACK_IMPORTED_MODULE_1__[\"default\"](clientAppId);\n        this.serviceRoutes = new _services_internal_StitchServiceRoutes__WEBPACK_IMPORTED_MODULE_0__[\"default\"](clientAppId);\n        this.appMetadataRoute = Object(_StitchRoutes__WEBPACK_IMPORTED_MODULE_2__[\"getAppMetadataRoute\"])(clientAppId);\n        this.functionCallRoute = Object(_StitchRoutes__WEBPACK_IMPORTED_MODULE_2__[\"getFunctionCallRoute\"])(clientAppId);\n    }\n    return StitchAppRoutes;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchAppRoutes);\n//# sourceMappingURL=StitchAppRoutes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBcHBSb3V0ZXMuanM/NGYyZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE4RTtBQUN0QjtBQUNtQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNERBQW1CO0FBQ2pELGlDQUFpQyw4RUFBbUI7QUFDcEQsZ0NBQWdDLHlFQUFtQjtBQUNuRCxpQ0FBaUMsMEVBQW9CO0FBQ3JEO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsOEVBQWUsRUFBQztBQUMvQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoQXBwUm91dGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0aXRjaFNlcnZpY2VSb3V0ZXMgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2ludGVybmFsL1N0aXRjaFNlcnZpY2VSb3V0ZXNcIjtcbmltcG9ydCBTdGl0Y2hBcHBBdXRoUm91dGVzIGZyb20gXCIuL1N0aXRjaEFwcEF1dGhSb3V0ZXNcIjtcbmltcG9ydCB7IGdldEFwcE1ldGFkYXRhUm91dGUsIGdldEZ1bmN0aW9uQ2FsbFJvdXRlIH0gZnJvbSBcIi4vU3RpdGNoUm91dGVzXCI7XG52YXIgU3RpdGNoQXBwUm91dGVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hBcHBSb3V0ZXMoY2xpZW50QXBwSWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnRBcHBJZCA9IGNsaWVudEFwcElkO1xuICAgICAgICB0aGlzLmF1dGhSb3V0ZXMgPSBuZXcgU3RpdGNoQXBwQXV0aFJvdXRlcyhjbGllbnRBcHBJZCk7XG4gICAgICAgIHRoaXMuc2VydmljZVJvdXRlcyA9IG5ldyBTdGl0Y2hTZXJ2aWNlUm91dGVzKGNsaWVudEFwcElkKTtcbiAgICAgICAgdGhpcy5hcHBNZXRhZGF0YVJvdXRlID0gZ2V0QXBwTWV0YWRhdGFSb3V0ZShjbGllbnRBcHBJZCk7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25DYWxsUm91dGUgPSBnZXRGdW5jdGlvbkNhbGxSb3V0ZShjbGllbnRBcHBJZCk7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hBcHBSb3V0ZXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXBwUm91dGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXBwUm91dGVzLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAppRoutes.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthDocRequest.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthDocRequest.js ***!
  \********************************************************************************************/
/*! exports provided: StitchAuthDocRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchAuthDocRequest\", function() { return StitchAuthDocRequest; });\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _ContentTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ContentTypes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ContentTypes.js\");\n/* harmony import */ var _Headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Headers */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js\");\n/* harmony import */ var _StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StitchAuthRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar StitchAuthDocRequest = (function (_super) {\n    __extends(StitchAuthDocRequest, _super);\n    function StitchAuthDocRequest(request, document) {\n        var _this = this;\n        request instanceof _StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"]\n            ? _this = _super.call(this, request, request.useRefreshToken, request.shouldRefreshOnFailure) || this : _this = _super.call(this, request) || this;\n        _this.document = document;\n        return _this;\n    }\n    Object.defineProperty(StitchAuthDocRequest.prototype, \"builder\", {\n        get: function () {\n            return new StitchAuthDocRequest.Builder(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StitchAuthDocRequest;\n}(_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"]));\n\n(function (StitchAuthDocRequest) {\n    var Builder = (function (_super) {\n        __extends(Builder, _super);\n        function Builder(request) {\n            var _this = _super.call(this, request) || this;\n            if (request !== undefined) {\n                _this.document = request.document;\n                _this.useRefreshToken = request.useRefreshToken;\n            }\n            return _this;\n        }\n        Builder.prototype.withDocument = function (document) {\n            this.document = document;\n            return this;\n        };\n        Builder.prototype.withAccessToken = function () {\n            this.useRefreshToken = false;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            if (this.document === undefined || !(this.document instanceof Object)) {\n                throw new Error(\"document must be set: \" + this.document);\n            }\n            if (this.headers === undefined) {\n                this.withHeaders({});\n            }\n            this.headers[_Headers__WEBPACK_IMPORTED_MODULE_2__[\"default\"].CONTENT_TYPE] = _ContentTypes__WEBPACK_IMPORTED_MODULE_1__[\"default\"].APPLICATION_JSON;\n            this.withBody(bson__WEBPACK_IMPORTED_MODULE_0__[\"EJSON\"].stringify(this.document, { relaxed: false }));\n            return new StitchAuthDocRequest(_super.prototype.build.call(this), this.document);\n        };\n        return Builder;\n    }(_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchAuthRequest\"].Builder));\n    StitchAuthDocRequest.Builder = Builder;\n})(StitchAuthDocRequest || (StitchAuthDocRequest = {}));\n//# sourceMappingURL=StitchAuthDocRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoRG9jUmVxdWVzdC5qcz8xYTU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQzRCO0FBQ2E7QUFDVjtBQUN3QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvRUFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsQ0FBQyxvRUFBaUI7QUFDYTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQSx5QkFBeUIsZ0RBQU8saUJBQWlCLHFEQUFZO0FBQzdELDBCQUEwQiwwQ0FBSywyQkFBMkIsaUJBQWlCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLEtBQUssQ0FBQyxvRUFBaUI7QUFDdkI7QUFDQSxDQUFDLG9EQUFvRDtBQUNyRCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoQXV0aERvY1JlcXVlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEVKU09OIH0gZnJvbSBcImJzb25cIjtcbmltcG9ydCBDb250ZW50VHlwZXMgZnJvbSBcIi4vQ29udGVudFR5cGVzXCI7XG5pbXBvcnQgSGVhZGVycyBmcm9tIFwiLi9IZWFkZXJzXCI7XG5pbXBvcnQgeyBTdGl0Y2hBdXRoUmVxdWVzdCB9IGZyb20gXCIuL1N0aXRjaEF1dGhSZXF1ZXN0XCI7XG52YXIgU3RpdGNoQXV0aERvY1JlcXVlc3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hBdXRoRG9jUmVxdWVzdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hBdXRoRG9jUmVxdWVzdChyZXF1ZXN0LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0IGluc3RhbmNlb2YgU3RpdGNoQXV0aFJlcXVlc3RcbiAgICAgICAgICAgID8gX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0LCByZXF1ZXN0LnVzZVJlZnJlc2hUb2tlbiwgcmVxdWVzdC5zaG91bGRSZWZyZXNoT25GYWlsdXJlKSB8fCB0aGlzIDogX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hBdXRoRG9jUmVxdWVzdC5wcm90b3R5cGUsIFwiYnVpbGRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hBdXRoRG9jUmVxdWVzdC5CdWlsZGVyKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU3RpdGNoQXV0aERvY1JlcXVlc3Q7XG59KFN0aXRjaEF1dGhSZXF1ZXN0KSk7XG5leHBvcnQgeyBTdGl0Y2hBdXRoRG9jUmVxdWVzdCB9O1xuKGZ1bmN0aW9uIChTdGl0Y2hBdXRoRG9jUmVxdWVzdCkge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJ1aWxkZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIocmVxdWVzdCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdCkgfHwgdGhpcztcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kb2N1bWVudCA9IHJlcXVlc3QuZG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgX3RoaXMudXNlUmVmcmVzaFRva2VuID0gcmVxdWVzdC51c2VSZWZyZXNoVG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aERvY3VtZW50ID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51c2VSZWZyZXNoVG9rZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50ID09PSB1bmRlZmluZWQgfHwgISh0aGlzLmRvY3VtZW50IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRvY3VtZW50IG11c3QgYmUgc2V0OiBcIiArIHRoaXMuZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaGVhZGVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aXRoSGVhZGVycyh7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbSGVhZGVycy5DT05URU5UX1RZUEVdID0gQ29udGVudFR5cGVzLkFQUExJQ0FUSU9OX0pTT047XG4gICAgICAgICAgICB0aGlzLndpdGhCb2R5KEVKU09OLnN0cmluZ2lmeSh0aGlzLmRvY3VtZW50LCB7IHJlbGF4ZWQ6IGZhbHNlIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RpdGNoQXV0aERvY1JlcXVlc3QoX3N1cGVyLnByb3RvdHlwZS5idWlsZC5jYWxsKHRoaXMpLCB0aGlzLmRvY3VtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfShTdGl0Y2hBdXRoUmVxdWVzdC5CdWlsZGVyKSk7XG4gICAgU3RpdGNoQXV0aERvY1JlcXVlc3QuQnVpbGRlciA9IEJ1aWxkZXI7XG59KShTdGl0Y2hBdXRoRG9jUmVxdWVzdCB8fCAoU3RpdGNoQXV0aERvY1JlcXVlc3QgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXV0aERvY1JlcXVlc3QuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthDocRequest.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js ***!
  \*****************************************************************************************/
/*! exports provided: StitchAuthRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchAuthRequest\", function() { return StitchAuthRequest; });\n/* harmony import */ var _StitchRequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StitchRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequest.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar StitchAuthRequest = (function (_super) {\n    __extends(StitchAuthRequest, _super);\n    function StitchAuthRequest(request, useRefreshToken, shouldRefreshOnFailure) {\n        if (useRefreshToken === void 0) { useRefreshToken = false; }\n        if (shouldRefreshOnFailure === void 0) { shouldRefreshOnFailure = true; }\n        var _this = _super.call(this, request.method, request.path, request.headers, request.startedAt, request.body) || this;\n        _this.useRefreshToken = useRefreshToken;\n        _this.shouldRefreshOnFailure = shouldRefreshOnFailure;\n        return _this;\n    }\n    Object.defineProperty(StitchAuthRequest.prototype, \"builder\", {\n        get: function () {\n            return new StitchAuthRequest.Builder(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StitchAuthRequest;\n}(_StitchRequest__WEBPACK_IMPORTED_MODULE_0__[\"StitchRequest\"]));\n\n(function (StitchAuthRequest) {\n    var Builder = (function (_super) {\n        __extends(Builder, _super);\n        function Builder(request) {\n            return _super.call(this, request) || this;\n        }\n        Builder.prototype.withAccessToken = function () {\n            this.useRefreshToken = false;\n            return this;\n        };\n        Builder.prototype.withRefreshToken = function () {\n            this.useRefreshToken = true;\n            return this;\n        };\n        Builder.prototype.withShouldRefreshOnFailure = function (shouldRefreshOnFailure) {\n            this.shouldRefreshOnFailure = shouldRefreshOnFailure;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            if (this.useRefreshToken) {\n                this.shouldRefreshOnFailure = false;\n            }\n            return new StitchAuthRequest(_super.prototype.build.call(this), this.useRefreshToken, this.shouldRefreshOnFailure);\n        };\n        return Builder;\n    }(_StitchRequest__WEBPACK_IMPORTED_MODULE_0__[\"StitchRequest\"].Builder));\n    StitchAuthRequest.Builder = Builder;\n})(StitchAuthRequest || (StitchAuthRequest = {}));\n//# sourceMappingURL=StitchAuthRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoUmVxdWVzdC5qcz85ZjU0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQytDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5QkFBeUI7QUFDbEUsZ0RBQWdELCtCQUErQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDLENBQUMsNERBQWE7QUFDYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssQ0FBQyw0REFBYTtBQUNuQjtBQUNBLENBQUMsOENBQThDO0FBQy9DIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoUmVxdWVzdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgU3RpdGNoUmVxdWVzdCB9IGZyb20gXCIuL1N0aXRjaFJlcXVlc3RcIjtcbnZhciBTdGl0Y2hBdXRoUmVxdWVzdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEF1dGhSZXF1ZXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaEF1dGhSZXF1ZXN0KHJlcXVlc3QsIHVzZVJlZnJlc2hUb2tlbiwgc2hvdWxkUmVmcmVzaE9uRmFpbHVyZSkge1xuICAgICAgICBpZiAodXNlUmVmcmVzaFRva2VuID09PSB2b2lkIDApIHsgdXNlUmVmcmVzaFRva2VuID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHNob3VsZFJlZnJlc2hPbkZhaWx1cmUgPT09IHZvaWQgMCkgeyBzaG91bGRSZWZyZXNoT25GYWlsdXJlID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC5wYXRoLCByZXF1ZXN0LmhlYWRlcnMsIHJlcXVlc3Quc3RhcnRlZEF0LCByZXF1ZXN0LmJvZHkpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnVzZVJlZnJlc2hUb2tlbiA9IHVzZVJlZnJlc2hUb2tlbjtcbiAgICAgICAgX3RoaXMuc2hvdWxkUmVmcmVzaE9uRmFpbHVyZSA9IHNob3VsZFJlZnJlc2hPbkZhaWx1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0aXRjaEF1dGhSZXF1ZXN0LnByb3RvdHlwZSwgXCJidWlsZGVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTdGl0Y2hBdXRoUmVxdWVzdDtcbn0oU3RpdGNoUmVxdWVzdCkpO1xuZXhwb3J0IHsgU3RpdGNoQXV0aFJlcXVlc3QgfTtcbihmdW5jdGlvbiAoU3RpdGNoQXV0aFJlcXVlc3QpIHtcbiAgICB2YXIgQnVpbGRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhCdWlsZGVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBCdWlsZGVyKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0KSB8fCB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXNlUmVmcmVzaFRva2VuID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aFJlZnJlc2hUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXNlUmVmcmVzaFRva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoU2hvdWxkUmVmcmVzaE9uRmFpbHVyZSA9IGZ1bmN0aW9uIChzaG91bGRSZWZyZXNoT25GYWlsdXJlKSB7XG4gICAgICAgICAgICB0aGlzLnNob3VsZFJlZnJlc2hPbkZhaWx1cmUgPSBzaG91bGRSZWZyZXNoT25GYWlsdXJlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudXNlUmVmcmVzaFRva2VuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRSZWZyZXNoT25GYWlsdXJlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0KF9zdXBlci5wcm90b3R5cGUuYnVpbGQuY2FsbCh0aGlzKSwgdGhpcy51c2VSZWZyZXNoVG9rZW4sIHRoaXMuc2hvdWxkUmVmcmVzaE9uRmFpbHVyZSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBCdWlsZGVyO1xuICAgIH0oU3RpdGNoUmVxdWVzdC5CdWlsZGVyKSk7XG4gICAgU3RpdGNoQXV0aFJlcXVlc3QuQnVpbGRlciA9IEJ1aWxkZXI7XG59KShTdGl0Y2hBdXRoUmVxdWVzdCB8fCAoU3RpdGNoQXV0aFJlcXVlc3QgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXV0aFJlcXVlc3QuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchDocRequest.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchDocRequest.js ***!
  \****************************************************************************************/
/*! exports provided: StitchDocRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchDocRequest\", function() { return StitchDocRequest; });\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _ContentTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ContentTypes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/ContentTypes.js\");\n/* harmony import */ var _Headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Headers */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Headers.js\");\n/* harmony import */ var _StitchRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StitchRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequest.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar StitchDocRequest = (function (_super) {\n    __extends(StitchDocRequest, _super);\n    function StitchDocRequest(request, document) {\n        var _this = _super.call(this, request.method, request.path, request.headers, request.startedAt, request.body) || this;\n        _this.document = document;\n        return _this;\n    }\n    Object.defineProperty(StitchDocRequest.prototype, \"builder\", {\n        get: function () {\n            return new StitchDocRequest.Builder(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StitchDocRequest;\n}(_StitchRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchRequest\"]));\n\n(function (StitchDocRequest) {\n    var Builder = (function (_super) {\n        __extends(Builder, _super);\n        function Builder(request) {\n            var _this = _super.call(this, request) || this;\n            if (request !== undefined) {\n                _this.document = request.document;\n            }\n            return _this;\n        }\n        Builder.prototype.withDocument = function (document) {\n            this.document = document;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            if (this.document === undefined || !(this.document instanceof Object)) {\n                throw new Error(\"document must be set\");\n            }\n            if (this.headers === undefined) {\n                this.withHeaders({});\n            }\n            this.headers[_Headers__WEBPACK_IMPORTED_MODULE_2__[\"default\"].CONTENT_TYPE] = _ContentTypes__WEBPACK_IMPORTED_MODULE_1__[\"default\"].APPLICATION_JSON;\n            this.withBody(bson__WEBPACK_IMPORTED_MODULE_0__[\"EJSON\"].stringify(this.document, { relaxed: false }));\n            return new StitchDocRequest(_super.prototype.build.call(this), this.document);\n        };\n        return Builder;\n    }(_StitchRequest__WEBPACK_IMPORTED_MODULE_3__[\"StitchRequest\"].Builder));\n    StitchDocRequest.Builder = Builder;\n})(StitchDocRequest || (StitchDocRequest = {}));\n//# sourceMappingURL=StitchDocRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hEb2NSZXF1ZXN0LmpzPzU0N2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDNEI7QUFDYTtBQUNWO0FBQ2dCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDLENBQUMsNERBQWE7QUFDYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBLHlCQUF5QixnREFBTyxpQkFBaUIscURBQVk7QUFDN0QsMEJBQTBCLDBDQUFLLDJCQUEyQixpQkFBaUI7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsS0FBSyxDQUFDLDREQUFhO0FBQ25CO0FBQ0EsQ0FBQyw0Q0FBNEM7QUFDN0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L1N0aXRjaERvY1JlcXVlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEVKU09OIH0gZnJvbSBcImJzb25cIjtcbmltcG9ydCBDb250ZW50VHlwZXMgZnJvbSBcIi4vQ29udGVudFR5cGVzXCI7XG5pbXBvcnQgSGVhZGVycyBmcm9tIFwiLi9IZWFkZXJzXCI7XG5pbXBvcnQgeyBTdGl0Y2hSZXF1ZXN0IH0gZnJvbSBcIi4vU3RpdGNoUmVxdWVzdFwiO1xudmFyIFN0aXRjaERvY1JlcXVlc3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hEb2NSZXF1ZXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaERvY1JlcXVlc3QocmVxdWVzdCwgZG9jdW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdC5tZXRob2QsIHJlcXVlc3QucGF0aCwgcmVxdWVzdC5oZWFkZXJzLCByZXF1ZXN0LnN0YXJ0ZWRBdCwgcmVxdWVzdC5ib2R5KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hEb2NSZXF1ZXN0LnByb3RvdHlwZSwgXCJidWlsZGVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0aXRjaERvY1JlcXVlc3QuQnVpbGRlcih0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFN0aXRjaERvY1JlcXVlc3Q7XG59KFN0aXRjaFJlcXVlc3QpKTtcbmV4cG9ydCB7IFN0aXRjaERvY1JlcXVlc3QgfTtcbihmdW5jdGlvbiAoU3RpdGNoRG9jUmVxdWVzdCkge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJ1aWxkZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIocmVxdWVzdCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdCkgfHwgdGhpcztcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kb2N1bWVudCA9IHJlcXVlc3QuZG9jdW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aERvY3VtZW50ID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudCA9PT0gdW5kZWZpbmVkIHx8ICEodGhpcy5kb2N1bWVudCBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkb2N1bWVudCBtdXN0IGJlIHNldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2l0aEhlYWRlcnMoe30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5oZWFkZXJzW0hlYWRlcnMuQ09OVEVOVF9UWVBFXSA9IENvbnRlbnRUeXBlcy5BUFBMSUNBVElPTl9KU09OO1xuICAgICAgICAgICAgdGhpcy53aXRoQm9keShFSlNPTi5zdHJpbmdpZnkodGhpcy5kb2N1bWVudCwgeyByZWxheGVkOiBmYWxzZSB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0aXRjaERvY1JlcXVlc3QoX3N1cGVyLnByb3RvdHlwZS5idWlsZC5jYWxsKHRoaXMpLCB0aGlzLmRvY3VtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfShTdGl0Y2hSZXF1ZXN0LkJ1aWxkZXIpKTtcbiAgICBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIgPSBCdWlsZGVyO1xufSkoU3RpdGNoRG9jUmVxdWVzdCB8fCAoU3RpdGNoRG9jUmVxdWVzdCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hEb2NSZXF1ZXN0LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchDocRequest.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchEvent.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchEvent.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _StitchServiceError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../StitchServiceError */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceError.js\");\n/* harmony import */ var _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../StitchServiceErrorCode */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/StitchServiceErrorCode.js\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Event */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Event.js\");\n\n\n\n\nvar StitchEvent = (function () {\n    function StitchEvent(eventName, data, decoder) {\n        this.eventName = eventName;\n        data = data ? data : \"\";\n        var decodedStringBuffer = [];\n        for (var chIdx = 0; chIdx < data.length; chIdx++) {\n            var c = data[chIdx];\n            switch (c) {\n                case '%':\n                    if (chIdx + 2 >= data.length) {\n                        break;\n                    }\n                    var code = data.substring(chIdx + 1, chIdx + 3);\n                    var found = void 0;\n                    switch (code) {\n                        case \"25\":\n                            found = true;\n                            decodedStringBuffer.push(\"%\");\n                            break;\n                        case \"0A\":\n                            found = true;\n                            decodedStringBuffer.push(\"\\n\");\n                            break;\n                        case \"0D\":\n                            found = true;\n                            decodedStringBuffer.push(\"\\r\");\n                            break;\n                        default:\n                            found = false;\n                    }\n                    if (found) {\n                        chIdx += 2;\n                        continue;\n                    }\n                    break;\n                default:\n                    break;\n            }\n            decodedStringBuffer.push(c);\n        }\n        var decodedData = decodedStringBuffer.join('');\n        switch (this.eventName) {\n            case StitchEvent.ERROR_EVENT_NAME:\n                var errorMsg = void 0;\n                var errorCode = void 0;\n                try {\n                    var errorDoc = bson__WEBPACK_IMPORTED_MODULE_0__[\"EJSON\"].parse(decodedData, { strict: false });\n                    errorMsg = errorDoc[ErrorFields.Error];\n                    errorCode = Object(_StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_2__[\"stitchServiceErrorCodeFromApi\"])(errorDoc[ErrorFields.ErrorCode]);\n                }\n                catch (error) {\n                    errorMsg = decodedData;\n                    errorCode = _StitchServiceErrorCode__WEBPACK_IMPORTED_MODULE_2__[\"StitchServiceErrorCode\"].Unknown;\n                }\n                this.error = new _StitchServiceError__WEBPACK_IMPORTED_MODULE_1__[\"default\"](errorMsg, errorCode);\n                break;\n            case _Event__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MESSAGE_EVENT:\n                this.data = bson__WEBPACK_IMPORTED_MODULE_0__[\"EJSON\"].parse(decodedData, { strict: false });\n                if (decoder) {\n                    this.data = decoder.decode(this.data);\n                }\n                break;\n        }\n    }\n    StitchEvent.fromEvent = function (event, decoder) {\n        return new StitchEvent(event.eventName, event.data, decoder);\n    };\n    StitchEvent.ERROR_EVENT_NAME = \"error\";\n    return StitchEvent;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchEvent);\nvar ErrorFields;\n(function (ErrorFields) {\n    ErrorFields[\"Error\"] = \"error\";\n    ErrorFields[\"ErrorCode\"] = \"error_code\";\n})(ErrorFields || (ErrorFields = {}));\n//# sourceMappingURL=StitchEvent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hFdmVudC5qcz85ZDgyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNkI7QUFDNkI7QUFDMkM7QUFDekU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxQkFBcUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMENBQUsscUJBQXFCLGdCQUFnQjtBQUM3RTtBQUNBLGdDQUFnQyw2RkFBNkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhFQUFzQjtBQUN0RDtBQUNBLGlDQUFpQywyREFBa0I7QUFDbkQ7QUFDQSxpQkFBaUIsOENBQUs7QUFDdEIsNEJBQTRCLDBDQUFLLHFCQUFxQixnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYywwRUFBVyxFQUFDO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0M7QUFDbkMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L1N0aXRjaEV2ZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRUpTT04gfSBmcm9tIFwiYnNvblwiO1xuaW1wb3J0IFN0aXRjaFNlcnZpY2VFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoU2VydmljZUVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLCBzdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlRnJvbUFwaSB9IGZyb20gXCIuLi8uLi9TdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vRXZlbnRcIjtcbnZhciBTdGl0Y2hFdmVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RpdGNoRXZlbnQoZXZlbnROYW1lLCBkYXRhLCBkZWNvZGVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICBkYXRhID0gZGF0YSA/IGRhdGEgOiBcIlwiO1xuICAgICAgICB2YXIgZGVjb2RlZFN0cmluZ0J1ZmZlciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBjaElkeCA9IDA7IGNoSWR4IDwgZGF0YS5sZW5ndGg7IGNoSWR4KyspIHtcbiAgICAgICAgICAgIHZhciBjID0gZGF0YVtjaElkeF07XG4gICAgICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICclJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoSWR4ICsgMiA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBkYXRhLnN1YnN0cmluZyhjaElkeCArIDEsIGNoSWR4ICsgMyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMjVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZFN0cmluZ0J1ZmZlci5wdXNoKFwiJVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIwQVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkU3RyaW5nQnVmZmVyLnB1c2goXCJcXG5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMERcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZFN0cmluZ0J1ZmZlci5wdXNoKFwiXFxyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hJZHggKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVjb2RlZFN0cmluZ0J1ZmZlci5wdXNoKGMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWNvZGVkRGF0YSA9IGRlY29kZWRTdHJpbmdCdWZmZXIuam9pbignJyk7XG4gICAgICAgIHN3aXRjaCAodGhpcy5ldmVudE5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRTpcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JNc2cgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yQ29kZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JEb2MgPSBFSlNPTi5wYXJzZShkZWNvZGVkRGF0YSwgeyBzdHJpY3Q6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1zZyA9IGVycm9yRG9jW0Vycm9yRmllbGRzLkVycm9yXTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlID0gc3RpdGNoU2VydmljZUVycm9yQ29kZUZyb21BcGkoZXJyb3JEb2NbRXJyb3JGaWVsZHMuRXJyb3JDb2RlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1zZyA9IGRlY29kZWREYXRhO1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUgPSBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlVua25vd247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgU3RpdGNoU2VydmljZUVycm9yKGVycm9yTXNnLCBlcnJvckNvZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudC5NRVNTQUdFX0VWRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IEVKU09OLnBhcnNlKGRlY29kZWREYXRhLCB7IHN0cmljdDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGVjb2Rlci5kZWNvZGUodGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3RpdGNoRXZlbnQuZnJvbUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBkZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RpdGNoRXZlbnQoZXZlbnQuZXZlbnROYW1lLCBldmVudC5kYXRhLCBkZWNvZGVyKTtcbiAgICB9O1xuICAgIFN0aXRjaEV2ZW50LkVSUk9SX0VWRU5UX05BTUUgPSBcImVycm9yXCI7XG4gICAgcmV0dXJuIFN0aXRjaEV2ZW50O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaEV2ZW50O1xudmFyIEVycm9yRmllbGRzO1xuKGZ1bmN0aW9uIChFcnJvckZpZWxkcykge1xuICAgIEVycm9yRmllbGRzW1wiRXJyb3JcIl0gPSBcImVycm9yXCI7XG4gICAgRXJyb3JGaWVsZHNbXCJFcnJvckNvZGVcIl0gPSBcImVycm9yX2NvZGVcIjtcbn0pKEVycm9yRmllbGRzIHx8IChFcnJvckZpZWxkcyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hFdmVudC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchEvent.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequest.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequest.js ***!
  \*************************************************************************************/
/*! exports provided: StitchRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StitchRequest\", function() { return StitchRequest; });\nvar StitchRequest = (function () {\n    function StitchRequest(method, path, headers, startedAt, body) {\n        this.method = method;\n        this.path = path;\n        this.headers = headers;\n        this.body = body;\n        this.startedAt = startedAt;\n    }\n    Object.defineProperty(StitchRequest.prototype, \"builder\", {\n        get: function () {\n            return new StitchRequest.Builder(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StitchRequest;\n}());\n\n(function (StitchRequest) {\n    var Builder = (function () {\n        function Builder(request) {\n            if (request !== undefined) {\n                this.method = request.method;\n                this.path = request.path;\n                this.headers = request.headers;\n                this.body = request.body;\n                this.startedAt = request.startedAt;\n            }\n        }\n        Builder.prototype.withMethod = function (method) {\n            this.method = method;\n            return this;\n        };\n        Builder.prototype.withPath = function (path) {\n            this.path = path;\n            return this;\n        };\n        Builder.prototype.withHeaders = function (headers) {\n            this.headers = headers;\n            return this;\n        };\n        Builder.prototype.withBody = function (body) {\n            this.body = body;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            if (this.method === undefined) {\n                throw Error(\"must set method\");\n            }\n            if (this.path === undefined) {\n                throw Error(\"must set non-empty path\");\n            }\n            if (this.startedAt === undefined) {\n                this.startedAt = Date.now() / 1000;\n            }\n            return new StitchRequest(this.method, this.path, this.headers === undefined ? {} : this.headers, this.startedAt, this.body);\n        };\n        return Builder;\n    }());\n    StitchRequest.Builder = Builder;\n})(StitchRequest || (StitchRequest = {}));\n//# sourceMappingURL=StitchRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hSZXF1ZXN0LmpzP2Q2ZDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEY7QUFDNUY7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsc0NBQXNDO0FBQ3ZDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hSZXF1ZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFN0aXRjaFJlcXVlc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFJlcXVlc3QobWV0aG9kLCBwYXRoLCBoZWFkZXJzLCBzdGFydGVkQXQsIGJvZHkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuc3RhcnRlZEF0ID0gc3RhcnRlZEF0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoUmVxdWVzdC5wcm90b3R5cGUsIFwiYnVpbGRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hSZXF1ZXN0LkJ1aWxkZXIodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTdGl0Y2hSZXF1ZXN0O1xufSgpKTtcbmV4cG9ydCB7IFN0aXRjaFJlcXVlc3QgfTtcbihmdW5jdGlvbiAoU3RpdGNoUmVxdWVzdCkge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQnVpbGRlcihyZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGggPSByZXF1ZXN0LnBhdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keSA9IHJlcXVlc3QuYm9keTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ZWRBdCA9IHJlcXVlc3Quc3RhcnRlZEF0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhNZXRob2QgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhIZWFkZXJzID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aEJvZHkgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJtdXN0IHNldCBtZXRob2RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm11c3Qgc2V0IG5vbi1lbXB0eSBwYXRoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZEF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ZWRBdCA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hSZXF1ZXN0KHRoaXMubWV0aG9kLCB0aGlzLnBhdGgsIHRoaXMuaGVhZGVycyA9PT0gdW5kZWZpbmVkID8ge30gOiB0aGlzLmhlYWRlcnMsIHRoaXMuc3RhcnRlZEF0LCB0aGlzLmJvZHkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQnVpbGRlcjtcbiAgICB9KCkpO1xuICAgIFN0aXRjaFJlcXVlc3QuQnVpbGRlciA9IEJ1aWxkZXI7XG59KShTdGl0Y2hSZXF1ZXN0IHx8IChTdGl0Y2hSZXF1ZXN0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFJlcXVlc3QuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequest.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequestClient.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequestClient.js ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _BaseStitchRequestClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseStitchRequestClient */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/BaseStitchRequestClient.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar StitchRequestClient = (function (_super) {\n    __extends(StitchRequestClient, _super);\n    function StitchRequestClient(baseUrl, transport) {\n        return _super.call(this, baseUrl, transport) || this;\n    }\n    StitchRequestClient.prototype.doRequest = function (stitchReq) {\n        return _super.prototype.doRequestToURL.call(this, stitchReq, this.baseUrl);\n    };\n    StitchRequestClient.prototype.doStreamRequest = function (stitchReq, open, retryRequest) {\n        if (open === void 0) { open = true; }\n        return _super.prototype.doStreamRequestToURL.call(this, stitchReq, this.baseUrl, open, retryRequest);\n    };\n    StitchRequestClient.prototype.getBaseURL = function () {\n        return Promise.resolve(this.baseUrl);\n    };\n    return StitchRequestClient;\n}(_BaseStitchRequestClient__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchRequestClient);\n//# sourceMappingURL=StitchRequestClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hSZXF1ZXN0Q2xpZW50LmpzP2U2MWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQytEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixhQUFhO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyxnRUFBdUI7QUFDVixrRkFBbUIsRUFBQztBQUNuQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoUmVxdWVzdENsaWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50IGZyb20gXCIuL0Jhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50XCI7XG52YXIgU3RpdGNoUmVxdWVzdENsaWVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaFJlcXVlc3RDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoUmVxdWVzdENsaWVudChiYXNlVXJsLCB0cmFuc3BvcnQpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGJhc2VVcmwsIHRyYW5zcG9ydCkgfHwgdGhpcztcbiAgICB9XG4gICAgU3RpdGNoUmVxdWVzdENsaWVudC5wcm90b3R5cGUuZG9SZXF1ZXN0ID0gZnVuY3Rpb24gKHN0aXRjaFJlcSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5kb1JlcXVlc3RUb1VSTC5jYWxsKHRoaXMsIHN0aXRjaFJlcSwgdGhpcy5iYXNlVXJsKTtcbiAgICB9O1xuICAgIFN0aXRjaFJlcXVlc3RDbGllbnQucHJvdG90eXBlLmRvU3RyZWFtUmVxdWVzdCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIG9wZW4sIHJldHJ5UmVxdWVzdCkge1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmRvU3RyZWFtUmVxdWVzdFRvVVJMLmNhbGwodGhpcywgc3RpdGNoUmVxLCB0aGlzLmJhc2VVcmwsIG9wZW4sIHJldHJ5UmVxdWVzdCk7XG4gICAgfTtcbiAgICBTdGl0Y2hSZXF1ZXN0Q2xpZW50LnByb3RvdHlwZS5nZXRCYXNlVVJMID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYmFzZVVybCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RpdGNoUmVxdWVzdENsaWVudDtcbn0oQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaFJlcXVlc3RDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hSZXF1ZXN0Q2xpZW50LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRequestClient.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRoutes.js":
/*!************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRoutes.js ***!
  \************************************************************************************/
/*! exports provided: BASE_ROUTE, getAppRoute, getFunctionCallRoute, getAppMetadataRoute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BASE_ROUTE\", function() { return BASE_ROUTE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAppRoute\", function() { return getAppRoute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFunctionCallRoute\", function() { return getFunctionCallRoute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAppMetadataRoute\", function() { return getAppMetadataRoute; });\nvar BASE_ROUTE = \"/api/client/v2.0\";\nfunction getAppRoute(clientAppId) {\n    return BASE_ROUTE + (\"/app/\" + clientAppId);\n}\nfunction getFunctionCallRoute(clientAppId) {\n    return getAppRoute(clientAppId) + \"/functions/call\";\n}\nfunction getAppMetadataRoute(clientAppId) {\n    return getAppRoute(clientAppId) + \"/location\";\n}\n\n//# sourceMappingURL=StitchRoutes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hSb3V0ZXMuanM/YWM3ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDOEU7QUFDOUUiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L1N0aXRjaFJvdXRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBCQVNFX1JPVVRFID0gXCIvYXBpL2NsaWVudC92Mi4wXCI7XG5mdW5jdGlvbiBnZXRBcHBSb3V0ZShjbGllbnRBcHBJZCkge1xuICAgIHJldHVybiBCQVNFX1JPVVRFICsgKFwiL2FwcC9cIiArIGNsaWVudEFwcElkKTtcbn1cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uQ2FsbFJvdXRlKGNsaWVudEFwcElkKSB7XG4gICAgcmV0dXJuIGdldEFwcFJvdXRlKGNsaWVudEFwcElkKSArIFwiL2Z1bmN0aW9ucy9jYWxsXCI7XG59XG5mdW5jdGlvbiBnZXRBcHBNZXRhZGF0YVJvdXRlKGNsaWVudEFwcElkKSB7XG4gICAgcmV0dXJuIGdldEFwcFJvdXRlKGNsaWVudEFwcElkKSArIFwiL2xvY2F0aW9uXCI7XG59XG5leHBvcnQgeyBCQVNFX1JPVVRFLCBnZXRBcHBSb3V0ZSwgZ2V0RnVuY3Rpb25DYWxsUm91dGUsIGdldEFwcE1ldGFkYXRhUm91dGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFJvdXRlcy5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRoutes.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/AuthRebindEvent.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/AuthRebindEvent.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RebindEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RebindEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/RebindEvent.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar AuthRebindEvent = (function (_super) {\n    __extends(AuthRebindEvent, _super);\n    function AuthRebindEvent(event) {\n        var _this = _super.call(this) || this;\n        _this.type = _RebindEvent__WEBPACK_IMPORTED_MODULE_0__[\"RebindEventType\"].AUTH_EVENT;\n        _this.event = event;\n        return _this;\n    }\n    return AuthRebindEvent;\n}(_RebindEvent__WEBPACK_IMPORTED_MODULE_0__[\"RebindEvent\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (AuthRebindEvent);\n//# sourceMappingURL=AuthRebindEvent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL0F1dGhSZWJpbmRFdmVudC5qcz9iMTEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUM0RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0REFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyx3REFBVztBQUNFLDhFQUFlLEVBQUM7QUFDL0IiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vc2VydmljZXMvaW50ZXJuYWwvQXV0aFJlYmluZEV2ZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBSZWJpbmRFdmVudCwgUmViaW5kRXZlbnRUeXBlIH0gZnJvbSBcIi4vUmViaW5kRXZlbnRcIjtcbnZhciBBdXRoUmViaW5kRXZlbnQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBdXRoUmViaW5kRXZlbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXV0aFJlYmluZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBSZWJpbmRFdmVudFR5cGUuQVVUSF9FVkVOVDtcbiAgICAgICAgX3RoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQXV0aFJlYmluZEV2ZW50O1xufShSZWJpbmRFdmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgQXV0aFJlYmluZEV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aFJlYmluZEV2ZW50LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/AuthRebindEvent.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/CoreStitchServiceClientImpl.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/CoreStitchServiceClientImpl.js ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _auth_internal_AuthEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../auth/internal/AuthEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/auth/internal/AuthEvent.js\");\n/* harmony import */ var _internal_common_Base64__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../internal/common/Base64 */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/common/Base64.js\");\n/* harmony import */ var _internal_net_Method__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../internal/net/Method */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/Method.js\");\n/* harmony import */ var _internal_net_StitchAuthDocRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../internal/net/StitchAuthDocRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthDocRequest.js\");\n/* harmony import */ var _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../internal/net/StitchAuthRequest */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchAuthRequest.js\");\n/* harmony import */ var _RebindEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RebindEvent */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/RebindEvent.js\");\n\n\n\n\n\n\n\nvar CoreStitchServiceClientImpl = (function () {\n    function CoreStitchServiceClientImpl(requestClient, routes, name) {\n        this.serviceField = \"service\";\n        this.argumentsField = \"arguments\";\n        this.requestClient = requestClient;\n        this.serviceRoutes = routes;\n        this.serviceName = name;\n        this.serviceBinders = [];\n        this.allocatedStreams = [];\n    }\n    CoreStitchServiceClientImpl.prototype.callFunction = function (name, args, decoder) {\n        return this.requestClient.doAuthenticatedRequestWithDecoder(this.getCallServiceFunctionRequest(name, args), decoder);\n    };\n    CoreStitchServiceClientImpl.prototype.streamFunction = function (name, args, decoder) {\n        var _this = this;\n        return this.requestClient.openAuthenticatedStreamWithDecoder(this.getStreamServiceFunctionRequest(name, args), decoder).then(function (newStream) {\n            _this.allocatedStreams.push(newStream);\n            return newStream;\n        });\n    };\n    CoreStitchServiceClientImpl.prototype.bind = function (binder) {\n        this.serviceBinders.push(binder);\n    };\n    CoreStitchServiceClientImpl.prototype.onRebindEvent = function (rebindEvent) {\n        switch (rebindEvent.type) {\n            case _RebindEvent__WEBPACK_IMPORTED_MODULE_6__[\"RebindEventType\"].AUTH_EVENT:\n                var authRebindEvent = rebindEvent;\n                if (authRebindEvent.event.kind === _auth_internal_AuthEvent__WEBPACK_IMPORTED_MODULE_1__[\"AuthEventKind\"].ActiveUserChanged) {\n                    this.closeAllocatedStreams();\n                }\n                break;\n            default:\n                break;\n        }\n        this.serviceBinders.forEach(function (binder) {\n            binder.onRebindEvent(rebindEvent);\n        });\n    };\n    CoreStitchServiceClientImpl.prototype.getStreamServiceFunctionRequest = function (name, args) {\n        var body = { name: name };\n        if (this.serviceName !== undefined) {\n            body[this.serviceField] = this.serviceName;\n        }\n        body[this.argumentsField] = args;\n        var reqBuilder = new _internal_net_StitchAuthRequest__WEBPACK_IMPORTED_MODULE_5__[\"StitchAuthRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_3__[\"default\"].GET)\n            .withPath(this.serviceRoutes.functionCallRoute +\n            (\"?stitch_request=\" + encodeURIComponent(Object(_internal_common_Base64__WEBPACK_IMPORTED_MODULE_2__[\"base64Encode\"])(bson__WEBPACK_IMPORTED_MODULE_0__[\"EJSON\"].stringify(body)))));\n        return reqBuilder.build();\n    };\n    CoreStitchServiceClientImpl.prototype.getCallServiceFunctionRequest = function (name, args) {\n        var body = { name: name };\n        if (this.serviceName !== undefined) {\n            body[this.serviceField] = this.serviceName;\n        }\n        body[this.argumentsField] = args;\n        var reqBuilder = new _internal_net_StitchAuthDocRequest__WEBPACK_IMPORTED_MODULE_4__[\"StitchAuthDocRequest\"].Builder();\n        reqBuilder\n            .withMethod(_internal_net_Method__WEBPACK_IMPORTED_MODULE_3__[\"default\"].POST)\n            .withPath(this.serviceRoutes.functionCallRoute);\n        reqBuilder.withDocument(body);\n        return reqBuilder.build();\n    };\n    CoreStitchServiceClientImpl.prototype.closeAllocatedStreams = function () {\n        this.allocatedStreams.forEach(function (stream) {\n            if (stream.isOpen()) {\n                stream.close();\n            }\n        });\n        this.allocatedStreams = [];\n    };\n    return CoreStitchServiceClientImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreStitchServiceClientImpl);\n//# sourceMappingURL=CoreStitchServiceClientImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL0NvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5qcz8yOWUwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNkI7QUFDaUM7QUFDRjtBQUNiO0FBQ2dDO0FBQ047QUFDekI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBZTtBQUNoQztBQUNBLG1EQUFtRCxzRUFBYTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUZBQWlCO0FBQzlDO0FBQ0Esd0JBQXdCLDREQUFNO0FBQzlCO0FBQ0EscURBQXFELDRFQUFZLENBQUMsMENBQUs7QUFDdkU7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVGQUFvQjtBQUNqRDtBQUNBLHdCQUF3Qiw0REFBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNjLDBGQUEyQixFQUFDO0FBQzNDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL0NvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVKU09OIH0gZnJvbSAnYnNvbic7XG5pbXBvcnQgeyBBdXRoRXZlbnRLaW5kIH0gZnJvbSAnLi4vLi4vYXV0aC9pbnRlcm5hbC9BdXRoRXZlbnQnO1xuaW1wb3J0IHsgYmFzZTY0RW5jb2RlIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL2NvbW1vbi9CYXNlNjRcIjtcbmltcG9ydCBNZXRob2QgZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9NZXRob2RcIjtcbmltcG9ydCB7IFN0aXRjaEF1dGhEb2NSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoRG9jUmVxdWVzdFwiO1xuaW1wb3J0IHsgU3RpdGNoQXV0aFJlcXVlc3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvbmV0L1N0aXRjaEF1dGhSZXF1ZXN0XCI7XG5pbXBvcnQgeyBSZWJpbmRFdmVudFR5cGUgfSBmcm9tICcuL1JlYmluZEV2ZW50JztcbnZhciBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbChyZXF1ZXN0Q2xpZW50LCByb3V0ZXMsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlRmllbGQgPSBcInNlcnZpY2VcIjtcbiAgICAgICAgdGhpcy5hcmd1bWVudHNGaWVsZCA9IFwiYXJndW1lbnRzXCI7XG4gICAgICAgIHRoaXMucmVxdWVzdENsaWVudCA9IHJlcXVlc3RDbGllbnQ7XG4gICAgICAgIHRoaXMuc2VydmljZVJvdXRlcyA9IHJvdXRlcztcbiAgICAgICAgdGhpcy5zZXJ2aWNlTmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2VydmljZUJpbmRlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRTdHJlYW1zID0gW107XG4gICAgfVxuICAgIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUuY2FsbEZ1bmN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MsIGRlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0V2l0aERlY29kZXIodGhpcy5nZXRDYWxsU2VydmljZUZ1bmN0aW9uUmVxdWVzdChuYW1lLCBhcmdzKSwgZGVjb2Rlcik7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlLnN0cmVhbUZ1bmN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MsIGRlY29kZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5vcGVuQXV0aGVudGljYXRlZFN0cmVhbVdpdGhEZWNvZGVyKHRoaXMuZ2V0U3RyZWFtU2VydmljZUZ1bmN0aW9uUmVxdWVzdChuYW1lLCBhcmdzKSwgZGVjb2RlcikudGhlbihmdW5jdGlvbiAobmV3U3RyZWFtKSB7XG4gICAgICAgICAgICBfdGhpcy5hbGxvY2F0ZWRTdHJlYW1zLnB1c2gobmV3U3RyZWFtKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdTdHJlYW07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJpbmRlcikge1xuICAgICAgICB0aGlzLnNlcnZpY2VCaW5kZXJzLnB1c2goYmluZGVyKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUub25SZWJpbmRFdmVudCA9IGZ1bmN0aW9uIChyZWJpbmRFdmVudCkge1xuICAgICAgICBzd2l0Y2ggKHJlYmluZEV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmViaW5kRXZlbnRUeXBlLkFVVEhfRVZFTlQ6XG4gICAgICAgICAgICAgICAgdmFyIGF1dGhSZWJpbmRFdmVudCA9IHJlYmluZEV2ZW50O1xuICAgICAgICAgICAgICAgIGlmIChhdXRoUmViaW5kRXZlbnQuZXZlbnQua2luZCA9PT0gQXV0aEV2ZW50S2luZC5BY3RpdmVVc2VyQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsb2NhdGVkU3RyZWFtcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXJ2aWNlQmluZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChiaW5kZXIpIHtcbiAgICAgICAgICAgIGJpbmRlci5vblJlYmluZEV2ZW50KHJlYmluZEV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlLmdldFN0cmVhbVNlcnZpY2VGdW5jdGlvblJlcXVlc3QgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICB2YXIgYm9keSA9IHsgbmFtZTogbmFtZSB9O1xuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBib2R5W3RoaXMuc2VydmljZUZpZWxkXSA9IHRoaXMuc2VydmljZU5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgYm9keVt0aGlzLmFyZ3VtZW50c0ZpZWxkXSA9IGFyZ3M7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLkdFVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLnNlcnZpY2VSb3V0ZXMuZnVuY3Rpb25DYWxsUm91dGUgK1xuICAgICAgICAgICAgKFwiP3N0aXRjaF9yZXF1ZXN0PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJhc2U2NEVuY29kZShFSlNPTi5zdHJpbmdpZnkoYm9keSkpKSkpO1xuICAgICAgICByZXR1cm4gcmVxQnVpbGRlci5idWlsZCgpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRDYWxsU2VydmljZUZ1bmN0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIHZhciBib2R5ID0geyBuYW1lOiBuYW1lIH07XG4gICAgICAgIGlmICh0aGlzLnNlcnZpY2VOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbdGhpcy5zZXJ2aWNlRmllbGRdID0gdGhpcy5zZXJ2aWNlTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBib2R5W3RoaXMuYXJndW1lbnRzRmllbGRdID0gYXJncztcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoQXV0aERvY1JlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuUE9TVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLnNlcnZpY2VSb3V0ZXMuZnVuY3Rpb25DYWxsUm91dGUpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhEb2N1bWVudChib2R5KTtcbiAgICAgICAgcmV0dXJuIHJlcUJ1aWxkZXIuYnVpbGQoKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUuY2xvc2VBbGxvY2F0ZWRTdHJlYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFsbG9jYXRlZFN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFsbG9jYXRlZFN0cmVhbXMgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/CoreStitchServiceClientImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/RebindEvent.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/RebindEvent.js ***!
  \****************************************************************************************/
/*! exports provided: RebindEvent, RebindEventType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RebindEvent\", function() { return RebindEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RebindEventType\", function() { return RebindEventType; });\nvar RebindEvent = (function () {\n    function RebindEvent() {\n    }\n    return RebindEvent;\n}());\n\nvar RebindEventType;\n(function (RebindEventType) {\n    RebindEventType[RebindEventType[\"AUTH_EVENT\"] = 0] = \"AUTH_EVENT\";\n})(RebindEventType || (RebindEventType = {}));\n//# sourceMappingURL=RebindEvent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL1JlYmluZEV2ZW50LmpzPzQzMWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ3NCO0FBQ2hCO0FBQ1A7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL1JlYmluZEV2ZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYmluZEV2ZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWJpbmRFdmVudCgpIHtcbiAgICB9XG4gICAgcmV0dXJuIFJlYmluZEV2ZW50O1xufSgpKTtcbmV4cG9ydCB7IFJlYmluZEV2ZW50IH07XG5leHBvcnQgdmFyIFJlYmluZEV2ZW50VHlwZTtcbihmdW5jdGlvbiAoUmViaW5kRXZlbnRUeXBlKSB7XG4gICAgUmViaW5kRXZlbnRUeXBlW1JlYmluZEV2ZW50VHlwZVtcIkFVVEhfRVZFTlRcIl0gPSAwXSA9IFwiQVVUSF9FVkVOVFwiO1xufSkoUmViaW5kRXZlbnRUeXBlIHx8IChSZWJpbmRFdmVudFR5cGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmViaW5kRXZlbnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/RebindEvent.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/StitchServiceRoutes.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/StitchServiceRoutes.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_net_StitchRoutes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../internal/net/StitchRoutes */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/internal/net/StitchRoutes.js\");\n\nvar StitchServiceRoutes = (function () {\n    function StitchServiceRoutes(clientAppId) {\n        this.clientAppId = clientAppId;\n        this.functionCallRoute = Object(_internal_net_StitchRoutes__WEBPACK_IMPORTED_MODULE_0__[\"getFunctionCallRoute\"])(clientAppId);\n    }\n    return StitchServiceRoutes;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (StitchServiceRoutes);\n//# sourceMappingURL=StitchServiceRoutes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL1N0aXRjaFNlcnZpY2VSb3V0ZXMuanM/ODk0MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQXVFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1RkFBb0I7QUFDckQ7QUFDQTtBQUNBLENBQUM7QUFDYyxrRkFBbUIsRUFBQztBQUNuQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9zZXJ2aWNlcy9pbnRlcm5hbC9TdGl0Y2hTZXJ2aWNlUm91dGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RnVuY3Rpb25DYWxsUm91dGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvbmV0L1N0aXRjaFJvdXRlc1wiO1xudmFyIFN0aXRjaFNlcnZpY2VSb3V0ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFNlcnZpY2VSb3V0ZXMoY2xpZW50QXBwSWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnRBcHBJZCA9IGNsaWVudEFwcElkO1xuICAgICAgICB0aGlzLmZ1bmN0aW9uQ2FsbFJvdXRlID0gZ2V0RnVuY3Rpb25DYWxsUm91dGUoY2xpZW50QXBwSWQpO1xuICAgIH1cbiAgICByZXR1cm4gU3RpdGNoU2VydmljZVJvdXRlcztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hTZXJ2aWNlUm91dGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoU2VydmljZVJvdXRlcy5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-sdk/dist/esm/services/internal/StitchServiceRoutes.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/OperationType.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/OperationType.js ***!
  \********************************************************************************************/
/*! exports provided: OperationType, operationTypeFromRemote */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OperationType\", function() { return OperationType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"operationTypeFromRemote\", function() { return operationTypeFromRemote; });\nvar OperationType;\n(function (OperationType) {\n    OperationType[\"Insert\"] = \"insert\";\n    OperationType[\"Delete\"] = \"delete\";\n    OperationType[\"Replace\"] = \"replace\";\n    OperationType[\"Update\"] = \"update\";\n    OperationType[\"Unknown\"] = \"unknown\";\n})(OperationType || (OperationType = {}));\nfunction operationTypeFromRemote(type) {\n    switch (type) {\n        case \"insert\":\n            return OperationType.Insert;\n        case \"delete\":\n            return OperationType.Delete;\n        case \"replace\":\n            return OperationType.Replace;\n        case \"update\":\n            return OperationType.Update;\n        default:\n            return OperationType.Unknown;\n    }\n}\n//# sourceMappingURL=OperationType.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vT3BlcmF0aW9uVHlwZS5qcz81ZmQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDaEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vT3BlcmF0aW9uVHlwZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgT3BlcmF0aW9uVHlwZTtcbihmdW5jdGlvbiAoT3BlcmF0aW9uVHlwZSkge1xuICAgIE9wZXJhdGlvblR5cGVbXCJJbnNlcnRcIl0gPSBcImluc2VydFwiO1xuICAgIE9wZXJhdGlvblR5cGVbXCJEZWxldGVcIl0gPSBcImRlbGV0ZVwiO1xuICAgIE9wZXJhdGlvblR5cGVbXCJSZXBsYWNlXCJdID0gXCJyZXBsYWNlXCI7XG4gICAgT3BlcmF0aW9uVHlwZVtcIlVwZGF0ZVwiXSA9IFwidXBkYXRlXCI7XG4gICAgT3BlcmF0aW9uVHlwZVtcIlVua25vd25cIl0gPSBcInVua25vd25cIjtcbn0pKE9wZXJhdGlvblR5cGUgfHwgKE9wZXJhdGlvblR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGlvblR5cGVGcm9tUmVtb3RlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImluc2VydFwiOlxuICAgICAgICAgICAgcmV0dXJuIE9wZXJhdGlvblR5cGUuSW5zZXJ0O1xuICAgICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5EZWxldGU7XG4gICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5SZXBsYWNlO1xuICAgICAgICBjYXNlIFwidXBkYXRlXCI6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5VcGRhdGU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5Vbmtub3duO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZXJhdGlvblR5cGUuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/OperationType.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/RemoteInsertManyResult.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/RemoteInsertManyResult.js ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar RemoteInsertManyResult = (function () {\n    function RemoteInsertManyResult(arr) {\n        var inserted = {};\n        arr.forEach(function (value, index) {\n            inserted[index] = value;\n        });\n        this.insertedIds = inserted;\n    }\n    return RemoteInsertManyResult;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoteInsertManyResult);\n//# sourceMappingURL=RemoteInsertManyResult.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlSW5zZXJ0TWFueVJlc3VsdC5qcz80ZDM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MscUZBQXNCLEVBQUM7QUFDdEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZS9kaXN0L2VzbS9SZW1vdGVJbnNlcnRNYW55UmVzdWx0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlbW90ZUluc2VydE1hbnlSZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbW90ZUluc2VydE1hbnlSZXN1bHQoYXJyKSB7XG4gICAgICAgIHZhciBpbnNlcnRlZCA9IHt9O1xuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICBpbnNlcnRlZFtpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0ZWRJZHMgPSBpbnNlcnRlZDtcbiAgICB9XG4gICAgcmV0dXJuIFJlbW90ZUluc2VydE1hbnlSZXN1bHQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbW90ZUluc2VydE1hbnlSZXN1bHQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/RemoteInsertManyResult.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/index.js ***!
  \************************************************************************************/
/*! exports provided: CoreRemoteMongoClientImpl, CoreRemoteMongoCollectionImpl, CoreRemoteMongoDatabaseImpl, CoreRemoteMongoReadOperation, RemoteInsertManyResult, OperationType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_CoreRemoteMongoClientImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/CoreRemoteMongoClientImpl */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoClientImpl.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreRemoteMongoClientImpl\", function() { return _internal_CoreRemoteMongoClientImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _internal_CoreRemoteMongoCollectionImpl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/CoreRemoteMongoCollectionImpl */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoCollectionImpl.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreRemoteMongoCollectionImpl\", function() { return _internal_CoreRemoteMongoCollectionImpl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _internal_CoreRemoteMongoDatabaseImpl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/CoreRemoteMongoDatabaseImpl */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoDatabaseImpl.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreRemoteMongoDatabaseImpl\", function() { return _internal_CoreRemoteMongoDatabaseImpl__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _internal_CoreRemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/CoreRemoteMongoReadOperation */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoReadOperation.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CoreRemoteMongoReadOperation\", function() { return _internal_CoreRemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _OperationType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OperationType */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/OperationType.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"OperationType\", function() { return _OperationType__WEBPACK_IMPORTED_MODULE_4__[\"OperationType\"]; });\n\n/* harmony import */ var _RemoteInsertManyResult__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RemoteInsertManyResult */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/RemoteInsertManyResult.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RemoteInsertManyResult\", function() { return _RemoteInsertManyResult__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW5kZXguanM/OTExMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE2RTtBQUNRO0FBQ0o7QUFDRTtBQUNuQztBQUNjO0FBQ3dHO0FBQ3RLIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29yZVJlbW90ZU1vbmdvQ2xpZW50SW1wbCBmcm9tIFwiLi9pbnRlcm5hbC9Db3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsXCI7XG5pbXBvcnQgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwgZnJvbSBcIi4vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGxcIjtcbmltcG9ydCBDb3JlUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwgZnJvbSBcIi4vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsXCI7XG5pbXBvcnQgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbiBmcm9tIFwiLi9pbnRlcm5hbC9Db3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uXCI7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSBcIi4vT3BlcmF0aW9uVHlwZVwiO1xuaW1wb3J0IFJlbW90ZUluc2VydE1hbnlSZXN1bHQgZnJvbSBcIi4vUmVtb3RlSW5zZXJ0TWFueVJlc3VsdFwiO1xuZXhwb3J0IHsgQ29yZVJlbW90ZU1vbmdvQ2xpZW50SW1wbCwgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwsIENvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbCwgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbiwgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdCwgT3BlcmF0aW9uVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoClientImpl.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoClientImpl.js ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CoreRemoteMongoDatabaseImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CoreRemoteMongoDatabaseImpl */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoDatabaseImpl.js\");\n\nvar CoreRemoteMongoClientImpl = (function () {\n    function CoreRemoteMongoClientImpl(service) {\n        this.service = service;\n    }\n    CoreRemoteMongoClientImpl.prototype.db = function (name) {\n        return new _CoreRemoteMongoDatabaseImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](name, this.service);\n    };\n    return CoreRemoteMongoClientImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreRemoteMongoClientImpl);\n//# sourceMappingURL=CoreRemoteMongoClientImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvQ2xpZW50SW1wbC5qcz9jYzk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBd0U7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvRUFBMkI7QUFDOUM7QUFDQTtBQUNBLENBQUM7QUFDYyx3RkFBeUIsRUFBQztBQUN6QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNlcnZpY2VzLW1vbmdvZGItcmVtb3RlL2Rpc3QvZXNtL2ludGVybmFsL0NvcmVSZW1vdGVNb25nb0NsaWVudEltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsIGZyb20gXCIuL0NvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbFwiO1xudmFyIENvcmVSZW1vdGVNb25nb0NsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVSZW1vdGVNb25nb0NsaWVudEltcGwoc2VydmljZSkge1xuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIH1cbiAgICBDb3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsLnByb3RvdHlwZS5kYiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsKG5hbWUsIHRoaXMuc2VydmljZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVJlbW90ZU1vbmdvQ2xpZW50SW1wbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBDb3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVJlbW90ZU1vbmdvQ2xpZW50SW1wbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoClientImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoCollectionImpl.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoCollectionImpl.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var bson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson */ \"./node_modules/bson/dist/bson.browser.esm.js\");\n/* harmony import */ var _CoreRemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CoreRemoteMongoReadOperation */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoReadOperation.js\");\n/* harmony import */ var _ResultDecoders__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResultDecoders */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/ResultDecoders.js\");\nvar __assign = (undefined && undefined.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\n\n\n\nvar CoreRemoteMongoCollectionImpl = (function () {\n    function CoreRemoteMongoCollectionImpl(name, databaseName, service, codec) {\n        var _this = this;\n        this.name = name;\n        this.databaseName = databaseName;\n        this.service = service;\n        this.codec = codec;\n        this.namespace = this.databaseName + \".\" + this.name;\n        this.baseOperationArgs = (function () { return ({\n            collection: _this.name,\n            database: _this.databaseName\n        }); })();\n    }\n    CoreRemoteMongoCollectionImpl.prototype.withCollectionType = function (codec) {\n        return new CoreRemoteMongoCollectionImpl(this.name, this.databaseName, this.service, codec);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.find = function (filter, options) {\n        if (filter === void 0) { filter = {}; }\n        var args = __assign({}, this.baseOperationArgs);\n        args.query = filter;\n        if (options) {\n            if (options.limit) {\n                args.limit = options.limit;\n            }\n            if (options.projection) {\n                args.project = options.projection;\n            }\n            if (options.sort) {\n                args.sort = options.sort;\n            }\n        }\n        return new _CoreRemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"find\", args, this.service, this.codec);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.findOne = function (filter, options) {\n        if (filter === void 0) { filter = {}; }\n        var args = __assign({}, this.baseOperationArgs);\n        args.query = filter;\n        if (options) {\n            if (options.projection) {\n                args.project = options.projection;\n            }\n            if (options.sort) {\n                args.sort = options.sort;\n            }\n        }\n        return this.service.callFunction(\"findOne\", [args], this.codec);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.findOneAndUpdate = function (filter, update, options) {\n        var args = __assign({}, this.baseOperationArgs);\n        args.filter = filter;\n        args.update = update;\n        if (options) {\n            if (options.projection) {\n                args.projection = options.projection;\n            }\n            if (options.sort) {\n                args.sort = options.sort;\n            }\n            if (options.upsert) {\n                args.upsert = true;\n            }\n            if (options.returnNewDocument) {\n                args.returnNewDocument = true;\n            }\n        }\n        return this.service.callFunction(\"findOneAndUpdate\", [args], this.codec);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.findOneAndReplace = function (filter, replacement, options) {\n        var args = __assign({}, this.baseOperationArgs);\n        args.filter = filter;\n        args.update = replacement;\n        if (options) {\n            if (options.projection) {\n                args.projection = options.projection;\n            }\n            if (options.sort) {\n                args.sort = options.sort;\n            }\n            if (options.upsert) {\n                args.upsert = true;\n            }\n            if (options.returnNewDocument) {\n                args.returnNewDocument = true;\n            }\n        }\n        return this.service.callFunction(\"findOneAndReplace\", [args], this.codec);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.findOneAndDelete = function (filter, options) {\n        var args = __assign({}, this.baseOperationArgs);\n        args.filter = filter;\n        if (options) {\n            if (options.projection) {\n                args.projection = options.projection;\n            }\n            if (options.sort) {\n                args.sort = options.sort;\n            }\n        }\n        return this.service.callFunction(\"findOneAndDelete\", [args], this.codec);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.aggregate = function (pipeline) {\n        var args = __assign({}, this.baseOperationArgs);\n        args.pipeline = pipeline;\n        return new _CoreRemoteMongoReadOperation__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"aggregate\", args, this.service, this.codec);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.count = function (query, options) {\n        if (query === void 0) { query = {}; }\n        var args = __assign({}, this.baseOperationArgs);\n        args.query = query;\n        if (options && options.limit) {\n            args.limit = options.limit;\n        }\n        return this.service.callFunction(\"count\", [args]);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.insertOne = function (value) {\n        var args = __assign({}, this.baseOperationArgs);\n        args.document = this.generateObjectIdIfMissing(this.codec ? this.codec.encode(value) : value);\n        return this.service.callFunction(\"insertOne\", [args], _ResultDecoders__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remoteInsertOneResultDecoder);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.insertMany = function (docs) {\n        var _this = this;\n        var args = __assign({}, this.baseOperationArgs);\n        args.documents = docs.map(function (doc) {\n            return _this.generateObjectIdIfMissing(_this.codec ? _this.codec.encode(doc) : doc);\n        });\n        return this.service.callFunction(\"insertMany\", [args], _ResultDecoders__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remoteInsertManyResultDecoder);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.deleteOne = function (query) {\n        return this.executeDelete(query, false);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.deleteMany = function (query) {\n        return this.executeDelete(query, true);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.updateOne = function (query, update, options) {\n        return this.executeUpdate(query, update, options, false);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.updateMany = function (query, update, options) {\n        return this.executeUpdate(query, update, options, true);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.watch = function (arg) {\n        var args = __assign({}, this.baseOperationArgs);\n        if (arg !== undefined) {\n            if (arg instanceof Array) {\n                if (arg.length !== 0) {\n                    args.ids = arg;\n                }\n            }\n            else if (arg instanceof Object) {\n                args.filter = arg;\n            }\n        }\n        args.useCompactEvents = false;\n        return this.service.streamFunction(\"watch\", [args], new _ResultDecoders__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ChangeEventDecoder(this.codec));\n    };\n    CoreRemoteMongoCollectionImpl.prototype.watchCompact = function (ids) {\n        var args = __assign({}, this.baseOperationArgs);\n        args.ids = ids;\n        args.useCompactEvents = true;\n        return this.service.streamFunction(\"watch\", [args], new _ResultDecoders__WEBPACK_IMPORTED_MODULE_2__[\"default\"].CompactChangeEventDecoder(this.codec));\n    };\n    CoreRemoteMongoCollectionImpl.prototype.executeDelete = function (query, multi) {\n        var args = __assign({}, this.baseOperationArgs);\n        args.query = query;\n        return this.service.callFunction(multi ? \"deleteMany\" : \"deleteOne\", [args], _ResultDecoders__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remoteDeleteResultDecoder);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.executeUpdate = function (query, update, options, multi) {\n        if (multi === void 0) { multi = false; }\n        var args = __assign({}, this.baseOperationArgs);\n        args.query = query;\n        args.update = update;\n        if (options && options.upsert) {\n            args.upsert = options.upsert;\n        }\n        return this.service.callFunction(multi ? \"updateMany\" : \"updateOne\", [args], _ResultDecoders__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remoteUpdateResultDecoder);\n    };\n    CoreRemoteMongoCollectionImpl.prototype.generateObjectIdIfMissing = function (doc) {\n        if (!doc._id) {\n            var newDoc = doc;\n            newDoc._id = new bson__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ObjectID();\n            return newDoc;\n        }\n        return doc;\n    };\n    return CoreRemoteMongoCollectionImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreRemoteMongoCollectionImpl);\n//# sourceMappingURL=CoreRemoteMongoCollectionImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwuanM/NTNkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1Qiw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDd0I7QUFDa0Q7QUFDNUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0EsU0FBUyxFQUFFLEVBQUU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0MsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxRUFBNEI7QUFDL0M7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0EsbUJBQW1CLHFFQUE0QjtBQUMvQztBQUNBO0FBQ0EsK0JBQStCLFlBQVk7QUFDM0MsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0EsOERBQThELHVEQUFjO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNULCtEQUErRCx1REFBYztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsdURBQWM7QUFDOUU7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsZ0VBQWdFLHVEQUFjO0FBQzlFO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQSxxRkFBcUYsdURBQWM7QUFDbkc7QUFDQTtBQUNBLCtCQUErQixlQUFlO0FBQzlDLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLHVEQUFjO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRDQUFJO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsNEZBQTZCLEVBQUM7QUFDN0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZS9kaXN0L2VzbS9pbnRlcm5hbC9Db3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IEJTT04gZnJvbSBcImJzb25cIjtcbmltcG9ydCBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uIGZyb20gXCIuL0NvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb25cIjtcbmltcG9ydCBSZXN1bHREZWNvZGVycyBmcm9tIFwiLi9SZXN1bHREZWNvZGVyc1wiO1xudmFyIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbChuYW1lLCBkYXRhYmFzZU5hbWUsIHNlcnZpY2UsIGNvZGVjKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VOYW1lID0gZGF0YWJhc2VOYW1lO1xuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgICAgICB0aGlzLmNvZGVjID0gY29kZWM7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gdGhpcy5kYXRhYmFzZU5hbWUgKyBcIi5cIiArIHRoaXMubmFtZTtcbiAgICAgICAgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgY29sbGVjdGlvbjogX3RoaXMubmFtZSxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBfdGhpcy5kYXRhYmFzZU5hbWVcbiAgICAgICAgfSk7IH0pKCk7XG4gICAgfVxuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS53aXRoQ29sbGVjdGlvblR5cGUgPSBmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbCh0aGlzLm5hbWUsIHRoaXMuZGF0YWJhc2VOYW1lLCB0aGlzLnNlcnZpY2UsIGNvZGVjKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGZpbHRlciwgb3B0aW9ucykge1xuICAgICAgICBpZiAoZmlsdGVyID09PSB2b2lkIDApIHsgZmlsdGVyID0ge307IH1cbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MucXVlcnkgPSBmaWx0ZXI7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIGFyZ3MubGltaXQgPSBvcHRpb25zLmxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGFyZ3MucHJvamVjdCA9IG9wdGlvbnMucHJvamVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnNvcnQgPSBvcHRpb25zLnNvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uKFwiZmluZFwiLCBhcmdzLCB0aGlzLnNlcnZpY2UsIHRoaXMuY29kZWMpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmZpbmRPbmUgPSBmdW5jdGlvbiAoZmlsdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChmaWx0ZXIgPT09IHZvaWQgMCkgeyBmaWx0ZXIgPSB7fTsgfVxuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5xdWVyeSA9IGZpbHRlcjtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzLnByb2plY3QgPSBvcHRpb25zLnByb2plY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgICAgICAgICAgYXJncy5zb3J0ID0gb3B0aW9ucy5zb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuY2FsbEZ1bmN0aW9uKFwiZmluZE9uZVwiLCBbYXJnc10sIHRoaXMuY29kZWMpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmZpbmRPbmVBbmRVcGRhdGUgPSBmdW5jdGlvbiAoZmlsdGVyLCB1cGRhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICBhcmdzLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzLnByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgICAgICAgICAgYXJncy5zb3J0ID0gb3B0aW9ucy5zb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXBzZXJ0KSB7XG4gICAgICAgICAgICAgICAgYXJncy51cHNlcnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmV0dXJuTmV3RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnJldHVybk5ld0RvY3VtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmNhbGxGdW5jdGlvbihcImZpbmRPbmVBbmRVcGRhdGVcIiwgW2FyZ3NdLCB0aGlzLmNvZGVjKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5maW5kT25lQW5kUmVwbGFjZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHJlcGxhY2VtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLmZpbHRlciA9IGZpbHRlcjtcbiAgICAgICAgYXJncy51cGRhdGUgPSByZXBsYWNlbWVudDtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzLnByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgICAgICAgICAgYXJncy5zb3J0ID0gb3B0aW9ucy5zb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXBzZXJ0KSB7XG4gICAgICAgICAgICAgICAgYXJncy51cHNlcnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmV0dXJuTmV3RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnJldHVybk5ld0RvY3VtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmNhbGxGdW5jdGlvbihcImZpbmRPbmVBbmRSZXBsYWNlXCIsIFthcmdzXSwgdGhpcy5jb2RlYyk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZmluZE9uZUFuZERlbGV0ZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGFyZ3MucHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnNvcnQgPSBvcHRpb25zLnNvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5jYWxsRnVuY3Rpb24oXCJmaW5kT25lQW5kRGVsZXRlXCIsIFthcmdzXSwgdGhpcy5jb2RlYyk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuYWdncmVnYXRlID0gZnVuY3Rpb24gKHBpcGVsaW5lKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLnBpcGVsaW5lID0gcGlwZWxpbmU7XG4gICAgICAgIHJldHVybiBuZXcgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbihcImFnZ3JlZ2F0ZVwiLCBhcmdzLCB0aGlzLnNlcnZpY2UsIHRoaXMuY29kZWMpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChxdWVyeSA9PT0gdm9pZCAwKSB7IHF1ZXJ5ID0ge307IH1cbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgYXJncy5saW1pdCA9IG9wdGlvbnMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5jYWxsRnVuY3Rpb24oXCJjb3VudFwiLCBbYXJnc10pO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmluc2VydE9uZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5kb2N1bWVudCA9IHRoaXMuZ2VuZXJhdGVPYmplY3RJZElmTWlzc2luZyh0aGlzLmNvZGVjID8gdGhpcy5jb2RlYy5lbmNvZGUodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmNhbGxGdW5jdGlvbihcImluc2VydE9uZVwiLCBbYXJnc10sIFJlc3VsdERlY29kZXJzLnJlbW90ZUluc2VydE9uZVJlc3VsdERlY29kZXIpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmluc2VydE1hbnkgPSBmdW5jdGlvbiAoZG9jcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5kb2N1bWVudHMgPSBkb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2VuZXJhdGVPYmplY3RJZElmTWlzc2luZyhfdGhpcy5jb2RlYyA/IF90aGlzLmNvZGVjLmVuY29kZShkb2MpIDogZG9jKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuY2FsbEZ1bmN0aW9uKFwiaW5zZXJ0TWFueVwiLCBbYXJnc10sIFJlc3VsdERlY29kZXJzLnJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5kZWxldGVPbmUgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZURlbGV0ZShxdWVyeSwgZmFsc2UpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmRlbGV0ZU1hbnkgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZURlbGV0ZShxdWVyeSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUudXBkYXRlT25lID0gZnVuY3Rpb24gKHF1ZXJ5LCB1cGRhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVVwZGF0ZShxdWVyeSwgdXBkYXRlLCBvcHRpb25zLCBmYWxzZSk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUudXBkYXRlTWFueSA9IGZ1bmN0aW9uIChxdWVyeSwgdXBkYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVVcGRhdGUocXVlcnksIHVwZGF0ZSwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuaWRzID0gYXJnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGFyZ3MuZmlsdGVyID0gYXJnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3MudXNlQ29tcGFjdEV2ZW50cyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLnN0cmVhbUZ1bmN0aW9uKFwid2F0Y2hcIiwgW2FyZ3NdLCBuZXcgUmVzdWx0RGVjb2RlcnMuQ2hhbmdlRXZlbnREZWNvZGVyKHRoaXMuY29kZWMpKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS53YXRjaENvbXBhY3QgPSBmdW5jdGlvbiAoaWRzKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLmlkcyA9IGlkcztcbiAgICAgICAgYXJncy51c2VDb21wYWN0RXZlbnRzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5zdHJlYW1GdW5jdGlvbihcIndhdGNoXCIsIFthcmdzXSwgbmV3IFJlc3VsdERlY29kZXJzLkNvbXBhY3RDaGFuZ2VFdmVudERlY29kZXIodGhpcy5jb2RlYykpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmV4ZWN1dGVEZWxldGUgPSBmdW5jdGlvbiAocXVlcnksIG11bHRpKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuY2FsbEZ1bmN0aW9uKG11bHRpID8gXCJkZWxldGVNYW55XCIgOiBcImRlbGV0ZU9uZVwiLCBbYXJnc10sIFJlc3VsdERlY29kZXJzLnJlbW90ZURlbGV0ZVJlc3VsdERlY29kZXIpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmV4ZWN1dGVVcGRhdGUgPSBmdW5jdGlvbiAocXVlcnksIHVwZGF0ZSwgb3B0aW9ucywgbXVsdGkpIHtcbiAgICAgICAgaWYgKG11bHRpID09PSB2b2lkIDApIHsgbXVsdGkgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICBhcmdzLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy51cHNlcnQpIHtcbiAgICAgICAgICAgIGFyZ3MudXBzZXJ0ID0gb3B0aW9ucy51cHNlcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5jYWxsRnVuY3Rpb24obXVsdGkgPyBcInVwZGF0ZU1hbnlcIiA6IFwidXBkYXRlT25lXCIsIFthcmdzXSwgUmVzdWx0RGVjb2RlcnMucmVtb3RlVXBkYXRlUmVzdWx0RGVjb2Rlcik7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZ2VuZXJhdGVPYmplY3RJZElmTWlzc2luZyA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgaWYgKCFkb2MuX2lkKSB7XG4gICAgICAgICAgICB2YXIgbmV3RG9jID0gZG9jO1xuICAgICAgICAgICAgbmV3RG9jLl9pZCA9IG5ldyBCU09OLk9iamVjdElEKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3RG9jO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2M7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoCollectionImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoDatabaseImpl.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoDatabaseImpl.js ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CoreRemoteMongoCollectionImpl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CoreRemoteMongoCollectionImpl */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoCollectionImpl.js\");\n\nvar CoreRemoteMongoDatabaseImpl = (function () {\n    function CoreRemoteMongoDatabaseImpl(name, service) {\n        this.name = name;\n        this.service = service;\n    }\n    CoreRemoteMongoDatabaseImpl.prototype.collection = function (name, codec) {\n        return new _CoreRemoteMongoCollectionImpl__WEBPACK_IMPORTED_MODULE_0__[\"default\"](name, this.name, this.service, codec);\n    };\n    return CoreRemoteMongoDatabaseImpl;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreRemoteMongoDatabaseImpl);\n//# sourceMappingURL=CoreRemoteMongoDatabaseImpl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsLmpzP2M5MTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0VBQTZCO0FBQ2hEO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsMEZBQTJCLEVBQUM7QUFDM0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZS9kaXN0L2VzbS9pbnRlcm5hbC9Db3JlUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwgZnJvbSBcIi4vQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGxcIjtcbnZhciBDb3JlUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbChuYW1lLCBzZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XG4gICAgfVxuICAgIENvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbC5wcm90b3R5cGUuY29sbGVjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBjb2RlYykge1xuICAgICAgICByZXR1cm4gbmV3IENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsKG5hbWUsIHRoaXMubmFtZSwgdGhpcy5zZXJ2aWNlLCBjb2RlYyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoDatabaseImpl.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoReadOperation.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoReadOperation.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CoreRemoteMongoReadOperation = (function () {\n    function CoreRemoteMongoReadOperation(command, args, service, decoder) {\n        this.command = command;\n        this.args = args;\n        this.service = service;\n        if (decoder) {\n            this.collectionDecoder = new (function () {\n                function class_1() {\n                }\n                class_1.prototype.decode = function (from) {\n                    if (from instanceof Array) {\n                        return from.map(function (t) { return decoder.decode(t); });\n                    }\n                    return [decoder.decode(from)];\n                };\n                return class_1;\n            }())();\n        }\n    }\n    CoreRemoteMongoReadOperation.prototype.iterator = function () {\n        return this.executeRead().then(function (res) { return res[Symbol.iterator](); });\n    };\n    CoreRemoteMongoReadOperation.prototype.first = function () {\n        return this.executeRead().then(function (res) { return res[0]; });\n    };\n    CoreRemoteMongoReadOperation.prototype.toArray = function () {\n        return this.executeRead();\n    };\n    CoreRemoteMongoReadOperation.prototype.asArray = function () {\n        return this.toArray();\n    };\n    CoreRemoteMongoReadOperation.prototype.executeRead = function () {\n        return this.service.callFunction(this.command, [this.args], this.collectionDecoder);\n    };\n    return CoreRemoteMongoReadOperation;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (CoreRemoteMongoReadOperation);\n//# sourceMappingURL=CoreRemoteMongoReadOperation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5qcz9hMDgyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwwQkFBMEIsRUFBRTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsK0JBQStCLEVBQUU7QUFDeEY7QUFDQTtBQUNBLHVEQUF1RCxlQUFlLEVBQUU7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDYywyRkFBNEIsRUFBQztBQUM1QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNlcnZpY2VzLW1vbmdvZGItcmVtb3RlL2Rpc3QvZXNtL2ludGVybmFsL0NvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbihjb21tYW5kLCBhcmdzLCBzZXJ2aWNlLCBkZWNvZGVyKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZCA9IGNvbW1hbmQ7XG4gICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XG4gICAgICAgIGlmIChkZWNvZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25EZWNvZGVyID0gbmV3IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb20gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20ubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiBkZWNvZGVyLmRlY29kZSh0KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtkZWNvZGVyLmRlY29kZShmcm9tKV07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NfMTtcbiAgICAgICAgICAgIH0oKSkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVJlYWQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0pO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZWFkKCkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXNbMF07IH0pO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVJlYWQoKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLmFzQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLmV4ZWN1dGVSZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmNhbGxGdW5jdGlvbih0aGlzLmNvbW1hbmQsIFt0aGlzLmFyZ3NdLCB0aGlzLmNvbGxlY3Rpb25EZWNvZGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/CoreRemoteMongoReadOperation.js\n");

/***/ }),

/***/ "./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/ResultDecoders.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/ResultDecoders.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb-stitch-core-sdk */ \"./node_modules/mongodb-stitch-core-sdk/dist/esm/index.js\");\n/* harmony import */ var _OperationType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../OperationType */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/OperationType.js\");\n/* harmony import */ var _RemoteInsertManyResult__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../RemoteInsertManyResult */ \"./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/RemoteInsertManyResult.js\");\n\n\n\nvar RemoteInsertManyResultFields;\n(function (RemoteInsertManyResultFields) {\n    RemoteInsertManyResultFields[\"InsertedIds\"] = \"insertedIds\";\n})(RemoteInsertManyResultFields || (RemoteInsertManyResultFields = {}));\nvar RemoteInsertOneResultFields;\n(function (RemoteInsertOneResultFields) {\n    RemoteInsertOneResultFields[\"InsertedId\"] = \"insertedId\";\n})(RemoteInsertOneResultFields || (RemoteInsertOneResultFields = {}));\nvar RemoteUpdateResultFields;\n(function (RemoteUpdateResultFields) {\n    RemoteUpdateResultFields[\"MatchedCount\"] = \"matchedCount\";\n    RemoteUpdateResultFields[\"ModifiedCount\"] = \"modifiedCount\";\n    RemoteUpdateResultFields[\"UpsertedId\"] = \"upsertedId\";\n})(RemoteUpdateResultFields || (RemoteUpdateResultFields = {}));\nvar RemoteDeleteResultFields;\n(function (RemoteDeleteResultFields) {\n    RemoteDeleteResultFields[\"DeletedCount\"] = \"deletedCount\";\n})(RemoteDeleteResultFields || (RemoteDeleteResultFields = {}));\nvar UpdateDescriptionFields;\n(function (UpdateDescriptionFields) {\n    UpdateDescriptionFields[\"UpdatedFields\"] = \"updatedFields\";\n    UpdateDescriptionFields[\"RemovedFields\"] = \"removedFields\";\n})(UpdateDescriptionFields || (UpdateDescriptionFields = {}));\nvar ChangeEventFields;\n(function (ChangeEventFields) {\n    ChangeEventFields[\"Id\"] = \"_id\";\n    ChangeEventFields[\"OperationType\"] = \"operationType\";\n    ChangeEventFields[\"FullDocument\"] = \"fullDocument\";\n    ChangeEventFields[\"DocumentKey\"] = \"documentKey\";\n    ChangeEventFields[\"Namespace\"] = \"ns\";\n    ChangeEventFields[\"NamespaceDb\"] = \"db\";\n    ChangeEventFields[\"NamespaceColl\"] = \"coll\";\n    ChangeEventFields[\"UpdateDescription\"] = \"updateDescription\";\n})(ChangeEventFields || (ChangeEventFields = {}));\nvar CompactChangeEventFields;\n(function (CompactChangeEventFields) {\n    CompactChangeEventFields[\"OperationType\"] = \"ot\";\n    CompactChangeEventFields[\"FullDocument\"] = \"fd\";\n    CompactChangeEventFields[\"DocumentKey\"] = \"dk\";\n    CompactChangeEventFields[\"UpdateDescription\"] = \"ud\";\n    CompactChangeEventFields[\"StitchDocumentVersion\"] = \"sdv\";\n    CompactChangeEventFields[\"StitchDocumentHash\"] = \"sdh\";\n})(CompactChangeEventFields || (CompactChangeEventFields = {}));\nvar RemoteInsertManyResultDecoder = (function () {\n    function RemoteInsertManyResultDecoder() {\n    }\n    RemoteInsertManyResultDecoder.prototype.decode = function (from) {\n        return new _RemoteInsertManyResult__WEBPACK_IMPORTED_MODULE_2__[\"default\"](from[RemoteInsertManyResultFields.InsertedIds]);\n    };\n    return RemoteInsertManyResultDecoder;\n}());\nvar RemoteInsertOneResultDecoder = (function () {\n    function RemoteInsertOneResultDecoder() {\n    }\n    RemoteInsertOneResultDecoder.prototype.decode = function (from) {\n        return {\n            insertedId: from[RemoteInsertOneResultFields.InsertedId]\n        };\n    };\n    return RemoteInsertOneResultDecoder;\n}());\nvar RemoteUpdateResultDecoder = (function () {\n    function RemoteUpdateResultDecoder() {\n    }\n    RemoteUpdateResultDecoder.prototype.decode = function (from) {\n        return {\n            matchedCount: from[RemoteUpdateResultFields.MatchedCount],\n            modifiedCount: from[RemoteUpdateResultFields.ModifiedCount],\n            upsertedId: from[RemoteUpdateResultFields.UpsertedId]\n        };\n    };\n    return RemoteUpdateResultDecoder;\n}());\nvar RemoteDeleteResultDecoder = (function () {\n    function RemoteDeleteResultDecoder() {\n    }\n    RemoteDeleteResultDecoder.prototype.decode = function (from) {\n        return {\n            deletedCount: from[RemoteDeleteResultFields.DeletedCount]\n        };\n    };\n    return RemoteDeleteResultDecoder;\n}());\nvar UpdateDescriptionDecoder = (function () {\n    function UpdateDescriptionDecoder() {\n    }\n    UpdateDescriptionDecoder.prototype.decode = function (from) {\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(UpdateDescriptionFields.UpdatedFields, from);\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(UpdateDescriptionFields.RemovedFields, from);\n        return {\n            removedFields: from[UpdateDescriptionFields.RemovedFields],\n            updatedFields: from[UpdateDescriptionFields.UpdatedFields],\n        };\n    };\n    return UpdateDescriptionDecoder;\n}());\nfunction decodeBaseChangeEventFields(from, updateDescriptionField, fullDocumentField, decoder) {\n    var updateDescription;\n    if (updateDescriptionField in from) {\n        updateDescription = ResultDecoders.updateDescriptionDecoder.decode(from[updateDescriptionField]);\n    }\n    else {\n        updateDescription = undefined;\n    }\n    var fullDocument;\n    if (fullDocumentField in from) {\n        fullDocument = from[fullDocumentField];\n        if (decoder) {\n            fullDocument = decoder.decode(fullDocument);\n        }\n    }\n    else {\n        fullDocument = undefined;\n    }\n    return { updateDescription: updateDescription, fullDocument: fullDocument };\n}\nvar ChangeEventDecoder = (function () {\n    function ChangeEventDecoder(decoder) {\n        this.decoder = decoder;\n    }\n    ChangeEventDecoder.prototype.decode = function (from) {\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(ChangeEventFields.Id, from);\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(ChangeEventFields.OperationType, from);\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(ChangeEventFields.Namespace, from);\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(ChangeEventFields.DocumentKey, from);\n        var nsDoc = from[ChangeEventFields.Namespace];\n        var _a = decodeBaseChangeEventFields(from, ChangeEventFields.UpdateDescription, ChangeEventFields.FullDocument, this.decoder), updateDescription = _a.updateDescription, fullDocument = _a.fullDocument;\n        return {\n            documentKey: from[ChangeEventFields.DocumentKey],\n            fullDocument: fullDocument,\n            id: from[ChangeEventFields.Id],\n            namespace: {\n                collection: nsDoc[ChangeEventFields.NamespaceColl],\n                database: nsDoc[ChangeEventFields.NamespaceDb]\n            },\n            operationType: Object(_OperationType__WEBPACK_IMPORTED_MODULE_1__[\"operationTypeFromRemote\"])(from[ChangeEventFields.OperationType]),\n            updateDescription: updateDescription\n        };\n    };\n    return ChangeEventDecoder;\n}());\nvar CompactChangeEventDecoder = (function () {\n    function CompactChangeEventDecoder(decoder) {\n        this.decoder = decoder;\n    }\n    CompactChangeEventDecoder.prototype.decode = function (from) {\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(CompactChangeEventFields.OperationType, from);\n        mongodb_stitch_core_sdk__WEBPACK_IMPORTED_MODULE_0__[\"Assertions\"].keyPresent(CompactChangeEventFields.DocumentKey, from);\n        var _a = decodeBaseChangeEventFields(from, CompactChangeEventFields.UpdateDescription, CompactChangeEventFields.FullDocument, this.decoder), updateDescription = _a.updateDescription, fullDocument = _a.fullDocument;\n        var stitchDocumentVersion;\n        if (CompactChangeEventFields.StitchDocumentVersion in from) {\n            stitchDocumentVersion = from[CompactChangeEventFields.StitchDocumentVersion];\n        }\n        else {\n            stitchDocumentVersion = undefined;\n        }\n        var stitchDocumentHash;\n        if (CompactChangeEventFields.StitchDocumentHash in from) {\n            stitchDocumentHash = from[CompactChangeEventFields.StitchDocumentHash];\n        }\n        else {\n            stitchDocumentHash = undefined;\n        }\n        return {\n            documentKey: from[CompactChangeEventFields.DocumentKey],\n            fullDocument: fullDocument,\n            operationType: Object(_OperationType__WEBPACK_IMPORTED_MODULE_1__[\"operationTypeFromRemote\"])(from[CompactChangeEventFields.OperationType]),\n            stitchDocumentHash: stitchDocumentHash,\n            stitchDocumentVersion: stitchDocumentVersion,\n            updateDescription: updateDescription,\n        };\n    };\n    return CompactChangeEventDecoder;\n}());\nvar ResultDecoders = (function () {\n    function ResultDecoders() {\n    }\n    ResultDecoders.remoteInsertManyResultDecoder = new RemoteInsertManyResultDecoder();\n    ResultDecoders.remoteInsertOneResultDecoder = new RemoteInsertOneResultDecoder();\n    ResultDecoders.remoteUpdateResultDecoder = new RemoteUpdateResultDecoder();\n    ResultDecoders.remoteDeleteResultDecoder = new RemoteDeleteResultDecoder();\n    ResultDecoders.updateDescriptionDecoder = new UpdateDescriptionDecoder();\n    ResultDecoders.ChangeEventDecoder = ChangeEventDecoder;\n    ResultDecoders.CompactChangeEventDecoder = CompactChangeEventDecoder;\n    return ResultDecoders;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResultDecoders);\n//# sourceMappingURL=ResultDecoders.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVzdWx0RGVjb2RlcnMuanM/MDU3ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFxRDtBQUNNO0FBQ0k7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvRUFBb0U7QUFDckU7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrRUFBa0U7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwREFBMEQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0REFBNEQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQXNCO0FBQ3pDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRUFBVTtBQUNsQixRQUFRLGtFQUFVO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRUFBVTtBQUNsQixRQUFRLGtFQUFVO0FBQ2xCLFFBQVEsa0VBQVU7QUFDbEIsUUFBUSxrRUFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMkJBQTJCLDhFQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRUFBVTtBQUNsQixRQUFRLGtFQUFVO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4RUFBdUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2MsNkVBQWMsRUFBQztBQUM5QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNlcnZpY2VzLW1vbmdvZGItcmVtb3RlL2Rpc3QvZXNtL2ludGVybmFsL1Jlc3VsdERlY29kZXJzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXNzZXJ0aW9ucyB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xuaW1wb3J0IHsgb3BlcmF0aW9uVHlwZUZyb21SZW1vdGUgfSBmcm9tIFwiLi4vT3BlcmF0aW9uVHlwZVwiO1xuaW1wb3J0IFJlbW90ZUluc2VydE1hbnlSZXN1bHQgZnJvbSBcIi4uL1JlbW90ZUluc2VydE1hbnlSZXN1bHRcIjtcbnZhciBSZW1vdGVJbnNlcnRNYW55UmVzdWx0RmllbGRzO1xuKGZ1bmN0aW9uIChSZW1vdGVJbnNlcnRNYW55UmVzdWx0RmllbGRzKSB7XG4gICAgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdEZpZWxkc1tcIkluc2VydGVkSWRzXCJdID0gXCJpbnNlcnRlZElkc1wiO1xufSkoUmVtb3RlSW5zZXJ0TWFueVJlc3VsdEZpZWxkcyB8fCAoUmVtb3RlSW5zZXJ0TWFueVJlc3VsdEZpZWxkcyA9IHt9KSk7XG52YXIgUmVtb3RlSW5zZXJ0T25lUmVzdWx0RmllbGRzO1xuKGZ1bmN0aW9uIChSZW1vdGVJbnNlcnRPbmVSZXN1bHRGaWVsZHMpIHtcbiAgICBSZW1vdGVJbnNlcnRPbmVSZXN1bHRGaWVsZHNbXCJJbnNlcnRlZElkXCJdID0gXCJpbnNlcnRlZElkXCI7XG59KShSZW1vdGVJbnNlcnRPbmVSZXN1bHRGaWVsZHMgfHwgKFJlbW90ZUluc2VydE9uZVJlc3VsdEZpZWxkcyA9IHt9KSk7XG52YXIgUmVtb3RlVXBkYXRlUmVzdWx0RmllbGRzO1xuKGZ1bmN0aW9uIChSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHMpIHtcbiAgICBSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHNbXCJNYXRjaGVkQ291bnRcIl0gPSBcIm1hdGNoZWRDb3VudFwiO1xuICAgIFJlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkc1tcIk1vZGlmaWVkQ291bnRcIl0gPSBcIm1vZGlmaWVkQ291bnRcIjtcbiAgICBSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHNbXCJVcHNlcnRlZElkXCJdID0gXCJ1cHNlcnRlZElkXCI7XG59KShSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHMgfHwgKFJlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkcyA9IHt9KSk7XG52YXIgUmVtb3RlRGVsZXRlUmVzdWx0RmllbGRzO1xuKGZ1bmN0aW9uIChSZW1vdGVEZWxldGVSZXN1bHRGaWVsZHMpIHtcbiAgICBSZW1vdGVEZWxldGVSZXN1bHRGaWVsZHNbXCJEZWxldGVkQ291bnRcIl0gPSBcImRlbGV0ZWRDb3VudFwiO1xufSkoUmVtb3RlRGVsZXRlUmVzdWx0RmllbGRzIHx8IChSZW1vdGVEZWxldGVSZXN1bHRGaWVsZHMgPSB7fSkpO1xudmFyIFVwZGF0ZURlc2NyaXB0aW9uRmllbGRzO1xuKGZ1bmN0aW9uIChVcGRhdGVEZXNjcmlwdGlvbkZpZWxkcykge1xuICAgIFVwZGF0ZURlc2NyaXB0aW9uRmllbGRzW1wiVXBkYXRlZEZpZWxkc1wiXSA9IFwidXBkYXRlZEZpZWxkc1wiO1xuICAgIFVwZGF0ZURlc2NyaXB0aW9uRmllbGRzW1wiUmVtb3ZlZEZpZWxkc1wiXSA9IFwicmVtb3ZlZEZpZWxkc1wiO1xufSkoVXBkYXRlRGVzY3JpcHRpb25GaWVsZHMgfHwgKFVwZGF0ZURlc2NyaXB0aW9uRmllbGRzID0ge30pKTtcbnZhciBDaGFuZ2VFdmVudEZpZWxkcztcbihmdW5jdGlvbiAoQ2hhbmdlRXZlbnRGaWVsZHMpIHtcbiAgICBDaGFuZ2VFdmVudEZpZWxkc1tcIklkXCJdID0gXCJfaWRcIjtcbiAgICBDaGFuZ2VFdmVudEZpZWxkc1tcIk9wZXJhdGlvblR5cGVcIl0gPSBcIm9wZXJhdGlvblR5cGVcIjtcbiAgICBDaGFuZ2VFdmVudEZpZWxkc1tcIkZ1bGxEb2N1bWVudFwiXSA9IFwiZnVsbERvY3VtZW50XCI7XG4gICAgQ2hhbmdlRXZlbnRGaWVsZHNbXCJEb2N1bWVudEtleVwiXSA9IFwiZG9jdW1lbnRLZXlcIjtcbiAgICBDaGFuZ2VFdmVudEZpZWxkc1tcIk5hbWVzcGFjZVwiXSA9IFwibnNcIjtcbiAgICBDaGFuZ2VFdmVudEZpZWxkc1tcIk5hbWVzcGFjZURiXCJdID0gXCJkYlwiO1xuICAgIENoYW5nZUV2ZW50RmllbGRzW1wiTmFtZXNwYWNlQ29sbFwiXSA9IFwiY29sbFwiO1xuICAgIENoYW5nZUV2ZW50RmllbGRzW1wiVXBkYXRlRGVzY3JpcHRpb25cIl0gPSBcInVwZGF0ZURlc2NyaXB0aW9uXCI7XG59KShDaGFuZ2VFdmVudEZpZWxkcyB8fCAoQ2hhbmdlRXZlbnRGaWVsZHMgPSB7fSkpO1xudmFyIENvbXBhY3RDaGFuZ2VFdmVudEZpZWxkcztcbihmdW5jdGlvbiAoQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzKSB7XG4gICAgQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzW1wiT3BlcmF0aW9uVHlwZVwiXSA9IFwib3RcIjtcbiAgICBDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHNbXCJGdWxsRG9jdW1lbnRcIl0gPSBcImZkXCI7XG4gICAgQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzW1wiRG9jdW1lbnRLZXlcIl0gPSBcImRrXCI7XG4gICAgQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzW1wiVXBkYXRlRGVzY3JpcHRpb25cIl0gPSBcInVkXCI7XG4gICAgQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzW1wiU3RpdGNoRG9jdW1lbnRWZXJzaW9uXCJdID0gXCJzZHZcIjtcbiAgICBDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHNbXCJTdGl0Y2hEb2N1bWVudEhhc2hcIl0gPSBcInNkaFwiO1xufSkoQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzIHx8IChDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMgPSB7fSkpO1xudmFyIFJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVJbnNlcnRNYW55UmVzdWx0RGVjb2RlcigpIHtcbiAgICB9XG4gICAgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdERlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdChmcm9tW1JlbW90ZUluc2VydE1hbnlSZXN1bHRGaWVsZHMuSW5zZXJ0ZWRJZHNdKTtcbiAgICB9O1xuICAgIHJldHVybiBSZW1vdGVJbnNlcnRNYW55UmVzdWx0RGVjb2Rlcjtcbn0oKSk7XG52YXIgUmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2RlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2RlcigpIHtcbiAgICB9XG4gICAgUmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluc2VydGVkSWQ6IGZyb21bUmVtb3RlSW5zZXJ0T25lUmVzdWx0RmllbGRzLkluc2VydGVkSWRdXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gUmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2Rlcjtcbn0oKSk7XG52YXIgUmVtb3RlVXBkYXRlUmVzdWx0RGVjb2RlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVtb3RlVXBkYXRlUmVzdWx0RGVjb2RlcigpIHtcbiAgICB9XG4gICAgUmVtb3RlVXBkYXRlUmVzdWx0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hdGNoZWRDb3VudDogZnJvbVtSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHMuTWF0Y2hlZENvdW50XSxcbiAgICAgICAgICAgIG1vZGlmaWVkQ291bnQ6IGZyb21bUmVtb3RlVXBkYXRlUmVzdWx0RmllbGRzLk1vZGlmaWVkQ291bnRdLFxuICAgICAgICAgICAgdXBzZXJ0ZWRJZDogZnJvbVtSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHMuVXBzZXJ0ZWRJZF1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBSZW1vdGVVcGRhdGVSZXN1bHREZWNvZGVyO1xufSgpKTtcbnZhciBSZW1vdGVEZWxldGVSZXN1bHREZWNvZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVEZWxldGVSZXN1bHREZWNvZGVyKCkge1xuICAgIH1cbiAgICBSZW1vdGVEZWxldGVSZXN1bHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVsZXRlZENvdW50OiBmcm9tW1JlbW90ZURlbGV0ZVJlc3VsdEZpZWxkcy5EZWxldGVkQ291bnRdXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gUmVtb3RlRGVsZXRlUmVzdWx0RGVjb2Rlcjtcbn0oKSk7XG52YXIgVXBkYXRlRGVzY3JpcHRpb25EZWNvZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVcGRhdGVEZXNjcmlwdGlvbkRlY29kZXIoKSB7XG4gICAgfVxuICAgIFVwZGF0ZURlc2NyaXB0aW9uRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KFVwZGF0ZURlc2NyaXB0aW9uRmllbGRzLlVwZGF0ZWRGaWVsZHMsIGZyb20pO1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoVXBkYXRlRGVzY3JpcHRpb25GaWVsZHMuUmVtb3ZlZEZpZWxkcywgZnJvbSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW1vdmVkRmllbGRzOiBmcm9tW1VwZGF0ZURlc2NyaXB0aW9uRmllbGRzLlJlbW92ZWRGaWVsZHNdLFxuICAgICAgICAgICAgdXBkYXRlZEZpZWxkczogZnJvbVtVcGRhdGVEZXNjcmlwdGlvbkZpZWxkcy5VcGRhdGVkRmllbGRzXSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBVcGRhdGVEZXNjcmlwdGlvbkRlY29kZXI7XG59KCkpO1xuZnVuY3Rpb24gZGVjb2RlQmFzZUNoYW5nZUV2ZW50RmllbGRzKGZyb20sIHVwZGF0ZURlc2NyaXB0aW9uRmllbGQsIGZ1bGxEb2N1bWVudEZpZWxkLCBkZWNvZGVyKSB7XG4gICAgdmFyIHVwZGF0ZURlc2NyaXB0aW9uO1xuICAgIGlmICh1cGRhdGVEZXNjcmlwdGlvbkZpZWxkIGluIGZyb20pIHtcbiAgICAgICAgdXBkYXRlRGVzY3JpcHRpb24gPSBSZXN1bHREZWNvZGVycy51cGRhdGVEZXNjcmlwdGlvbkRlY29kZXIuZGVjb2RlKGZyb21bdXBkYXRlRGVzY3JpcHRpb25GaWVsZF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdXBkYXRlRGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciBmdWxsRG9jdW1lbnQ7XG4gICAgaWYgKGZ1bGxEb2N1bWVudEZpZWxkIGluIGZyb20pIHtcbiAgICAgICAgZnVsbERvY3VtZW50ID0gZnJvbVtmdWxsRG9jdW1lbnRGaWVsZF07XG4gICAgICAgIGlmIChkZWNvZGVyKSB7XG4gICAgICAgICAgICBmdWxsRG9jdW1lbnQgPSBkZWNvZGVyLmRlY29kZShmdWxsRG9jdW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmdWxsRG9jdW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB7IHVwZGF0ZURlc2NyaXB0aW9uOiB1cGRhdGVEZXNjcmlwdGlvbiwgZnVsbERvY3VtZW50OiBmdWxsRG9jdW1lbnQgfTtcbn1cbnZhciBDaGFuZ2VFdmVudERlY29kZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYW5nZUV2ZW50RGVjb2RlcihkZWNvZGVyKSB7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IGRlY29kZXI7XG4gICAgfVxuICAgIENoYW5nZUV2ZW50RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KENoYW5nZUV2ZW50RmllbGRzLklkLCBmcm9tKTtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KENoYW5nZUV2ZW50RmllbGRzLk9wZXJhdGlvblR5cGUsIGZyb20pO1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoQ2hhbmdlRXZlbnRGaWVsZHMuTmFtZXNwYWNlLCBmcm9tKTtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KENoYW5nZUV2ZW50RmllbGRzLkRvY3VtZW50S2V5LCBmcm9tKTtcbiAgICAgICAgdmFyIG5zRG9jID0gZnJvbVtDaGFuZ2VFdmVudEZpZWxkcy5OYW1lc3BhY2VdO1xuICAgICAgICB2YXIgX2EgPSBkZWNvZGVCYXNlQ2hhbmdlRXZlbnRGaWVsZHMoZnJvbSwgQ2hhbmdlRXZlbnRGaWVsZHMuVXBkYXRlRGVzY3JpcHRpb24sIENoYW5nZUV2ZW50RmllbGRzLkZ1bGxEb2N1bWVudCwgdGhpcy5kZWNvZGVyKSwgdXBkYXRlRGVzY3JpcHRpb24gPSBfYS51cGRhdGVEZXNjcmlwdGlvbiwgZnVsbERvY3VtZW50ID0gX2EuZnVsbERvY3VtZW50O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9jdW1lbnRLZXk6IGZyb21bQ2hhbmdlRXZlbnRGaWVsZHMuRG9jdW1lbnRLZXldLFxuICAgICAgICAgICAgZnVsbERvY3VtZW50OiBmdWxsRG9jdW1lbnQsXG4gICAgICAgICAgICBpZDogZnJvbVtDaGFuZ2VFdmVudEZpZWxkcy5JZF0sXG4gICAgICAgICAgICBuYW1lc3BhY2U6IHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBuc0RvY1tDaGFuZ2VFdmVudEZpZWxkcy5OYW1lc3BhY2VDb2xsXSxcbiAgICAgICAgICAgICAgICBkYXRhYmFzZTogbnNEb2NbQ2hhbmdlRXZlbnRGaWVsZHMuTmFtZXNwYWNlRGJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3BlcmF0aW9uVHlwZTogb3BlcmF0aW9uVHlwZUZyb21SZW1vdGUoZnJvbVtDaGFuZ2VFdmVudEZpZWxkcy5PcGVyYXRpb25UeXBlXSksXG4gICAgICAgICAgICB1cGRhdGVEZXNjcmlwdGlvbjogdXBkYXRlRGVzY3JpcHRpb25cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBDaGFuZ2VFdmVudERlY29kZXI7XG59KCkpO1xudmFyIENvbXBhY3RDaGFuZ2VFdmVudERlY29kZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBhY3RDaGFuZ2VFdmVudERlY29kZXIoZGVjb2Rlcikge1xuICAgICAgICB0aGlzLmRlY29kZXIgPSBkZWNvZGVyO1xuICAgIH1cbiAgICBDb21wYWN0Q2hhbmdlRXZlbnREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLk9wZXJhdGlvblR5cGUsIGZyb20pO1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLkRvY3VtZW50S2V5LCBmcm9tKTtcbiAgICAgICAgdmFyIF9hID0gZGVjb2RlQmFzZUNoYW5nZUV2ZW50RmllbGRzKGZyb20sIENvbXBhY3RDaGFuZ2VFdmVudEZpZWxkcy5VcGRhdGVEZXNjcmlwdGlvbiwgQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLkZ1bGxEb2N1bWVudCwgdGhpcy5kZWNvZGVyKSwgdXBkYXRlRGVzY3JpcHRpb24gPSBfYS51cGRhdGVEZXNjcmlwdGlvbiwgZnVsbERvY3VtZW50ID0gX2EuZnVsbERvY3VtZW50O1xuICAgICAgICB2YXIgc3RpdGNoRG9jdW1lbnRWZXJzaW9uO1xuICAgICAgICBpZiAoQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLlN0aXRjaERvY3VtZW50VmVyc2lvbiBpbiBmcm9tKSB7XG4gICAgICAgICAgICBzdGl0Y2hEb2N1bWVudFZlcnNpb24gPSBmcm9tW0NvbXBhY3RDaGFuZ2VFdmVudEZpZWxkcy5TdGl0Y2hEb2N1bWVudFZlcnNpb25dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RpdGNoRG9jdW1lbnRWZXJzaW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGl0Y2hEb2N1bWVudEhhc2g7XG4gICAgICAgIGlmIChDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMuU3RpdGNoRG9jdW1lbnRIYXNoIGluIGZyb20pIHtcbiAgICAgICAgICAgIHN0aXRjaERvY3VtZW50SGFzaCA9IGZyb21bQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLlN0aXRjaERvY3VtZW50SGFzaF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGl0Y2hEb2N1bWVudEhhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvY3VtZW50S2V5OiBmcm9tW0NvbXBhY3RDaGFuZ2VFdmVudEZpZWxkcy5Eb2N1bWVudEtleV0sXG4gICAgICAgICAgICBmdWxsRG9jdW1lbnQ6IGZ1bGxEb2N1bWVudCxcbiAgICAgICAgICAgIG9wZXJhdGlvblR5cGU6IG9wZXJhdGlvblR5cGVGcm9tUmVtb3RlKGZyb21bQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLk9wZXJhdGlvblR5cGVdKSxcbiAgICAgICAgICAgIHN0aXRjaERvY3VtZW50SGFzaDogc3RpdGNoRG9jdW1lbnRIYXNoLFxuICAgICAgICAgICAgc3RpdGNoRG9jdW1lbnRWZXJzaW9uOiBzdGl0Y2hEb2N1bWVudFZlcnNpb24sXG4gICAgICAgICAgICB1cGRhdGVEZXNjcmlwdGlvbjogdXBkYXRlRGVzY3JpcHRpb24sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGFjdENoYW5nZUV2ZW50RGVjb2Rlcjtcbn0oKSk7XG52YXIgUmVzdWx0RGVjb2RlcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc3VsdERlY29kZXJzKCkge1xuICAgIH1cbiAgICBSZXN1bHREZWNvZGVycy5yZW1vdGVJbnNlcnRNYW55UmVzdWx0RGVjb2RlciA9IG5ldyBSZW1vdGVJbnNlcnRNYW55UmVzdWx0RGVjb2RlcigpO1xuICAgIFJlc3VsdERlY29kZXJzLnJlbW90ZUluc2VydE9uZVJlc3VsdERlY29kZXIgPSBuZXcgUmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2RlcigpO1xuICAgIFJlc3VsdERlY29kZXJzLnJlbW90ZVVwZGF0ZVJlc3VsdERlY29kZXIgPSBuZXcgUmVtb3RlVXBkYXRlUmVzdWx0RGVjb2RlcigpO1xuICAgIFJlc3VsdERlY29kZXJzLnJlbW90ZURlbGV0ZVJlc3VsdERlY29kZXIgPSBuZXcgUmVtb3RlRGVsZXRlUmVzdWx0RGVjb2RlcigpO1xuICAgIFJlc3VsdERlY29kZXJzLnVwZGF0ZURlc2NyaXB0aW9uRGVjb2RlciA9IG5ldyBVcGRhdGVEZXNjcmlwdGlvbkRlY29kZXIoKTtcbiAgICBSZXN1bHREZWNvZGVycy5DaGFuZ2VFdmVudERlY29kZXIgPSBDaGFuZ2VFdmVudERlY29kZXI7XG4gICAgUmVzdWx0RGVjb2RlcnMuQ29tcGFjdENoYW5nZUV2ZW50RGVjb2RlciA9IENvbXBhY3RDaGFuZ2VFdmVudERlY29kZXI7XG4gICAgcmV0dXJuIFJlc3VsdERlY29kZXJzO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlc3VsdERlY29kZXJzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzdWx0RGVjb2RlcnMuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mongodb-stitch-core-services-mongodb-remote/dist/esm/internal/ResultDecoders.js\n");

/***/ }),

/***/ "./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js":
/*!**********************************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals self */exports.Headers=self.Headers;exports.Request=self.Request;exports.Response=self.Response;exports.fetch=self.fetch;\n//# sourceMappingURL=whatwg-fetch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC9wb2x5ZmlsbHMvZmV0Y2gvd2hhdHdnLWZldGNoLmpzPzJiYWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWEsK0NBQStDLDZCQUE2QiwrQkFBK0I7QUFDeEgiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9mZXRjaC93aGF0d2ctZmV0Y2guanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjsvKiBnbG9iYWxzIHNlbGYgKi9leHBvcnRzLkhlYWRlcnM9c2VsZi5IZWFkZXJzO2V4cG9ydHMuUmVxdWVzdD1zZWxmLlJlcXVlc3Q7ZXhwb3J0cy5SZXNwb25zZT1zZWxmLlJlc3BvbnNlO2V4cG9ydHMuZmV0Y2g9c2VsZi5mZXRjaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdoYXR3Zy1mZXRjaC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/polyfills/fetch/whatwg-fetch.js\n");

/***/ }),

/***/ "./node_modules/node-libs-browser/node_modules/buffer/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/buffer/index.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nvar ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\")\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanM/MWMzNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFWTs7QUFFWixhQUFhLG1CQUFPLENBQUMsb0RBQVc7QUFDaEMsY0FBYyxtQkFBTyxDQUFDLGdEQUFTO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyxnREFBUzs7QUFFL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtREFBbUQ7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsdUNBQXVDLFNBQVM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGlCQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsRUFBRTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBLHFCQUFxQixlQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLFlBQVk7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/node-libs-browser/node_modules/buffer/index.js\n");

/***/ })

}]);